{"version":3,"sources":["webpack:///scripts.7d1e694e61eb53693832.js","webpack:///webpack/bootstrap 7d1e694e61eb53693832","webpack:///./src/js/services/API.js","webpack:///./src/js/services/DataStore.js","webpack:///./src/js/services/CustomEvent.js","webpack:///./src/js/PinPreview.js","webpack:///./src/js/services/Analytics.js","webpack:///./src/js/main.js","webpack:///./~/bullet-pubsub/dist/bullet.js","webpack:///./~/debounce/index.js","webpack:///./~/mousetrap/mousetrap.js","webpack:///./~/packing-ajax/index.js","webpack:///./~/type-of/index.js","webpack:///./src/js/services/AJAX.js","webpack:///./src/js/services/ErrorUtil.js","webpack:///./src/js/views/Application.js","webpack:///./src/js/views/Authorization.js","webpack:///./src/js/views/Sidebar.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","i","l","call","m","c","value","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","_interopRequireDefault","obj","default","_classCallCheck","instance","Constructor","TypeError","_extends","assign","target","arguments","length","source","key","_createClass","defineProperties","props","descriptor","writable","protoProps","staticProps","_AJAX","_AJAX2","_DataStore","_DataStore2","API","this","DataStore","Get","DATA__ACCESS_TOKEN","Promise","resolve","reject","PDK","init","appId","cookie","login","scope","_ref","session","setSession","AJAX","Post","data","then","catch","access_token","_ref2","sort","a","b","nameA","toUpperCase","nameB","window","localStorage","setItem","getItem","removeItem","_bulletPubsub","_bulletPubsub2","CustomEvent","eventName","callback","Bullet","on","off","once","undefined","trigger","_ErrorUtil","_ErrorUtil2","_Analytics","_Analytics2","_API","_API2","PinPreview","file","split","pop","join","actionMenuTrigger","querySelector","actionMenu","note","link","_this","addEventListener","e","isActionMenuVisible","hidePreviewActions","showPreviewActions","dataset","action","setNote","classList","add","remove","contains","pinned","template","document","getElementById","importNode","content","reader","FileReader","onload","theFile","previewContainer","previewImage","src","result","toggle","abort","readAsDataURL","_this2","imageData","board","pinError","CreatePin","image_base64","response","Analytics","PinCreated","err","ErrorUtil","Log","Error","error","severity","exception","metaData","details","FireEvent","event_category","shortcutName","featureName","eventAction","eventOptions","DATA__IS_ADMIN","gtag","_Authorization","_Authorization2","_Application","_Application2","_CustomEvent","_CustomEvent2","navigator","userAgent","indexOf","match","Authorization","Application","IsAuthenticated","bugsnagOptions","apiKey","appVersion","releaseStage","notifyReleaseStages","collectUserIp","location","origin","bugsnagClient","bugsnag","__WEBPACK_AMD_DEFINE_RESULT__","_typeof","Symbol","iterator","constructor","ParamCountError","methodName","expectedParamsString","paramCount","message","stack","ParamTypeError","parameterName","parameter","expectedType","EventNameLengthError","EventNamesArrayLengthError","UndeclaredEventError","UnmappedEventError","_runCallback","id","_mappings","callbacks","callbackObject","cb","_self","_cloneCallbacks","clonedCallbacks","callbackName","_deleteAllCallbackReferencesForEvent","_CALLBACK_NAMESPACE","totalEvents","_deleteAllCallbackReferences","_strictMode","_triggerAsync","_errors","events","_getMappings","clonedMappings","mapping","totalCallbacks","fn","callbackId","fnToRemove","replaceCallback","oldFn","newFn","replaceAllCallbacks","setTimeout","addEventName","addMultipleEventNames","eventNames","Array","currentEventName","removeEventName","getStrictMode","setStrictMode","useStrictMode","getTriggerAsync","setTriggerAsync","useAsync","func","wait","immediate","later","last","Date","now","timestamp","timeout","apply","context","args","debounced","callNow","clear","clearTimeout","flush","_addEvent","type","attachEvent","_characterFromEvent","character","String","fromCharCode","which","shiftKey","toLowerCase","_MAP","_KEYCODE_MAP","_modifiersMatch","modifiers1","modifiers2","_eventModifiers","modifiers","push","altKey","ctrlKey","metaKey","_preventDefault","preventDefault","returnValue","_stopPropagation","stopPropagation","cancelBubble","_isModifier","_getReverseMap","_REVERSE_MAP","_pickBestAction","_keysFromString","combination","replace","_getKeyInfo","keys","_SPECIAL_ALIASES","_SHIFT_MAP","_belongsTo","element","ancestor","parentNode","Mousetrap","targetElement","_resetSequences","doNotReset","activeSequences","_sequenceLevels","_nextExpectedAction","_getMatches","sequenceName","level","matches","self","_callbacks","seq","deleteCombo","combo","deleteSequence","splice","_fireCallback","sequence","stopCallback","srcElement","_handleKeyEvent","keyCode","_ignoreNextKeyup","handleKey","_resetSequenceTimer","_resetTimer","_bindSequence","_callbackAndReset","isFinal","wrappedCallback","nextAction","_bindSingle","_directMap","info","_ignoreNextKeypress","_handleKey","maxLevel","processedSequenceCallback","Math","max","ignoreThisKeypress","_bindMultiple","combinations","8","9","13","16","17","18","20","27","32","33","34","35","36","37","38","39","40","45","46","91","93","224","106","107","109","110","111","186","187","188","189","190","191","192","219","220","221","222","~","!","@","#","$","%","^","&","*","(",")","_","+",":","\"","<",">","?","|","option","command","return","escape","plus","mod","test","platform","toString","bind","unbind","reset","className","tagName","isContentEditable","addKeycodes","documentMousetrap","method","charAt","triggerAndReturn","triggerGlobal","settings","global","ajaxStart","ajax","active","ajaxStop","ajaxBeforeSend","xhr","beforeSend","ajaxSuccess","success","ajaxComplete","ajaxError","status","complete","empty","mimeToDataType","mime","htmlType","jsonType","scriptTypeRE","xmlTypeRE","appendQuery","url","query","serializeData","options","param","serialize","params","traditional","array","k","v","extend","slice","forEach","jsonpID","blankRE","crossDomain","RegExp","$2","host","dataType","hasPlaceholder","JSONP","abortTimeout","accepts","baseHeaders","protocol","$1","overrideMimeType","contentType","headers","onreadystatechange","readyState","getResponseHeader","responseText","eval","responseXML","JSON","parse","async","open","setRequestHeader","send","script","createElement","head","getElementsByTagName","documentElement","onerror","insertBefore","firstChild","XMLHttpRequest","json","xml","html","text","post","getJSON","encodeURIComponent","val","callee","ex","nodeType","_packingAjax","_packingAjax2","baseUrl","apiVersion","endpoint","_buildUrl","_fetch","notify","console","_PinPreview","_PinPreview2","_mousetrap","_mousetrap2","_debounce","_debounce2","_Sidebar","_Sidebar2","previewsPinsContainer","imageSelectContainer","pinsContainer","sendToPinterestButton","sendAllToBoardSelect","fileUploadInput","modalOverlay","userActionMenuToggle","userActionsContainer","refreshBoardsButtons","querySelectorAll","clearButtons","clearAllButtons","disconnectButtons","pinPreviews","sidebar","Sidebar","showApplicationContainer","attachListeners","createKeyboardShortcuts","toggleActionMenu","loadBoards","boards","populateBoardNames","FeatureUsed","j","clearCompleted","clearAll","pinPreview","LinkClicked","validateInputs","createPins","boardValue","updateSelectedBoards","onchange","createPinPreviews","showPrivacyPolicy","hidePrivacyPolicy","hideKeyboardShortcuts","updateStickyPin","stopImmediatePropagation","Remove","DATA__BOARDS","reload","autofillFields","showKeyboardShortcuts","completedPins","filter","preview","isPinned","previewPins","elements","innerText","resetSendAllToBoard","_this3","click","KeyboardShortcutUsed","_this4","input","files","windowBreakpoint","abs","getBoundingClientRect","top","appendChild","render","setInstance","activateAdsenseTemplate","forceLoad","Boards","Set","stringify","boardNames","innerHTML","createBoardNameOptionElement","existingBoardNameSelectors","select","newBoard","boardNameSelectors","previews","tabIndex","noteContainer","focus","balloon","tooltip","removeAttribute","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","next","done","createPin","noteField","linkField","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","setLink","pageYOffset","clone","show","authenticationContainer","authenticationButton","showAuthenticationContainer","Login","accessToken","hideAuthenticationContainer","selector","attachEventListeners","hide"],"mappings":"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","file":"scripts.7d1e694e61eb53693832.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// identity function for calling harmony imports with the correct context\n/******/ \t__webpack_require__.i = function(value) { return value; };\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 16);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /* Bulk Pinner - Create multiple pins in your Pinterest boards at once\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Copyright (C) 2017 Luke Denton\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * This program is free software: you can redistribute it and/or modify\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * it under the terms of the GNU General Public License as published by\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * the Free Software Foundation; either version 3 of the License, or\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * (at your option) any later version.\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * This program is distributed in the hope that it will be useful,\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * GNU General Public License for more details.\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * You should have received a copy of the GNU General Public License\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * along with this program.  If not, see <http://www.gnu.org/licenses/>.\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */\n\n\nvar _AJAX = __webpack_require__(11);\n\nvar _AJAX2 = _interopRequireDefault(_AJAX);\n\nvar _DataStore = __webpack_require__(1);\n\nvar _DataStore2 = _interopRequireDefault(_DataStore);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\r\n * Class API\r\n *\r\n * Interface for communicating with the API\r\n */\nvar API = function () {\n    function API() {\n        _classCallCheck(this, API);\n    }\n\n    _createClass(API, null, [{\n        key: 'IsAuthenticated',\n\n\n        /**\r\n         * Check if a user has authenticated the application. I.e. an access token exists\r\n         *\r\n         * @returns {boolean}\r\n         */\n        value: function IsAuthenticated() {\n            return _DataStore2.default.Get(_DataStore2.default.DATA__ACCESS_TOKEN()) !== null;\n        }\n\n        /**\r\n         * Initialise the Pinterest SDK and call the login function to get an access token\r\n         * Access token information will be set in the Pinterest SDK, however at the moment\r\n         * the SDK is only used here\r\n         *\r\n         * @returns {Promise}\r\n         */\n\n    }, {\n        key: 'Login',\n        value: function Login() {\n            return new Promise(function (resolve, reject) {\n                PDK.init({\n                    appId: \"4927694653406329461\", // Change this\n                    cookie: true\n                });\n                PDK.login({ scope: 'read_public, write_public' }, function (_ref) {\n                    var session = _ref.session;\n\n                    PDK.setSession(session);\n                    resolve(session);\n                });\n            });\n        }\n\n        /**\r\n         * Get cursor of users' Pins\r\n         *\r\n         * @returns {Promise}\r\n         */\n\n    }, {\n        key: 'Pins',\n        value: function Pins() {\n            return new Promise(function (resolve, reject) {\n                _AJAX2.default.Post('me/pins/', data).then(resolve).catch(reject);\n            });\n        }\n\n        /**\r\n         * Get list of users boards\r\n         *\r\n         * @returns {Promise}\r\n         */\n\n    }, {\n        key: 'Boards',\n        value: function Boards() {\n            return new Promise(function (resolve, reject) {\n                _AJAX2.default.Get('me/boards/', {\n                    access_token: _DataStore2.default.Get(_DataStore2.default.DATA__ACCESS_TOKEN())\n                }, true).then(function (_ref2) {\n                    var data = _ref2.data;\n\n                    data.sort(function (a, b) {\n                        var nameA = a.name.toUpperCase();\n                        var nameB = b.name.toUpperCase();\n                        if (nameA < nameB) {\n                            return -1;\n                        }\n                        if (nameA > nameB) {\n                            return 1;\n                        }\n                        return 0;\n                    });\n\n                    resolve(data);\n                });\n            });\n        }\n\n        /**\r\n         * Send request to Pinterest API to create a new pin\r\n         *\r\n         * @param {Object} data The data to create the pin with\r\n         *\r\n         * @returns {Promise}\r\n         */\n\n    }, {\n        key: 'CreatePin',\n        value: function CreatePin(data) {\n            return new Promise(function (resolve, reject) {\n                _AJAX2.default.Post('pins/', _extends({\n                    access_token: _DataStore2.default.Get(_DataStore2.default.DATA__ACCESS_TOKEN())\n                }, data)).then(resolve).catch(reject);\n            });\n        }\n    }]);\n\n    return API;\n}();\n\nexports.default = API;\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/* Bulk Pinner - Create multiple pins in your Pinterest boards at once\n * Copyright (C) 2017 Luke Denton\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation; either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\n/**\n * Class API\n *\n * Interface for communicating with the API\n */\nvar DataStore = function () {\n    function DataStore() {\n        _classCallCheck(this, DataStore);\n    }\n\n    _createClass(DataStore, null, [{\n        key: 'DATA__ACCESS_TOKEN',\n\n\n        /**\n         * String constant for access token key\n         *\n         * @returns {string}\n         */\n        value: function DATA__ACCESS_TOKEN() {\n            return 'pinterest_accessToken';\n        }\n    }, {\n        key: 'DATA__BOARDS',\n        value: function DATA__BOARDS() {\n            return 'pinterest_boards';\n        }\n    }, {\n        key: 'DATA__IS_ADMIN',\n        value: function DATA__IS_ADMIN() {\n            return 'bulk_pinner_admin';\n        }\n\n        /**\n         * Set value in the data store\n         *\n         * @param {string} key   The identifying key for the value\n         * @param {string} value The value for the identifying key\n         *\n         * @returns {null}\n         */\n\n    }, {\n        key: 'Set',\n        value: function Set(key, value) {\n            window.localStorage.setItem(key, value);\n        }\n\n        /**\n         * Get the value for a given key\n         *\n         * @param {string} key The identifying key for the value\n         *\n         * @returns {string}\n         */\n\n    }, {\n        key: 'Get',\n        value: function Get(key) {\n            return window.localStorage.getItem(key);\n        }\n\n        /**\n         * Remove a local storage key/value\n         *\n         * @param {string} key The identifying key to remove\n         *\n         * @returns {null}\n         */\n\n    }, {\n        key: 'Remove',\n        value: function Remove(key) {\n            return window.localStorage.removeItem(key);\n        }\n    }]);\n\n    return DataStore;\n}();\n\nexports.default = DataStore;\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /* Bulk Pinner - Create multiple pins in your Pinterest boards at once\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Copyright (C) 2017 Luke Denton\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * This program is free software: you can redistribute it and/or modify\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * it under the terms of the GNU General Public License as published by\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * the Free Software Foundation; either version 3 of the License, or\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * (at your option) any later version.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * This program is distributed in the hope that it will be useful,\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * but WITHOUT ANY WARRANTY; without even the implied warranty of\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * GNU General Public License for more details.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * You should have received a copy of the GNU General Public License\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */\n\nvar _bulletPubsub = __webpack_require__(6);\n\nvar _bulletPubsub2 = _interopRequireDefault(_bulletPubsub);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * Class Event\n *\n * Wrapper for the event library chosen, preventing the application from being tightly coupled to the library\n *\n * This class will only be used for custom events. Events like click, hover etc will be handled by vanilla JS handlers\n */\nvar CustomEvent = function () {\n  function CustomEvent() {\n    _classCallCheck(this, CustomEvent);\n  }\n\n  _createClass(CustomEvent, null, [{\n    key: 'on',\n\n\n    /**\n     * Wrapper for the .on event listener\n     *\n     * @param {string}   eventName The name of the event to listen for\n     * @param {function} callback  The function to execute when the event is detected\n     *\n     * @returns {null}\n     */\n    value: function on(eventName, callback) {\n      _bulletPubsub2.default.on(eventName, callback, false);\n    }\n\n    /**\n     * Wrapper for the .off function\n     *\n     * @param {string}   eventName The name of the event to remove\n     * @param {function} callback  [Optional] The function to remove. If the event listener needs to remain for some instances.\n     *\n     * @returns {null}\n     */\n\n  }, {\n    key: 'off',\n    value: function off(eventName, callback) {\n      _bulletPubsub2.default.off(eventName, callback);\n    }\n\n    /**\n     * Wrapper for the .once event listener.\n     * This listener will only be triggered once, and then removed\n     *\n     * @param {string}   eventName The name of the event to listen for\n     * @param {function} callback  The function to execute when event is detected\n     *\n     * @returns {null}\n     */\n\n  }, {\n    key: 'once',\n    value: function once(eventName, callback) {\n      _bulletPubsub2.default.once(eventName, callback);\n    }\n\n    /**\n     * Wrapper for the .trigger function, that will trigger an event\n     *\n     * @param {string} eventName The name of the event to trigger\n     * @param {Object} data      [Optional] Custom data to pass to the event listener callback\n     *\n     * @returns {null}\n     */\n\n  }, {\n    key: 'trigger',\n    value: function trigger(eventName) {\n      var data = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      _bulletPubsub2.default.trigger(eventName, data);\n    }\n  }]);\n\n  return CustomEvent;\n}();\n\nexports.default = CustomEvent;\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /* Bulk Pinner - Create multiple pins in your Pinterest boards at once\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Copyright (C) 2017 Luke Denton\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * This program is free software: you can redistribute it and/or modify\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * it under the terms of the GNU General Public License as published by\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * the Free Software Foundation; either version 3 of the License, or\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * (at your option) any later version.\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * This program is distributed in the hope that it will be useful,\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * GNU General Public License for more details.\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * You should have received a copy of the GNU General Public License\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * along with this program.  If not, see <http://www.gnu.org/licenses/>.\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */\n\nvar _ErrorUtil = __webpack_require__(12);\n\nvar _ErrorUtil2 = _interopRequireDefault(_ErrorUtil);\n\nvar _Analytics = __webpack_require__(4);\n\nvar _Analytics2 = _interopRequireDefault(_Analytics);\n\nvar _API = __webpack_require__(0);\n\nvar _API2 = _interopRequireDefault(_API);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\r\n * Class PinPreview\r\n */\nvar PinPreview = function () {\n    function PinPreview(file) {\n        _classCallCheck(this, PinPreview);\n\n        this.file = file;\n\n        var name = this.file.name.split('.');\n        // Remove the extension from the filename array\n        name.pop();\n        // Re-join the remaining elements in the filename array, in case the filename itself had other fullstops in it\n        this.name = name.join('.');\n    }\n\n    /**\r\n     * Save the instance of the pin preview element that has been imported into the DOM\r\n     *\r\n     * @param instance\r\n     *\r\n     * @returns {PinPreview}\r\n     */\n\n\n    _createClass(PinPreview, [{\n        key: 'setInstance',\n        value: function setInstance(instance) {\n            this.instance = instance;\n            this.actionMenuTrigger = this.instance.querySelector('.preview-action-btn');\n            this.actionMenu = this.instance.querySelector('.preview-actions');\n            this.note = this.instance.querySelector('#note');\n            this.link = this.instance.querySelector('.link');\n\n            return this;\n        }\n\n        /**\r\n         * Attach event listeners to various elements in the Pin Preview\r\n         *\r\n         * @returns {null}\r\n         */\n\n    }, {\n        key: 'attachListeners',\n        value: function attachListeners() {\n            var _this = this;\n\n            // Event listener to show/hide the actions menu\n            this.actionMenuTrigger.addEventListener('click', function (e) {\n                if (!_this.isActionMenuVisible()) {\n                    _this.showPreviewActions();\n                } else {\n                    _this.hidePreviewActions();\n                }\n            });\n\n            // Event listener to populate the note with the name of the file being pinned\n            this.actionMenu.querySelector('.preview-action').addEventListener('click', function (e) {\n                switch (e.target.dataset.action) {\n                    case 'filename':\n                        _this.setNote(_this.name);\n                        break;\n                }\n            });\n        }\n\n        /**\r\n         * Show the preview actions menu for the current Pin Preview\r\n         *\r\n         * @returns {null}\r\n         */\n\n    }, {\n        key: 'showPreviewActions',\n        value: function showPreviewActions() {\n            this.actionMenu.classList.add('is-visible');\n        }\n\n        /**\r\n         * Hide the preview actions menu for the current Pin Preview\r\n         *\r\n         * @returns {null}\r\n         */\n\n    }, {\n        key: 'hidePreviewActions',\n        value: function hidePreviewActions() {\n            this.actionMenu.classList.remove('is-visible');\n        }\n\n        /**\r\n         * Determine if the action menu for this PinPreview class is showing\r\n         *\r\n         * @returns {boolean}\r\n         */\n\n    }, {\n        key: 'isActionMenuVisible',\n        value: function isActionMenuVisible() {\n            return this.actionMenu.classList.contains('is-visible');\n        }\n\n        /**\r\n         * Determine if this pin preview has been sent to Pinterest\r\n         *\r\n         * @returns {boolean}\r\n         */\n\n    }, {\n        key: 'isPinned',\n        value: function isPinned() {\n            return !!this.instance.dataset.pinned || false;\n        }\n\n        /**\r\n         * Set value for the note textarea\r\n         *\r\n         * @param {string} value The new value for the note\r\n         *\r\n         * @returns {null}\r\n         */\n\n    }, {\n        key: 'setNote',\n        value: function setNote(value) {\n            this.note.value = value;\n        }\n\n        /**\r\n         * Set value for link\r\n         *\r\n         * @param {string} link The value to be set for the link field\r\n         *\r\n         * @returns {null}\r\n         */\n\n    }, {\n        key: 'setLink',\n        value: function setLink(link) {\n            this.link.value = link;\n        }\n\n        /**\r\n         * Render a pin preview template instance\r\n         *\r\n         * @returns {Node}\r\n         */\n\n    }, {\n        key: 'render',\n        value: function render() {\n            var template = document.getElementById('preview-template');\n            var instance = document.importNode(template.content, true);\n\n            var reader = new FileReader();\n\n            reader.onload = function (theFile) {\n                var previewContainer = theFile.querySelector('.preview-container');\n                var previewImage = previewContainer.querySelector(\".preview-image\");\n\n                return function (e) {\n                    previewImage.src = e.target.result;\n                    previewImage.classList.toggle('loaded', true);\n                };\n            }(instance);\n\n            reader.abort();\n            reader.readAsDataURL(this.file);\n\n            return instance;\n        }\n\n        /**\r\n         * Send request to Pinterest to pin this image\r\n         *\r\n         * @returns {null}\r\n         */\n\n    }, {\n        key: 'createPin',\n        value: function createPin() {\n            var _this2 = this;\n\n            var imageData = this.instance.querySelector('.preview-image').src;\n            var note = this.instance.querySelector(\".note\").value;\n            var board = this.instance.querySelector(\".board-names\").value;\n            var link = this.instance.querySelector(\".link\").value;\n\n            this.instance.classList.toggle('sending', true);\n            if (typeof this.instance.dataset.pinError !== 'undefined') {\n                delete this.instance.dataset.pinError; // Remove any previous error that might be displaying\n            }\n\n            try {\n                _API2.default.CreatePin({\n                    board: board, // Sending just the board ID. Documentation doesn't say this can be done, but it works. Reason is: spaces in board names\n                    image_base64: imageData,\n                    note: note,\n                    link: link\n                }).then(function (response) {\n                    _this2.instance.dataset.pinned = true;\n                    _this2.instance.classList.toggle('sending', false);\n                    _Analytics2.default.PinCreated();\n                }).catch(function (err) {\n                    _ErrorUtil2.default.Log(new Error('Create Pin promise rejected'), {\n                        error: err,\n                        severity: 'error'\n                    });\n                });\n            } catch (exception) {\n                _ErrorUtil2.default.Log(new Error('Exception thrown from CreatePin function'), {\n                    metaData: {\n                        'details': exception\n                    },\n                    severity: 'error'\n                });\n            }\n        }\n    }]);\n\n    return PinPreview;\n}();\n\nexports.default = PinPreview;\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /* Bulk Pinner - Create multiple pins in your Pinterest boards at once\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Copyright (C) 2017 Luke Denton\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * This program is free software: you can redistribute it and/or modify\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * it under the terms of the GNU General Public License as published by\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * the Free Software Foundation; either version 3 of the License, or\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * (at your option) any later version.\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * This program is distributed in the hope that it will be useful,\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * GNU General Public License for more details.\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * You should have received a copy of the GNU General Public License\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * along with this program.  If not, see <http://www.gnu.org/licenses/>.\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */\n\nvar _DataStore = __webpack_require__(1);\n\nvar _DataStore2 = _interopRequireDefault(_DataStore);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\r\n * Class Analytics\r\n */\nvar Analytics = function () {\n    function Analytics() {\n        _classCallCheck(this, Analytics);\n    }\n\n    _createClass(Analytics, null, [{\n        key: 'PinCreated',\n\n\n        /**\r\n         * Perform analytics tracking actions relative to a pin being created\r\n         *\r\n         * @returns {null}\r\n         */\n        value: function PinCreated() {\n            Analytics.FireEvent('pin_created', {\n                'event_category': 'pins'\n            });\n        }\n\n        /**\r\n         * Fire an event to help track which features are used\r\n         *\r\n         * @param {string} shortcutName The label of the shortcut that was used\r\n         *\r\n         * @returns {null}\r\n         */\n\n    }, {\n        key: 'KeyboardShortcutUsed',\n        value: function KeyboardShortcutUsed(shortcutName) {\n            Analytics.FireEvent(shortcutName, {\n                'event_category': 'keyboard_shortcuts'\n            });\n        }\n\n        /**\r\n         * Fire an event to help track which features are used\r\n         *\r\n         * @param {string} featureName The label of the feature that was used\r\n         *\r\n         * @returns {null}\r\n         */\n\n    }, {\n        key: 'FeatureUsed',\n        value: function FeatureUsed(featureName) {\n            Analytics.FireEvent(featureName, {\n                'event_category': 'features'\n            });\n        }\n\n        /**\r\n         * Fire an event to help track when certain links are clicked\r\n         *\r\n         * @param {string} link The label of the link that was clicked\r\n         *\r\n         * @returns {null}\r\n         */\n\n    }, {\n        key: 'LinkClicked',\n        value: function LinkClicked(link) {\n            Analytics.FireEvent(link, {\n                'event_category': 'links'\n            });\n        }\n\n        /**\r\n         * Fire an event on Google Analytics\r\n         *\r\n         * @param {string} eventAction  The 'action' of the event to creation\r\n         * @param {Object} eventOptions Extra options to send with the event action\r\n         *\r\n         * @returns {null}\r\n         */\n\n    }, {\n        key: 'FireEvent',\n        value: function FireEvent(eventAction, eventOptions) {\n            if (_DataStore2.default.Get(_DataStore2.default.DATA__IS_ADMIN) === null) {\n                gtag('event', eventAction, eventOptions);\n            }\n        }\n    }]);\n\n    return Analytics;\n}();\n\nexports.default = Analytics;\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _Authorization = __webpack_require__(14);\n\nvar _Authorization2 = _interopRequireDefault(_Authorization);\n\nvar _Application = __webpack_require__(13);\n\nvar _Application2 = _interopRequireDefault(_Application);\n\nvar _API = __webpack_require__(0);\n\nvar _API2 = _interopRequireDefault(_API);\n\nvar _CustomEvent = __webpack_require__(2);\n\nvar _CustomEvent2 = _interopRequireDefault(_CustomEvent);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// If the user is using Internet Explorer, kindly let them know that their browser is out of date, and that they should update\n/* Bulk Pinner - Create multiple pins in your Pinterest boards at once\n * Copyright (C) 2017 Luke Denton\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation; either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nif (window.navigator.userAgent.indexOf(\"MSIE\") > 0 || !!navigator.userAgent.match(/Trident\\/7\\./)) {\n    document.querySelector('body').classList.add('no-scroll');\n    document.querySelector('.modal-overlay').classList.remove('hidden');\n    document.querySelector('.modal-overlay').classList.add('ie-overlay');\n    document.querySelector('.modal-overlay').querySelector('.internet-explorer-disabled').classList.remove('hidden');\n} else {\n    // Create instances of application classes\n    new _Authorization2.default();\n    new _Application2.default();\n\n    // Determine if used is logged in and publish appropriate status\n    if (!_API2.default.IsAuthenticated()) {\n        _CustomEvent2.default.trigger('user-not-authenticated');\n    } else {\n        _CustomEvent2.default.trigger('user-authenticated');\n    }\n\n    var bugsnagOptions = {\n        apiKey: '856ea8cf87049704dbad28042ef0aa16',\n        appVersion: '1.3.0',\n        releaseStage: 'production',\n        notifyReleaseStages: ['production', 'staging'],\n        collectUserIp: false\n    };\n\n    if (window.location.origin !== 'https://bulkpinner.github.io') {\n        bugsnagOptions.releaseStage = 'developer';\n    }\n\n    // Now that the error-capture.js file is loaded asynchronously, need to wait until the page has loaded before initialising\n    window.addEventListener('load', function () {\n        window.bugsnagClient = bugsnag(bugsnagOptions);\n    });\n}\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nvar __WEBPACK_AMD_DEFINE_RESULT__;\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n(function () {\n\n    'use strict';\n\n    function Bullet() {\n        // ------------------------------------------------------------------------------------------\n        // -- Custom Errors\n        // ------------------------------------------------------------------------------------------\n        function ParamCountError(methodName, expectedParamsString, paramCount) {\n\n            this.message = 'Bullet:: [' + methodName + '] ' + expectedParamsString + ', but received: ' + paramCount;\n            var error = new Error(this.message);\n            if (typeof error.stack !== 'undefined') this.stack = error.stack;\n        }\n        ParamCountError.prototype = new Error();\n        ParamCountError.prototype.name = ParamCountError.name;\n        ParamCountError.prototype.constructor = ParamCountError;\n\n        function ParamTypeError(methodName, parameterName, parameter, expectedType) {\n\n            this.message = 'Bullet:: [' + methodName + '] Expected parameter - ' + parameterName + ' - to be type: ' + expectedType + ', but received type: ' + (typeof parameter === 'undefined' ? 'undefined' : _typeof(parameter));\n            var error = new TypeError(this.message);\n            if (typeof error.stack !== 'undefined') this.stack = error.stack;\n        }\n        ParamTypeError.prototype = new TypeError();\n        ParamTypeError.prototype.name = ParamTypeError.name;\n        ParamTypeError.prototype.constructor = ParamTypeError;\n\n        function EventNameLengthError(methodName) {\n\n            this.message = 'Bullet:: [' + methodName + '] Expected event name parameter to be longer than 0 characters';\n            var error = new Error(this.message);\n            if (typeof error.stack !== 'undefined') this.stack = error.stack;\n        }\n        EventNameLengthError.prototype = new Error();\n        EventNameLengthError.prototype.name = EventNameLengthError.name;\n        EventNameLengthError.prototype.constructor = EventNameLengthError;\n\n        function EventNamesArrayLengthError(methodName) {\n\n            this.message = 'Bullet:: [' + methodName + '] Expected event names array to contain one or more event names';\n            var error = new Error(this.message);\n            if (typeof error.stack !== 'undefined') this.stack = error.stack;\n        }\n        EventNamesArrayLengthError.prototype = new Error();\n        EventNamesArrayLengthError.prototype.name = EventNamesArrayLengthError.name;\n        EventNamesArrayLengthError.prototype.constructor = EventNamesArrayLengthError;\n\n        function UndeclaredEventError(methodName, eventName) {\n\n            this.message = 'Bullet:: [' + methodName + '] Event string: \"' + eventName + '\" does not exist within the events dictionary\\nPlease use the Bullet.addEventName method to add this string.';\n\n            var error = new Error(this.message);\n            if (typeof error.stack !== 'undefined') this.stack = error.stack;\n        }\n        UndeclaredEventError.prototype = new Error();\n        UndeclaredEventError.prototype.name = UndeclaredEventError.name;\n        UndeclaredEventError.prototype.constructor = UndeclaredEventError;\n\n        function UnmappedEventError(methodName, eventName) {\n\n            this.message = 'Bullet:: [' + methodName + '] Event string: \"' + eventName + '\" is not mapped to any callbacks\\nPlease use the Bullet.on method to map this string to a callback.';\n\n            var error = new Error(this.message);\n            if (typeof error.stack !== 'undefined') this.stack = error.stack;\n        }\n        UnmappedEventError.prototype = new Error();\n        UnmappedEventError.prototype.name = UnmappedEventError.name;\n        UnmappedEventError.prototype.constructor = UnmappedEventError;\n\n        var _CALLBACK_NAMESPACE = '__bullet_pubsub__';\n        // ------------------------------------------------------------------------------------------\n        // -- Private variables\n        // ------------------------------------------------------------------------------------------\n        var _self = this;\n        var _mappings = {};\n        var _strictMode = false;\n        var _triggerAsync = true;\n\n        // Expose custom error type constructors (for testing), but use an underscore to imply privacy.\n        _self._errors = {\n            ParamCountError: ParamCountError,\n            ParamTypeError: ParamTypeError,\n            EventNameLengthError: EventNameLengthError,\n            EventNamesArrayLengthError: EventNamesArrayLengthError,\n            UndeclaredEventError: UndeclaredEventError,\n            UnmappedEventError: UnmappedEventError\n        };\n\n        // ------------------------------------------------------------------------------------------\n        // -- Public variables\n        // ------------------------------------------------------------------------------------------\n        _self.events = {};\n\n        // ------------------------------------------------------------------------------------------\n        // -- Private methods\n        // ------------------------------------------------------------------------------------------\n        function _runCallback(eventName, data) {\n            for (var id in _mappings[eventName].callbacks) {\n                var callbackObject = _mappings[eventName].callbacks[id];\n\n                if (typeof callbackObject.cb === 'function') callbackObject.cb(data);\n                if (typeof callbackObject.once === 'boolean' && callbackObject.once === true) _self.off(eventName, callbackObject.cb);\n            }\n        }\n\n        function _cloneCallbacks(callbacks) {\n            var clonedCallbacks = {};\n\n            for (var callbackName in callbacks) {\n\n                clonedCallbacks[callbackName] = {\n                    cb: callbacks[callbackName].cb,\n                    once: callbacks[callbackName].once\n                };\n            }\n\n            return clonedCallbacks;\n        }\n\n        function _deleteAllCallbackReferencesForEvent(eventName) {\n            for (var id in _mappings[eventName].callbacks) {\n                var callback = _mappings[eventName].callbacks[id].cb;\n\n                callback[_CALLBACK_NAMESPACE].totalEvents--;\n\n                if (callback[_CALLBACK_NAMESPACE].totalEvents === 0) {\n                    delete callback[_CALLBACK_NAMESPACE];\n                } else {\n                    delete callback[_CALLBACK_NAMESPACE][eventName];\n                }\n            }\n        }\n\n        function _deleteAllCallbackReferences() {\n            for (var eventName in _mappings) {\n                _deleteAllCallbackReferencesForEvent(eventName);\n            }\n        }\n\n        // Expose _getMappings method (for testing), but use an underscore to imply privacy.\n        _self._getMappings = function () {\n\n            // Return a dictionary object that has no effect on app state to ensure '_mappings'\n            // stays private, even if the value returned from this method is modified.\n            var clonedMappings = {};\n\n            for (var mapping in _mappings) {\n                clonedMappings[mapping] = {\n                    callbacks: _cloneCallbacks(_mappings[mapping].callbacks),\n                    totalCallbacks: _mappings[mapping].totalCallbacks\n                };\n            }\n\n            return clonedMappings;\n        };\n\n        // ------------------------------------------------------------------------------------------\n        // -- Public methods\n        // ------------------------------------------------------------------------------------------\n        _self.on = function (eventName, fn, once) {\n            if (arguments.length < 2 || arguments.length > 3) {\n                throw new ParamCountError('on', 'Expected between 2 and 3 parameters', arguments.length);\n            }\n\n            if (typeof eventName !== 'string') {\n                throw new ParamTypeError('on', 'event name', eventName, 'string');\n            } else if (eventName.length === 0) {\n                throw new EventNameLengthError('on');\n            } else if (_strictMode && typeof _self.events[eventName] === 'undefined') {\n                throw new UndeclaredEventError('on', eventName);\n            }\n\n            if (typeof fn !== 'function') {\n                throw new ParamTypeError('on', 'callback', fn, 'function');\n            }\n\n            if (typeof once !== 'undefined' && typeof once !== 'boolean') {\n                throw new ParamTypeError('on', 'once', once, 'boolean');\n            }\n\n            // Create a reference between the callback and stored event.\n            var callbackId = null;\n\n            // If the named event object already exists in the dictionary...\n            if (typeof _mappings[eventName] !== 'undefined') {\n                // Attempt to get the callback ID from the callback itself.\n                if (typeof fn[_CALLBACK_NAMESPACE] === 'undefined') {\n                    fn[_CALLBACK_NAMESPACE] = {\n                        totalEvents: 0\n                    };\n                }\n\n                // Add a new callback object to the existing event object.\n                if (typeof fn[_CALLBACK_NAMESPACE][eventName] === 'undefined') {\n                    callbackId = _mappings[eventName].totalCallbacks;\n\n                    _mappings[eventName].totalCallbacks++;\n\n                    _mappings[eventName].callbacks[callbackId] = {\n                        cb: fn,\n                        once: typeof once === 'boolean' ? once : false\n                    };\n\n                    // On the callback, create a reference to the event mapping.\n                    fn[_CALLBACK_NAMESPACE][eventName] = callbackId;\n                    fn[_CALLBACK_NAMESPACE].totalEvents++;\n                }\n\n                if (typeof once === 'boolean') {\n                    // Get the callback ID from the value of the existing event name key.\n                    callbackId = fn[_CALLBACK_NAMESPACE][eventName];\n\n                    // The function already exists, so update it's 'once' value.\n                    _mappings[eventName].callbacks[callbackId].once = once;\n                }\n            } else {\n                // Create a new event object in the dictionary with the specified name and callback.\n                _mappings[eventName] = {\n                    callbacks: {}\n                };\n\n                callbackId = 0;\n\n                _mappings[eventName].callbacks[callbackId] = { cb: fn, once: !!once };\n                _mappings[eventName].totalCallbacks = 1;\n\n                // On the callback, create a reference to the event mapping.\n                if (typeof fn[_CALLBACK_NAMESPACE] === 'undefined') {\n                    fn[_CALLBACK_NAMESPACE] = {};\n                    fn[_CALLBACK_NAMESPACE].totalEvents = 1;\n                } else {\n                    fn[_CALLBACK_NAMESPACE].totalEvents++;\n                }\n\n                fn[_CALLBACK_NAMESPACE][eventName] = callbackId;\n            }\n        };\n\n        _self.once = function (eventName, fn) {\n            if (arguments.length !== 2) {\n                throw new ParamCountError('once', 'Expected 2 parameters', arguments.length);\n            } else if (typeof eventName !== 'string') {\n                throw new ParamTypeError('once', 'event name', eventName, 'string');\n            } else if (eventName.length === 0) {\n                throw new EventNameLengthError('once');\n            } else if (_strictMode && typeof _self.events[eventName] === 'undefined') {\n                throw new UndeclaredEventError('once', eventName);\n            }\n\n            if (typeof fn !== 'function') {\n                throw new ParamTypeError('once', 'callback', fn, 'function');\n            }\n\n            _self.on(eventName, fn, true);\n        };\n\n        _self.off = function (eventName, fn) {\n            if (arguments.length === 0) {\n                // delete all references to Bullet that exist on mapped callbacks.\n                _deleteAllCallbackReferences();\n\n                // Remove all mappings from the dictionary.\n                _mappings = {};\n\n                return;\n            } else if (typeof eventName !== 'string') {\n                throw new ParamTypeError('off', 'event name', eventName, 'string');\n            } else if (eventName.length === 0) {\n                throw new EventNameLengthError('off');\n            } else if (_strictMode && typeof _self.events[eventName] === 'undefined') {\n                throw new UndeclaredEventError('off', eventName);\n            }\n\n            if (typeof _mappings[eventName] === 'undefined') {\n                // There is no mapping to remove, so return silently.\n                return;\n            }\n\n            // Remove just the function, if passed as a parameter and in the dictionary.\n            if (typeof fn === 'function') {\n                // if (typeof fn[_CALLBACK_NAMESPACE] === 'undefined' || typeof fn[_CALLBACK_NAMESPACE][eventName] === 'undefined')\n                // {\n                //     // TODO: Throw error here if in strict mode.\n                // }\n\n                // Retrieve a reference to the stored event from the callback.\n                var id = fn[_CALLBACK_NAMESPACE][eventName];\n                var fnToRemove = _mappings[eventName].callbacks[id];\n\n                if (typeof fnToRemove !== 'undefined') {\n                    // delete the callback object from the dictionary.\n                    delete _mappings[eventName].callbacks[id];\n\n                    // delete the event reference on the callback function.\n                    delete fn[_CALLBACK_NAMESPACE][eventName];\n\n                    _mappings[eventName].totalCallbacks--;\n                    fn[_CALLBACK_NAMESPACE].totalEvents--;\n\n                    if (_mappings[eventName].totalCallbacks === 0) {\n                        // There are no more functions in the dictionary that are\n                        // registered to this event, so delete the named event object.\n                        delete _mappings[eventName];\n                    }\n\n                    if (fn[_CALLBACK_NAMESPACE].totalEvents === 0) {\n                        // There are no more events registered on this callback,\n                        // so delete the Bullet namespace.\n                        delete fn[_CALLBACK_NAMESPACE];\n                    }\n                }\n            } else if (typeof fn !== 'undefined') {\n                throw new ParamTypeError('off', 'callback', fn, 'function');\n            } else {\n                // No callback was passed to the 'off' method...\n\n                // For each callback in _mappings[eventName], delete the reference to\n                // the specified event name on the callback itself.\n                _deleteAllCallbackReferencesForEvent(eventName);\n\n                // Delete all functions in the dictionary that are registered to this\n                // event by deleting the named event object.\n                delete _mappings[eventName];\n            }\n        };\n\n        // Replace a single mapped callback for the specified event name with a new callback.\n        _self.replaceCallback = function (eventName, oldFn, newFn, once) {\n\n            if (typeof eventName !== 'string') {\n                throw new ParamTypeError('replaceCallback', 'event name', eventName, 'string');\n            } else if (eventName.length === 0) {\n                throw new EventNameLengthError('replaceCallback');\n            } else if (typeof _mappings[eventName] === 'undefined') {\n                throw new UnmappedEventError('replaceCallback', eventName);\n            } else if (_strictMode && typeof _self.events[eventName] === 'undefined') {\n                throw new UndeclaredEventError('replaceCallback', eventName);\n            }\n\n            if (typeof oldFn !== 'function') {\n                throw new ParamTypeError('replaceCallback', 'callback', oldFn, 'function');\n            }\n\n            if (typeof newFn !== 'function') {\n                throw new ParamTypeError('replaceCallback', 'callback', newFn, 'function');\n            }\n\n            if (typeof once !== 'undefined' && typeof once !== 'boolean') {\n                throw new ParamTypeError('replaceCallback', 'once', once, 'boolean');\n            }\n\n            _self.off(eventName, oldFn);\n            _self.on(eventName, newFn, once);\n        };\n\n        // Replace all of the specified event names mapped callbacks with the specified callback.\n        _self.replaceAllCallbacks = function (eventName, newFn, once) {\n\n            if (typeof eventName !== 'string') {\n                throw new ParamTypeError('replace', 'event name', eventName, 'string');\n            } else if (eventName.length === 0) {\n                throw new EventNameLengthError('replace');\n            } else if (typeof _mappings[eventName] === 'undefined') {\n                throw new UnmappedEventError('replace', eventName);\n            } else if (_strictMode && typeof _self.events[eventName] === 'undefined') {\n                throw new UndeclaredEventError('replace', eventName);\n            }\n\n            if (typeof newFn !== 'function') {\n                throw new ParamTypeError('replace', 'callback', newFn, 'function');\n            }\n\n            if (typeof once !== 'undefined' && typeof once !== 'boolean') {\n                throw new ParamTypeError('replace', 'once', once, 'boolean');\n            }\n\n            _self.off(eventName);\n            _self.on(eventName, newFn, once);\n        };\n\n        _self.trigger = function (eventName, data) {\n            if (typeof eventName !== 'string') {\n                throw new ParamTypeError('trigger', 'event name', eventName, 'string');\n            } else if (eventName.length === 0) {\n                throw new EventNameLengthError('trigger');\n            } else if (_strictMode && typeof _self.events[eventName] === 'undefined') {\n                throw new UndeclaredEventError('trigger', eventName);\n            }\n\n            if (typeof _mappings[eventName] === 'undefined') {\n                if (_strictMode) throw new UnmappedEventError('trigger', eventName);\n\n                // Return silently if not in strict mode.\n                return;\n            }\n\n            // Check whether or not this is a browser environment.\n            if (_triggerAsync && typeof window !== 'undefined') {\n                window.setTimeout(function () {\n                    _runCallback(eventName, data);\n                }, 0);\n            } else {\n                _runCallback(eventName, data);\n            }\n        };\n\n        _self.addEventName = function (eventName) {\n\n            if (typeof eventName !== 'string') {\n                throw new ParamTypeError('addEventName', 'event name', eventName, 'string');\n            } else if (eventName.length === 0) {\n                throw new EventNameLengthError('addEventName');\n            }\n\n            _self.events[eventName] = eventName;\n        };\n\n        _self.addMultipleEventNames = function (eventNames) {\n\n            if (!(eventNames instanceof Array)) {\n                throw new ParamTypeError('addMultipleEventNames', 'event names', eventNames, 'array');\n            } else if (eventNames.length === 0) {\n                throw new EventNamesArrayLengthError('addMultipleEventNames');\n            }\n\n            var i = 0;\n            var length = eventNames.length;\n\n            for (i; i < length; i++) {\n                var currentEventName = eventNames[i];\n\n                _self.addEventName(currentEventName);\n            }\n        };\n\n        _self.removeEventName = function (eventName) {\n\n            if (typeof eventName !== 'string') {\n                throw new ParamTypeError('removeEventName', 'event name', eventName, 'string');\n            } else if (eventName.length === 0) {\n                throw new EventNameLengthError('removeEventName');\n            }\n\n            if (_self.events[eventName]) delete _self.events[eventName];\n        };\n\n        _self.getStrictMode = function () {\n\n            // Return a boolean that doesn't directly point to the internal '_strictMode' property.\n            return _strictMode === true ? true : false;\n        };\n\n        _self.setStrictMode = function (useStrictMode) {\n\n            if (typeof useStrictMode !== 'boolean') throw new ParamTypeError('setStrictMode', 'strict mode', useStrictMode, 'boolean');\n\n            _strictMode = useStrictMode;\n        };\n\n        _self.getTriggerAsync = function () {\n\n            // Return a boolean that doesn't directly point to the internal '_triggerAsync' property.\n            return _triggerAsync === true ? true : false;\n        };\n\n        _self.setTriggerAsync = function (useAsync) {\n\n            if (typeof useAsync !== 'boolean') throw new ParamTypeError('setTriggerAsync', 'trigger async', useAsync, 'boolean');\n\n            _triggerAsync = useAsync;\n        };\n\n        // TODO : Create an 'addMultipleEventNames' method with an array of strings passed as a param.\n        // - include type checks for string while looping over the array.\n\n        // TODO : Create a 'replaceAllEventNames' method with an array of strings passed as a param.\n        // - include type checks for string while looping over the array.\n\n        // TODO : Create a 'removeAllEventNames' method. No params necessary.\n        //  Internally this could simply call 'replaceAllEventNames' and pass an empty array as a param.\n\n        // TODO : Create an 'onAny' method with an array of strings passed as the first param and a single callback as the second.\n        // - include type checks for string while looping over the array.\n\n        // TODO : Create an 'onMultiple' method with an array of flat objects passed as a param.\n        // - example of required param structure:\n        // [{eventName: 'someEvent', callback: someCallback, once: false}, {eventName: 'anotherEvent', callback: anotherCallback, once: true}]\n    }\n\n    // ------------------------------------------------------------------------------------------\n    // -- Module definition\n    // ------------------------------------------------------------------------------------------\n    // Check for AMD/Module support, otherwise define Bullet as a global variable.\n\n    if (true) {\n        // AMD. Register as an anonymous module.\n        !(__WEBPACK_AMD_DEFINE_RESULT__ = function () {\n            return new Bullet();\n        }.call(exports, __webpack_require__, exports, module),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n    } else if (typeof module !== 'undefined' && module.exports) {\n        module.exports = new Bullet();\n    } else {\n        window.Bullet = new Bullet();\n    }\n})();\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n/**\n * Returns a function, that, as long as it continues to be invoked, will not\n * be triggered. The function will be called after it stops being called for\n * N milliseconds. If `immediate` is passed, trigger the function on the\n * leading edge, instead of the trailing. The function also has a property 'clear' \n * that is a function which will clear the timer to prevent previously scheduled executions. \n *\n * @source underscore.js\n * @see http://unscriptable.com/2009/03/20/debouncing-javascript-methods/\n * @param {Function} function to wrap\n * @param {Number} timeout in ms (`100`)\n * @param {Boolean} whether to execute at the beginning (`false`)\n * @api public\n */\n\nmodule.exports = function debounce(func, wait, immediate) {\n  var timeout, args, context, timestamp, result;\n  if (null == wait) wait = 100;\n\n  function later() {\n    var last = Date.now() - timestamp;\n\n    if (last < wait && last >= 0) {\n      timeout = setTimeout(later, wait - last);\n    } else {\n      timeout = null;\n      if (!immediate) {\n        result = func.apply(context, args);\n        context = args = null;\n      }\n    }\n  };\n\n  var debounced = function debounced() {\n    context = this;\n    args = arguments;\n    timestamp = Date.now();\n    var callNow = immediate && !timeout;\n    if (!timeout) timeout = setTimeout(later, wait);\n    if (callNow) {\n      result = func.apply(context, args);\n      context = args = null;\n    }\n\n    return result;\n  };\n\n  debounced.clear = function () {\n    if (timeout) {\n      clearTimeout(timeout);\n      timeout = null;\n    }\n  };\n\n  debounced.flush = function () {\n    if (timeout) {\n      result = func.apply(context, args);\n      context = args = null;\n\n      clearTimeout(timeout);\n      timeout = null;\n    }\n  };\n\n  return debounced;\n};\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nvar __WEBPACK_AMD_DEFINE_RESULT__;\n\n/*global define:false */\n/**\n * Copyright 2012-2017 Craig Campbell\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * Mousetrap is a simple keyboard shortcut library for Javascript with\n * no external dependencies\n *\n * @version 1.6.1\n * @url craig.is/killing/mice\n */\n(function (window, document, undefined) {\n\n    // Check if mousetrap is used inside browser, if not, return\n    if (!window) {\n        return;\n    }\n\n    /**\n     * mapping of special keycodes to their corresponding keys\n     *\n     * everything in this dictionary cannot use keypress events\n     * so it has to be here to map to the correct keycodes for\n     * keyup/keydown events\n     *\n     * @type {Object}\n     */\n    var _MAP = {\n        8: 'backspace',\n        9: 'tab',\n        13: 'enter',\n        16: 'shift',\n        17: 'ctrl',\n        18: 'alt',\n        20: 'capslock',\n        27: 'esc',\n        32: 'space',\n        33: 'pageup',\n        34: 'pagedown',\n        35: 'end',\n        36: 'home',\n        37: 'left',\n        38: 'up',\n        39: 'right',\n        40: 'down',\n        45: 'ins',\n        46: 'del',\n        91: 'meta',\n        93: 'meta',\n        224: 'meta'\n    };\n\n    /**\n     * mapping for special characters so they can support\n     *\n     * this dictionary is only used incase you want to bind a\n     * keyup or keydown event to one of these keys\n     *\n     * @type {Object}\n     */\n    var _KEYCODE_MAP = {\n        106: '*',\n        107: '+',\n        109: '-',\n        110: '.',\n        111: '/',\n        186: ';',\n        187: '=',\n        188: ',',\n        189: '-',\n        190: '.',\n        191: '/',\n        192: '`',\n        219: '[',\n        220: '\\\\',\n        221: ']',\n        222: '\\''\n    };\n\n    /**\n     * this is a mapping of keys that require shift on a US keypad\n     * back to the non shift equivelents\n     *\n     * this is so you can use keyup events with these keys\n     *\n     * note that this will only work reliably on US keyboards\n     *\n     * @type {Object}\n     */\n    var _SHIFT_MAP = {\n        '~': '`',\n        '!': '1',\n        '@': '2',\n        '#': '3',\n        '$': '4',\n        '%': '5',\n        '^': '6',\n        '&': '7',\n        '*': '8',\n        '(': '9',\n        ')': '0',\n        '_': '-',\n        '+': '=',\n        ':': ';',\n        '\\\"': '\\'',\n        '<': ',',\n        '>': '.',\n        '?': '/',\n        '|': '\\\\'\n    };\n\n    /**\n     * this is a list of special strings you can use to map\n     * to modifier keys when you specify your keyboard shortcuts\n     *\n     * @type {Object}\n     */\n    var _SPECIAL_ALIASES = {\n        'option': 'alt',\n        'command': 'meta',\n        'return': 'enter',\n        'escape': 'esc',\n        'plus': '+',\n        'mod': /Mac|iPod|iPhone|iPad/.test(navigator.platform) ? 'meta' : 'ctrl'\n    };\n\n    /**\n     * variable to store the flipped version of _MAP from above\n     * needed to check if we should use keypress or not when no action\n     * is specified\n     *\n     * @type {Object|undefined}\n     */\n    var _REVERSE_MAP;\n\n    /**\n     * loop through the f keys, f1 to f19 and add them to the map\n     * programatically\n     */\n    for (var i = 1; i < 20; ++i) {\n        _MAP[111 + i] = 'f' + i;\n    }\n\n    /**\n     * loop through to map numbers on the numeric keypad\n     */\n    for (i = 0; i <= 9; ++i) {\n\n        // This needs to use a string cause otherwise since 0 is falsey\n        // mousetrap will never fire for numpad 0 pressed as part of a keydown\n        // event.\n        //\n        // @see https://github.com/ccampbell/mousetrap/pull/258\n        _MAP[i + 96] = i.toString();\n    }\n\n    /**\n     * cross browser add event method\n     *\n     * @param {Element|HTMLDocument} object\n     * @param {string} type\n     * @param {Function} callback\n     * @returns void\n     */\n    function _addEvent(object, type, callback) {\n        if (object.addEventListener) {\n            object.addEventListener(type, callback, false);\n            return;\n        }\n\n        object.attachEvent('on' + type, callback);\n    }\n\n    /**\n     * takes the event and returns the key character\n     *\n     * @param {Event} e\n     * @return {string}\n     */\n    function _characterFromEvent(e) {\n\n        // for keypress events we should return the character as is\n        if (e.type == 'keypress') {\n            var character = String.fromCharCode(e.which);\n\n            // if the shift key is not pressed then it is safe to assume\n            // that we want the character to be lowercase.  this means if\n            // you accidentally have caps lock on then your key bindings\n            // will continue to work\n            //\n            // the only side effect that might not be desired is if you\n            // bind something like 'A' cause you want to trigger an\n            // event when capital A is pressed caps lock will no longer\n            // trigger the event.  shift+a will though.\n            if (!e.shiftKey) {\n                character = character.toLowerCase();\n            }\n\n            return character;\n        }\n\n        // for non keypress events the special maps are needed\n        if (_MAP[e.which]) {\n            return _MAP[e.which];\n        }\n\n        if (_KEYCODE_MAP[e.which]) {\n            return _KEYCODE_MAP[e.which];\n        }\n\n        // if it is not in the special map\n\n        // with keydown and keyup events the character seems to always\n        // come in as an uppercase character whether you are pressing shift\n        // or not.  we should make sure it is always lowercase for comparisons\n        return String.fromCharCode(e.which).toLowerCase();\n    }\n\n    /**\n     * checks if two arrays are equal\n     *\n     * @param {Array} modifiers1\n     * @param {Array} modifiers2\n     * @returns {boolean}\n     */\n    function _modifiersMatch(modifiers1, modifiers2) {\n        return modifiers1.sort().join(',') === modifiers2.sort().join(',');\n    }\n\n    /**\n     * takes a key event and figures out what the modifiers are\n     *\n     * @param {Event} e\n     * @returns {Array}\n     */\n    function _eventModifiers(e) {\n        var modifiers = [];\n\n        if (e.shiftKey) {\n            modifiers.push('shift');\n        }\n\n        if (e.altKey) {\n            modifiers.push('alt');\n        }\n\n        if (e.ctrlKey) {\n            modifiers.push('ctrl');\n        }\n\n        if (e.metaKey) {\n            modifiers.push('meta');\n        }\n\n        return modifiers;\n    }\n\n    /**\n     * prevents default for this event\n     *\n     * @param {Event} e\n     * @returns void\n     */\n    function _preventDefault(e) {\n        if (e.preventDefault) {\n            e.preventDefault();\n            return;\n        }\n\n        e.returnValue = false;\n    }\n\n    /**\n     * stops propogation for this event\n     *\n     * @param {Event} e\n     * @returns void\n     */\n    function _stopPropagation(e) {\n        if (e.stopPropagation) {\n            e.stopPropagation();\n            return;\n        }\n\n        e.cancelBubble = true;\n    }\n\n    /**\n     * determines if the keycode specified is a modifier key or not\n     *\n     * @param {string} key\n     * @returns {boolean}\n     */\n    function _isModifier(key) {\n        return key == 'shift' || key == 'ctrl' || key == 'alt' || key == 'meta';\n    }\n\n    /**\n     * reverses the map lookup so that we can look for specific keys\n     * to see what can and can't use keypress\n     *\n     * @return {Object}\n     */\n    function _getReverseMap() {\n        if (!_REVERSE_MAP) {\n            _REVERSE_MAP = {};\n            for (var key in _MAP) {\n\n                // pull out the numeric keypad from here cause keypress should\n                // be able to detect the keys from the character\n                if (key > 95 && key < 112) {\n                    continue;\n                }\n\n                if (_MAP.hasOwnProperty(key)) {\n                    _REVERSE_MAP[_MAP[key]] = key;\n                }\n            }\n        }\n        return _REVERSE_MAP;\n    }\n\n    /**\n     * picks the best action based on the key combination\n     *\n     * @param {string} key - character for key\n     * @param {Array} modifiers\n     * @param {string=} action passed in\n     */\n    function _pickBestAction(key, modifiers, action) {\n\n        // if no action was picked in we should try to pick the one\n        // that we think would work best for this key\n        if (!action) {\n            action = _getReverseMap()[key] ? 'keydown' : 'keypress';\n        }\n\n        // modifier keys don't work as expected with keypress,\n        // switch to keydown\n        if (action == 'keypress' && modifiers.length) {\n            action = 'keydown';\n        }\n\n        return action;\n    }\n\n    /**\n     * Converts from a string key combination to an array\n     *\n     * @param  {string} combination like \"command+shift+l\"\n     * @return {Array}\n     */\n    function _keysFromString(combination) {\n        if (combination === '+') {\n            return ['+'];\n        }\n\n        combination = combination.replace(/\\+{2}/g, '+plus');\n        return combination.split('+');\n    }\n\n    /**\n     * Gets info for a specific key combination\n     *\n     * @param  {string} combination key combination (\"command+s\" or \"a\" or \"*\")\n     * @param  {string=} action\n     * @returns {Object}\n     */\n    function _getKeyInfo(combination, action) {\n        var keys;\n        var key;\n        var i;\n        var modifiers = [];\n\n        // take the keys from this pattern and figure out what the actual\n        // pattern is all about\n        keys = _keysFromString(combination);\n\n        for (i = 0; i < keys.length; ++i) {\n            key = keys[i];\n\n            // normalize key names\n            if (_SPECIAL_ALIASES[key]) {\n                key = _SPECIAL_ALIASES[key];\n            }\n\n            // if this is not a keypress event then we should\n            // be smart about using shift keys\n            // this will only work for US keyboards however\n            if (action && action != 'keypress' && _SHIFT_MAP[key]) {\n                key = _SHIFT_MAP[key];\n                modifiers.push('shift');\n            }\n\n            // if this key is a modifier then add it to the list of modifiers\n            if (_isModifier(key)) {\n                modifiers.push(key);\n            }\n        }\n\n        // depending on what the key combination is\n        // we will try to pick the best event for it\n        action = _pickBestAction(key, modifiers, action);\n\n        return {\n            key: key,\n            modifiers: modifiers,\n            action: action\n        };\n    }\n\n    function _belongsTo(element, ancestor) {\n        if (element === null || element === document) {\n            return false;\n        }\n\n        if (element === ancestor) {\n            return true;\n        }\n\n        return _belongsTo(element.parentNode, ancestor);\n    }\n\n    function Mousetrap(targetElement) {\n        var self = this;\n\n        targetElement = targetElement || document;\n\n        if (!(self instanceof Mousetrap)) {\n            return new Mousetrap(targetElement);\n        }\n\n        /**\n         * element to attach key events to\n         *\n         * @type {Element}\n         */\n        self.target = targetElement;\n\n        /**\n         * a list of all the callbacks setup via Mousetrap.bind()\n         *\n         * @type {Object}\n         */\n        self._callbacks = {};\n\n        /**\n         * direct map of string combinations to callbacks used for trigger()\n         *\n         * @type {Object}\n         */\n        self._directMap = {};\n\n        /**\n         * keeps track of what level each sequence is at since multiple\n         * sequences can start out with the same sequence\n         *\n         * @type {Object}\n         */\n        var _sequenceLevels = {};\n\n        /**\n         * variable to store the setTimeout call\n         *\n         * @type {null|number}\n         */\n        var _resetTimer;\n\n        /**\n         * temporary state where we will ignore the next keyup\n         *\n         * @type {boolean|string}\n         */\n        var _ignoreNextKeyup = false;\n\n        /**\n         * temporary state where we will ignore the next keypress\n         *\n         * @type {boolean}\n         */\n        var _ignoreNextKeypress = false;\n\n        /**\n         * are we currently inside of a sequence?\n         * type of action (\"keyup\" or \"keydown\" or \"keypress\") or false\n         *\n         * @type {boolean|string}\n         */\n        var _nextExpectedAction = false;\n\n        /**\n         * resets all sequence counters except for the ones passed in\n         *\n         * @param {Object} doNotReset\n         * @returns void\n         */\n        function _resetSequences(doNotReset) {\n            doNotReset = doNotReset || {};\n\n            var activeSequences = false,\n                key;\n\n            for (key in _sequenceLevels) {\n                if (doNotReset[key]) {\n                    activeSequences = true;\n                    continue;\n                }\n                _sequenceLevels[key] = 0;\n            }\n\n            if (!activeSequences) {\n                _nextExpectedAction = false;\n            }\n        }\n\n        /**\n         * finds all callbacks that match based on the keycode, modifiers,\n         * and action\n         *\n         * @param {string} character\n         * @param {Array} modifiers\n         * @param {Event|Object} e\n         * @param {string=} sequenceName - name of the sequence we are looking for\n         * @param {string=} combination\n         * @param {number=} level\n         * @returns {Array}\n         */\n        function _getMatches(character, modifiers, e, sequenceName, combination, level) {\n            var i;\n            var callback;\n            var matches = [];\n            var action = e.type;\n\n            // if there are no events related to this keycode\n            if (!self._callbacks[character]) {\n                return [];\n            }\n\n            // if a modifier key is coming up on its own we should allow it\n            if (action == 'keyup' && _isModifier(character)) {\n                modifiers = [character];\n            }\n\n            // loop through all callbacks for the key that was pressed\n            // and see if any of them match\n            for (i = 0; i < self._callbacks[character].length; ++i) {\n                callback = self._callbacks[character][i];\n\n                // if a sequence name is not specified, but this is a sequence at\n                // the wrong level then move onto the next match\n                if (!sequenceName && callback.seq && _sequenceLevels[callback.seq] != callback.level) {\n                    continue;\n                }\n\n                // if the action we are looking for doesn't match the action we got\n                // then we should keep going\n                if (action != callback.action) {\n                    continue;\n                }\n\n                // if this is a keypress event and the meta key and control key\n                // are not pressed that means that we need to only look at the\n                // character, otherwise check the modifiers as well\n                //\n                // chrome will not fire a keypress if meta or control is down\n                // safari will fire a keypress if meta or meta+shift is down\n                // firefox will fire a keypress if meta or control is down\n                if (action == 'keypress' && !e.metaKey && !e.ctrlKey || _modifiersMatch(modifiers, callback.modifiers)) {\n\n                    // when you bind a combination or sequence a second time it\n                    // should overwrite the first one.  if a sequenceName or\n                    // combination is specified in this call it does just that\n                    //\n                    // @todo make deleting its own method?\n                    var deleteCombo = !sequenceName && callback.combo == combination;\n                    var deleteSequence = sequenceName && callback.seq == sequenceName && callback.level == level;\n                    if (deleteCombo || deleteSequence) {\n                        self._callbacks[character].splice(i, 1);\n                    }\n\n                    matches.push(callback);\n                }\n            }\n\n            return matches;\n        }\n\n        /**\n         * actually calls the callback function\n         *\n         * if your callback function returns false this will use the jquery\n         * convention - prevent default and stop propogation on the event\n         *\n         * @param {Function} callback\n         * @param {Event} e\n         * @returns void\n         */\n        function _fireCallback(callback, e, combo, sequence) {\n\n            // if this event should not happen stop here\n            if (self.stopCallback(e, e.target || e.srcElement, combo, sequence)) {\n                return;\n            }\n\n            if (callback(e, combo) === false) {\n                _preventDefault(e);\n                _stopPropagation(e);\n            }\n        }\n\n        /**\n         * handles a character key event\n         *\n         * @param {string} character\n         * @param {Array} modifiers\n         * @param {Event} e\n         * @returns void\n         */\n        self._handleKey = function (character, modifiers, e) {\n            var callbacks = _getMatches(character, modifiers, e);\n            var i;\n            var doNotReset = {};\n            var maxLevel = 0;\n            var processedSequenceCallback = false;\n\n            // Calculate the maxLevel for sequences so we can only execute the longest callback sequence\n            for (i = 0; i < callbacks.length; ++i) {\n                if (callbacks[i].seq) {\n                    maxLevel = Math.max(maxLevel, callbacks[i].level);\n                }\n            }\n\n            // loop through matching callbacks for this key event\n            for (i = 0; i < callbacks.length; ++i) {\n\n                // fire for all sequence callbacks\n                // this is because if for example you have multiple sequences\n                // bound such as \"g i\" and \"g t\" they both need to fire the\n                // callback for matching g cause otherwise you can only ever\n                // match the first one\n                if (callbacks[i].seq) {\n\n                    // only fire callbacks for the maxLevel to prevent\n                    // subsequences from also firing\n                    //\n                    // for example 'a option b' should not cause 'option b' to fire\n                    // even though 'option b' is part of the other sequence\n                    //\n                    // any sequences that do not match here will be discarded\n                    // below by the _resetSequences call\n                    if (callbacks[i].level != maxLevel) {\n                        continue;\n                    }\n\n                    processedSequenceCallback = true;\n\n                    // keep a list of which sequences were matches for later\n                    doNotReset[callbacks[i].seq] = 1;\n                    _fireCallback(callbacks[i].callback, e, callbacks[i].combo, callbacks[i].seq);\n                    continue;\n                }\n\n                // if there were no sequence matches but we are still here\n                // that means this is a regular match so we should fire that\n                if (!processedSequenceCallback) {\n                    _fireCallback(callbacks[i].callback, e, callbacks[i].combo);\n                }\n            }\n\n            // if the key you pressed matches the type of sequence without\n            // being a modifier (ie \"keyup\" or \"keypress\") then we should\n            // reset all sequences that were not matched by this event\n            //\n            // this is so, for example, if you have the sequence \"h a t\" and you\n            // type \"h e a r t\" it does not match.  in this case the \"e\" will\n            // cause the sequence to reset\n            //\n            // modifier keys are ignored because you can have a sequence\n            // that contains modifiers such as \"enter ctrl+space\" and in most\n            // cases the modifier key will be pressed before the next key\n            //\n            // also if you have a sequence such as \"ctrl+b a\" then pressing the\n            // \"b\" key will trigger a \"keypress\" and a \"keydown\"\n            //\n            // the \"keydown\" is expected when there is a modifier, but the\n            // \"keypress\" ends up matching the _nextExpectedAction since it occurs\n            // after and that causes the sequence to reset\n            //\n            // we ignore keypresses in a sequence that directly follow a keydown\n            // for the same character\n            var ignoreThisKeypress = e.type == 'keypress' && _ignoreNextKeypress;\n            if (e.type == _nextExpectedAction && !_isModifier(character) && !ignoreThisKeypress) {\n                _resetSequences(doNotReset);\n            }\n\n            _ignoreNextKeypress = processedSequenceCallback && e.type == 'keydown';\n        };\n\n        /**\n         * handles a keydown event\n         *\n         * @param {Event} e\n         * @returns void\n         */\n        function _handleKeyEvent(e) {\n\n            // normalize e.which for key events\n            // @see http://stackoverflow.com/questions/4285627/javascript-keycode-vs-charcode-utter-confusion\n            if (typeof e.which !== 'number') {\n                e.which = e.keyCode;\n            }\n\n            var character = _characterFromEvent(e);\n\n            // no character found then stop\n            if (!character) {\n                return;\n            }\n\n            // need to use === for the character check because the character can be 0\n            if (e.type == 'keyup' && _ignoreNextKeyup === character) {\n                _ignoreNextKeyup = false;\n                return;\n            }\n\n            self.handleKey(character, _eventModifiers(e), e);\n        }\n\n        /**\n         * called to set a 1 second timeout on the specified sequence\n         *\n         * this is so after each key press in the sequence you have 1 second\n         * to press the next key before you have to start over\n         *\n         * @returns void\n         */\n        function _resetSequenceTimer() {\n            clearTimeout(_resetTimer);\n            _resetTimer = setTimeout(_resetSequences, 1000);\n        }\n\n        /**\n         * binds a key sequence to an event\n         *\n         * @param {string} combo - combo specified in bind call\n         * @param {Array} keys\n         * @param {Function} callback\n         * @param {string=} action\n         * @returns void\n         */\n        function _bindSequence(combo, keys, callback, action) {\n\n            // start off by adding a sequence level record for this combination\n            // and setting the level to 0\n            _sequenceLevels[combo] = 0;\n\n            /**\n             * callback to increase the sequence level for this sequence and reset\n             * all other sequences that were active\n             *\n             * @param {string} nextAction\n             * @returns {Function}\n             */\n            function _increaseSequence(nextAction) {\n                return function () {\n                    _nextExpectedAction = nextAction;\n                    ++_sequenceLevels[combo];\n                    _resetSequenceTimer();\n                };\n            }\n\n            /**\n             * wraps the specified callback inside of another function in order\n             * to reset all sequence counters as soon as this sequence is done\n             *\n             * @param {Event} e\n             * @returns void\n             */\n            function _callbackAndReset(e) {\n                _fireCallback(callback, e, combo);\n\n                // we should ignore the next key up if the action is key down\n                // or keypress.  this is so if you finish a sequence and\n                // release the key the final key will not trigger a keyup\n                if (action !== 'keyup') {\n                    _ignoreNextKeyup = _characterFromEvent(e);\n                }\n\n                // weird race condition if a sequence ends with the key\n                // another sequence begins with\n                setTimeout(_resetSequences, 10);\n            }\n\n            // loop through keys one at a time and bind the appropriate callback\n            // function.  for any key leading up to the final one it should\n            // increase the sequence. after the final, it should reset all sequences\n            //\n            // if an action is specified in the original bind call then that will\n            // be used throughout.  otherwise we will pass the action that the\n            // next key in the sequence should match.  this allows a sequence\n            // to mix and match keypress and keydown events depending on which\n            // ones are better suited to the key provided\n            for (var i = 0; i < keys.length; ++i) {\n                var isFinal = i + 1 === keys.length;\n                var wrappedCallback = isFinal ? _callbackAndReset : _increaseSequence(action || _getKeyInfo(keys[i + 1]).action);\n                _bindSingle(keys[i], wrappedCallback, action, combo, i);\n            }\n        }\n\n        /**\n         * binds a single keyboard combination\n         *\n         * @param {string} combination\n         * @param {Function} callback\n         * @param {string=} action\n         * @param {string=} sequenceName - name of sequence if part of sequence\n         * @param {number=} level - what part of the sequence the command is\n         * @returns void\n         */\n        function _bindSingle(combination, callback, action, sequenceName, level) {\n\n            // store a direct mapped reference for use with Mousetrap.trigger\n            self._directMap[combination + ':' + action] = callback;\n\n            // make sure multiple spaces in a row become a single space\n            combination = combination.replace(/\\s+/g, ' ');\n\n            var sequence = combination.split(' ');\n            var info;\n\n            // if this pattern is a sequence of keys then run through this method\n            // to reprocess each pattern one key at a time\n            if (sequence.length > 1) {\n                _bindSequence(combination, sequence, callback, action);\n                return;\n            }\n\n            info = _getKeyInfo(combination, action);\n\n            // make sure to initialize array if this is the first time\n            // a callback is added for this key\n            self._callbacks[info.key] = self._callbacks[info.key] || [];\n\n            // remove an existing match if there is one\n            _getMatches(info.key, info.modifiers, { type: info.action }, sequenceName, combination, level);\n\n            // add this call back to the array\n            // if it is a sequence put it at the beginning\n            // if not put it at the end\n            //\n            // this is important because the way these are processed expects\n            // the sequence ones to come first\n            self._callbacks[info.key][sequenceName ? 'unshift' : 'push']({\n                callback: callback,\n                modifiers: info.modifiers,\n                action: info.action,\n                seq: sequenceName,\n                level: level,\n                combo: combination\n            });\n        }\n\n        /**\n         * binds multiple combinations to the same callback\n         *\n         * @param {Array} combinations\n         * @param {Function} callback\n         * @param {string|undefined} action\n         * @returns void\n         */\n        self._bindMultiple = function (combinations, callback, action) {\n            for (var i = 0; i < combinations.length; ++i) {\n                _bindSingle(combinations[i], callback, action);\n            }\n        };\n\n        // start!\n        _addEvent(targetElement, 'keypress', _handleKeyEvent);\n        _addEvent(targetElement, 'keydown', _handleKeyEvent);\n        _addEvent(targetElement, 'keyup', _handleKeyEvent);\n    }\n\n    /**\n     * binds an event to mousetrap\n     *\n     * can be a single key, a combination of keys separated with +,\n     * an array of keys, or a sequence of keys separated by spaces\n     *\n     * be sure to list the modifier keys first to make sure that the\n     * correct key ends up getting bound (the last key in the pattern)\n     *\n     * @param {string|Array} keys\n     * @param {Function} callback\n     * @param {string=} action - 'keypress', 'keydown', or 'keyup'\n     * @returns void\n     */\n    Mousetrap.prototype.bind = function (keys, callback, action) {\n        var self = this;\n        keys = keys instanceof Array ? keys : [keys];\n        self._bindMultiple.call(self, keys, callback, action);\n        return self;\n    };\n\n    /**\n     * unbinds an event to mousetrap\n     *\n     * the unbinding sets the callback function of the specified key combo\n     * to an empty function and deletes the corresponding key in the\n     * _directMap dict.\n     *\n     * TODO: actually remove this from the _callbacks dictionary instead\n     * of binding an empty function\n     *\n     * the keycombo+action has to be exactly the same as\n     * it was defined in the bind method\n     *\n     * @param {string|Array} keys\n     * @param {string} action\n     * @returns void\n     */\n    Mousetrap.prototype.unbind = function (keys, action) {\n        var self = this;\n        return self.bind.call(self, keys, function () {}, action);\n    };\n\n    /**\n     * triggers an event that has already been bound\n     *\n     * @param {string} keys\n     * @param {string=} action\n     * @returns void\n     */\n    Mousetrap.prototype.trigger = function (keys, action) {\n        var self = this;\n        if (self._directMap[keys + ':' + action]) {\n            self._directMap[keys + ':' + action]({}, keys);\n        }\n        return self;\n    };\n\n    /**\n     * resets the library back to its initial state.  this is useful\n     * if you want to clear out the current keyboard shortcuts and bind\n     * new ones - for example if you switch to another page\n     *\n     * @returns void\n     */\n    Mousetrap.prototype.reset = function () {\n        var self = this;\n        self._callbacks = {};\n        self._directMap = {};\n        return self;\n    };\n\n    /**\n     * should we stop this event before firing off callbacks\n     *\n     * @param {Event} e\n     * @param {Element} element\n     * @return {boolean}\n     */\n    Mousetrap.prototype.stopCallback = function (e, element) {\n        var self = this;\n\n        // if the element has the class \"mousetrap\" then no need to stop\n        if ((' ' + element.className + ' ').indexOf(' mousetrap ') > -1) {\n            return false;\n        }\n\n        if (_belongsTo(element, self.target)) {\n            return false;\n        }\n\n        // stop for input, select, and textarea\n        return element.tagName == 'INPUT' || element.tagName == 'SELECT' || element.tagName == 'TEXTAREA' || element.isContentEditable;\n    };\n\n    /**\n     * exposes _handleKey publicly so it can be overwritten by extensions\n     */\n    Mousetrap.prototype.handleKey = function () {\n        var self = this;\n        return self._handleKey.apply(self, arguments);\n    };\n\n    /**\n     * allow custom key mappings\n     */\n    Mousetrap.addKeycodes = function (object) {\n        for (var key in object) {\n            if (object.hasOwnProperty(key)) {\n                _MAP[key] = object[key];\n            }\n        }\n        _REVERSE_MAP = null;\n    };\n\n    /**\n     * Init the global mousetrap functions\n     *\n     * This method is needed to allow the global mousetrap functions to work\n     * now that mousetrap is a constructor function.\n     */\n    Mousetrap.init = function () {\n        var documentMousetrap = Mousetrap(document);\n        for (var method in documentMousetrap) {\n            if (method.charAt(0) !== '_') {\n                Mousetrap[method] = function (method) {\n                    return function () {\n                        return documentMousetrap[method].apply(documentMousetrap, arguments);\n                    };\n                }(method);\n            }\n        }\n    };\n\n    Mousetrap.init();\n\n    // expose mousetrap to the global object\n    window.Mousetrap = Mousetrap;\n\n    // expose as a common js module\n    if (typeof module !== 'undefined' && module.exports) {\n        module.exports = Mousetrap;\n    }\n\n    // expose mousetrap as an AMD module\n    if (true) {\n        !(__WEBPACK_AMD_DEFINE_RESULT__ = function () {\n            return Mousetrap;\n        }.call(exports, __webpack_require__, exports, module),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n    }\n})(typeof window !== 'undefined' ? window : null, typeof window !== 'undefined' ? document : null);\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar type = __webpack_require__(10);\n\nvar jsonpID = 0,\n    document = window.document,\n    key,\n    name,\n    rscript = /<script\\b[^<]*(?:(?!<\\/script>)<[^<]*)*<\\/script>/gi,\n    scriptTypeRE = /^(?:text|application)\\/javascript/i,\n    xmlTypeRE = /^(?:text|application)\\/xml/i,\n    jsonType = 'application/json',\n    htmlType = 'text/html',\n    blankRE = /^\\s*$/;\n\nvar ajax = module.exports = function (options) {\n  var settings = extend({}, options || {});\n  for (key in ajax.settings) {\n    if (settings[key] === undefined) settings[key] = ajax.settings[key];\n  }ajaxStart(settings);\n\n  if (!settings.crossDomain) settings.crossDomain = /^([\\w-]+:)?\\/\\/([^\\/]+)/.test(settings.url) && RegExp.$2 != window.location.host;\n\n  var dataType = settings.dataType,\n      hasPlaceholder = /=\\?/.test(settings.url);\n  if (dataType == 'jsonp' || hasPlaceholder) {\n    if (!hasPlaceholder) settings.url = appendQuery(settings.url, 'callback=?');\n    return ajax.JSONP(settings);\n  }\n\n  if (!settings.url) settings.url = window.location.toString();\n  serializeData(settings);\n\n  var mime = settings.accepts[dataType],\n      baseHeaders = {},\n      protocol = /^([\\w-]+:)\\/\\//.test(settings.url) ? RegExp.$1 : window.location.protocol,\n      xhr = ajax.settings.xhr(),\n      abortTimeout;\n\n  if (!settings.crossDomain) baseHeaders['X-Requested-With'] = 'XMLHttpRequest';\n  if (mime) {\n    baseHeaders['Accept'] = mime;\n    if (mime.indexOf(',') > -1) mime = mime.split(',', 2)[0];\n    xhr.overrideMimeType && xhr.overrideMimeType(mime);\n  }\n  if (settings.contentType || settings.data && settings.type.toUpperCase() != 'GET') baseHeaders['Content-Type'] = settings.contentType || 'application/x-www-form-urlencoded';\n  settings.headers = extend(baseHeaders, settings.headers || {});\n\n  xhr.onreadystatechange = function () {\n    if (xhr.readyState == 4) {\n      clearTimeout(abortTimeout);\n      var result,\n          error = false;\n      if (xhr.status >= 200 && xhr.status < 300 || xhr.status == 304 || xhr.status == 0 && protocol == 'file:') {\n        dataType = dataType || mimeToDataType(xhr.getResponseHeader('content-type'));\n        result = xhr.responseText;\n\n        try {\n          if (dataType == 'script') (1, eval)(result);else if (dataType == 'xml') result = xhr.responseXML;else if (dataType == 'json') result = blankRE.test(result) ? null : JSON.parse(result);\n        } catch (e) {\n          error = e;\n        }\n\n        if (error) ajaxError(error, 'parsererror', xhr, settings);else ajaxSuccess(result, xhr, settings);\n      } else {\n        ajaxError(null, 'error', xhr, settings);\n      }\n    }\n  };\n\n  var async = 'async' in settings ? settings.async : true;\n  xhr.open(settings.type, settings.url, async);\n\n  for (name in settings.headers) {\n    xhr.setRequestHeader(name, settings.headers[name]);\n  }if (ajaxBeforeSend(xhr, settings) === false) {\n    xhr.abort();\n    return false;\n  }\n\n  if (settings.timeout > 0) abortTimeout = setTimeout(function () {\n    xhr.onreadystatechange = empty;\n    xhr.abort();\n    ajaxError(null, 'timeout', xhr, settings);\n  }, settings.timeout);\n\n  // avoid sending empty string (#319)\n  xhr.send(settings.data ? settings.data : null);\n  return xhr;\n};\n\n// trigger a custom event and return false if it was cancelled\nfunction triggerAndReturn(context, eventName, data) {\n  //todo: Fire off some events\n  //var event = $.Event(eventName)\n  //$(context).trigger(event, data)\n  return true; //!event.defaultPrevented\n}\n\n// trigger an Ajax \"global\" event\nfunction triggerGlobal(settings, context, eventName, data) {\n  if (settings.global) return triggerAndReturn(context || document, eventName, data);\n}\n\n// Number of active Ajax requests\najax.active = 0;\n\nfunction ajaxStart(settings) {\n  if (settings.global && ajax.active++ === 0) triggerGlobal(settings, null, 'ajaxStart');\n}\nfunction ajaxStop(settings) {\n  if (settings.global && ! --ajax.active) triggerGlobal(settings, null, 'ajaxStop');\n}\n\n// triggers an extra global event \"ajaxBeforeSend\" that's like \"ajaxSend\" but cancelable\nfunction ajaxBeforeSend(xhr, settings) {\n  var context = settings.context;\n  if (settings.beforeSend.call(context, xhr, settings) === false || triggerGlobal(settings, context, 'ajaxBeforeSend', [xhr, settings]) === false) return false;\n\n  triggerGlobal(settings, context, 'ajaxSend', [xhr, settings]);\n}\nfunction ajaxSuccess(data, xhr, settings) {\n  var context = settings.context,\n      status = 'success';\n  settings.success.call(context, data, status, xhr);\n  triggerGlobal(settings, context, 'ajaxSuccess', [xhr, settings, data]);\n  ajaxComplete(status, xhr, settings);\n}\n// type: \"timeout\", \"error\", \"abort\", \"parsererror\"\nfunction ajaxError(error, type, xhr, settings) {\n  var context = settings.context;\n  settings.error.call(context, xhr, type, error);\n  triggerGlobal(settings, context, 'ajaxError', [xhr, settings, error]);\n  ajaxComplete(type, xhr, settings);\n}\n// status: \"success\", \"notmodified\", \"error\", \"timeout\", \"abort\", \"parsererror\"\nfunction ajaxComplete(status, xhr, settings) {\n  var context = settings.context;\n  settings.complete.call(context, xhr, status);\n  triggerGlobal(settings, context, 'ajaxComplete', [xhr, settings]);\n  ajaxStop(settings);\n}\n\n// Empty function, used as default callback\nfunction empty() {}\n\najax.JSONP = function (options) {\n  if (!('type' in options)) return ajax(options);\n\n  var callbackName = 'jsonp' + ++jsonpID,\n      script = document.createElement('script'),\n      abort = function abort() {\n    //todo: remove script\n    //$(script).remove()\n    if (callbackName in window) window[callbackName] = empty;\n    ajaxComplete('abort', xhr, options);\n  },\n      xhr = { abort: abort },\n      abortTimeout,\n      head = document.getElementsByTagName(\"head\")[0] || document.documentElement;\n\n  if (options.error) script.onerror = function () {\n    xhr.abort();\n    options.error();\n  };\n\n  window[callbackName] = function (data) {\n    clearTimeout(abortTimeout);\n    //todo: remove script\n    //$(script).remove()\n    delete window[callbackName];\n    ajaxSuccess(data, xhr, options);\n  };\n\n  serializeData(options);\n  script.src = options.url.replace(/=\\?/, '=' + callbackName);\n\n  // Use insertBefore instead of appendChild to circumvent an IE6 bug.\n  // This arises when a base node is used (see jQuery bugs #2709 and #4378).\n  head.insertBefore(script, head.firstChild);\n\n  if (options.timeout > 0) abortTimeout = setTimeout(function () {\n    xhr.abort();\n    ajaxComplete('timeout', xhr, options);\n  }, options.timeout);\n\n  return xhr;\n};\n\najax.settings = {\n  // Default type of request\n  type: 'GET',\n  // Callback that is executed before request\n  beforeSend: empty,\n  // Callback that is executed if the request succeeds\n  success: empty,\n  // Callback that is executed the the server drops error\n  error: empty,\n  // Callback that is executed on request complete (both: error and success)\n  complete: empty,\n  // The context for the callbacks\n  context: null,\n  // Whether to trigger \"global\" Ajax events\n  global: true,\n  // Transport\n  xhr: function xhr() {\n    return new window.XMLHttpRequest();\n  },\n  // MIME types mapping\n  accepts: {\n    script: 'text/javascript, application/javascript',\n    json: jsonType,\n    xml: 'application/xml, text/xml',\n    html: htmlType,\n    text: 'text/plain'\n  },\n  // Whether the request is to another domain\n  crossDomain: false,\n  // Default timeout\n  timeout: 0\n};\n\nfunction mimeToDataType(mime) {\n  return mime && (mime == htmlType ? 'html' : mime == jsonType ? 'json' : scriptTypeRE.test(mime) ? 'script' : xmlTypeRE.test(mime) && 'xml') || 'text';\n}\n\nfunction appendQuery(url, query) {\n  return (url + '&' + query).replace(/[&?]{1,2}/, '?');\n}\n\n// serialize payload and append it to the URL for GET requests\nfunction serializeData(options) {\n  if (type(options.data) === 'object') options.data = param(options.data);\n  if (options.data && (!options.type || options.type.toUpperCase() == 'GET')) options.url = appendQuery(options.url, options.data);\n}\n\najax.get = function (url, success) {\n  return ajax({ url: url, success: success });\n};\n\najax.post = function (url, data, success, dataType) {\n  if (type(data) === 'function') dataType = dataType || success, success = data, data = null;\n  return ajax({ type: 'POST', url: url, data: data, success: success, dataType: dataType });\n};\n\najax.getJSON = function (url, success) {\n  return ajax({ url: url, success: success, dataType: 'json' });\n};\n\nvar escape = encodeURIComponent;\n\nfunction serialize(params, obj, traditional, scope) {\n  var array = type(obj) === 'array';\n  for (var key in obj) {\n    var value = obj[key];\n\n    if (scope) key = traditional ? scope : scope + '[' + (array ? '' : key) + ']';\n    // handle data in serializeArray() format\n    if (!scope && array) params.add(value.name, value.value);\n    // recurse into nested objects\n    else if (traditional ? type(value) === 'array' : type(value) === 'object') serialize(params, value, traditional, key);else params.add(key, value);\n  }\n}\n\nfunction param(obj, traditional) {\n  var params = [];\n  params.add = function (k, v) {\n    this.push(escape(k) + '=' + escape(v));\n  };\n  serialize(params, obj, traditional);\n  return params.join('&').replace('%20', '+');\n}\n\nfunction extend(target) {\n  var slice = Array.prototype.slice;\n  slice.call(arguments, 1).forEach(function (source) {\n    for (key in source) {\n      if (source[key] !== undefined) target[key] = source[key];\n    }\n  });\n  return target;\n}\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar toString = Object.prototype.toString;\n\nmodule.exports = function (val) {\n  switch (toString.call(val)) {\n    case '[object Function]':\n      return 'function';\n    case '[object Date]':\n      return 'date';\n    case '[object RegExp]':\n      return 'regexp';\n    case '[object Arguments]':\n      return 'arguments';\n    case '[object Array]':\n      return 'array';\n    case '[object String]':\n      return 'string';\n  }\n\n  if ((typeof val === 'undefined' ? 'undefined' : _typeof(val)) == 'object' && val && typeof val.length == 'number') {\n    try {\n      if (typeof val.callee == 'function') return 'arguments';\n    } catch (ex) {\n      if (ex instanceof TypeError) {\n        return 'arguments';\n      }\n    }\n  }\n\n  if (val === null) return 'null';\n  if (val === undefined) return 'undefined';\n  if (val && val.nodeType === 1) return 'element';\n  if (val === Object(val)) return 'object';\n\n  return typeof val === 'undefined' ? 'undefined' : _typeof(val);\n};\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /* Bulk Pinner - Create multiple pins in your Pinterest boards at once\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Copyright (C) 2017 Luke Denton\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * This program is free software: you can redistribute it and/or modify\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * it under the terms of the GNU General Public License as published by\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * the Free Software Foundation; either version 3 of the License, or\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * (at your option) any later version.\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * This program is distributed in the hope that it will be useful,\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * GNU General Public License for more details.\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * You should have received a copy of the GNU General Public License\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * along with this program.  If not, see <http://www.gnu.org/licenses/>.\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */\n\n\nvar _packingAjax = __webpack_require__(9);\n\nvar _packingAjax2 = _interopRequireDefault(_packingAjax);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\r\n * Class AJAX\r\n *\r\n * Abstraction of all AJAX interactions\r\n */\nvar AJAX = function () {\n\n    /**\r\n     * Class constructor\r\n     *\r\n     * @returns {null}\r\n     */\n    function AJAX() {\n        _classCallCheck(this, AJAX);\n\n        this.baseUrl = 'https://api.pinterest.com/';\n        this.apiVersion = 'v1/';\n    }\n\n    /**\r\n     * Build the URL of the appropriate API being called\r\n     *\r\n     * @param {string}  endpoint The API endpoint being queried\r\n     *\r\n     * @returns {string}\r\n     * @private\r\n     */\n\n\n    _createClass(AJAX, [{\n        key: '_buildUrl',\n        value: function _buildUrl(endpoint) {\n            return this.baseUrl + this.apiVersion + endpoint;\n        }\n\n        /**\r\n         * Execute the API query\r\n         *\r\n         * @param {string} endpoint The API endpoint to be queried\r\n         * @param {Object} data     Any additional data required\r\n         * @param {string} type     The type of request being made. E.g. GET, POST etc\r\n         *\r\n         * @returns {Promise}\r\n         * @private\r\n         */\n\n    }, {\n        key: '_fetch',\n        value: function _fetch(endpoint, data, type) {\n            var _this = this;\n\n            return new Promise(function (resolve, reject) {\n                var url = _this._buildUrl(endpoint);\n\n                (0, _packingAjax2.default)({\n                    url: url,\n                    type: type,\n                    dataType: 'json',\n                    data: data,\n                    success: function success(response) {\n                        resolve(response);\n                    },\n                    error: function error(response) {\n                        reject(response);\n                    }\n                });\n            });\n        }\n\n        /**\r\n         * Helper function for performing a GET request\r\n         *\r\n         * @param {string} endpoint The API endpoint to be queried\r\n         * @param {Object} data     Additional data to be sent with the request\r\n         *\r\n         * @returns {Promise}\r\n         */\n\n    }], [{\n        key: 'Get',\n        value: function Get(endpoint, data) {\n            return new Promise(function (resolve, reject) {\n                var ajax = new AJAX();\n                ajax._fetch(endpoint, data, 'GET').then(resolve).catch(reject);\n            });\n        }\n\n        /**\r\n         * Helper function for performing a POST request\r\n         *\r\n         * @param {string} endpoint The API endpoint to be queried\r\n         * @param {Object} data     Additional data to be sent with the request\r\n         *\r\n         * @returns {Promise}\r\n         */\n\n    }, {\n        key: 'Post',\n        value: function Post(endpoint, data) {\n            return new Promise(function (resolve, reject) {\n                var ajax = new AJAX();\n                ajax._fetch(endpoint, data, 'POST').then(resolve).catch(reject);\n            });\n        }\n    }]);\n\n    return AJAX;\n}();\n\nexports.default = AJAX;\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/* Bulk Pinner - Create multiple pins in your Pinterest boards at once\r\n * Copyright (C) 2017 Luke Denton\r\n *\r\n * This program is free software: you can redistribute it and/or modify\r\n * it under the terms of the GNU General Public License as published by\r\n * the Free Software Foundation; either version 3 of the License, or\r\n * (at your option) any later version.\r\n *\r\n * This program is distributed in the hope that it will be useful,\r\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n * GNU General Public License for more details.\r\n *\r\n * You should have received a copy of the GNU General Public License\r\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\r\n */\n\n/**\r\n * Class ErrorUtil\r\n *\r\n * Interface for abstracting the error reporting service\r\n */\nvar ErrorUtil = function () {\n    function ErrorUtil() {\n        _classCallCheck(this, ErrorUtil);\n    }\n\n    _createClass(ErrorUtil, null, [{\n        key: 'Log',\n\n\n        /**\r\n         * Log an error to the bug tracking system\r\n         *\r\n         * @param {Error}  error   A description of the error\r\n         * @param {Object} options Extra details of the error\r\n         *\r\n         * @returns {null}\r\n         */\n        value: function Log(error, options) {\n            if (window.location.origin === 'https://bulkpinner.github.io') {\n                bugsnagClient.notify(error, options);\n            } else {\n                console.error(error);\n                console.error(options);\n            }\n        }\n    }]);\n\n    return ErrorUtil;\n}();\n\nexports.default = ErrorUtil;\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /* Bulk Pinner - Create multiple pins in your Pinterest boards at once\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Copyright (C) 2017 Luke Denton\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * This program is free software: you can redistribute it and/or modify\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * it under the terms of the GNU General Public License as published by\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * the Free Software Foundation; either version 3 of the License, or\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * (at your option) any later version.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * This program is distributed in the hope that it will be useful,\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * but WITHOUT ANY WARRANTY; without even the implied warranty of\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * GNU General Public License for more details.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * You should have received a copy of the GNU General Public License\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */\n\nvar _CustomEvent = __webpack_require__(2);\n\nvar _CustomEvent2 = _interopRequireDefault(_CustomEvent);\n\nvar _API = __webpack_require__(0);\n\nvar _API2 = _interopRequireDefault(_API);\n\nvar _DataStore = __webpack_require__(1);\n\nvar _DataStore2 = _interopRequireDefault(_DataStore);\n\nvar _PinPreview = __webpack_require__(3);\n\nvar _PinPreview2 = _interopRequireDefault(_PinPreview);\n\nvar _mousetrap = __webpack_require__(8);\n\nvar _mousetrap2 = _interopRequireDefault(_mousetrap);\n\nvar _debounce = __webpack_require__(7);\n\nvar _debounce2 = _interopRequireDefault(_debounce);\n\nvar _Analytics = __webpack_require__(4);\n\nvar _Analytics2 = _interopRequireDefault(_Analytics);\n\nvar _Sidebar = __webpack_require__(15);\n\nvar _Sidebar2 = _interopRequireDefault(_Sidebar);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * Class Application\n */\nvar Application = function () {\n    function Application() {\n        var _this = this;\n\n        _classCallCheck(this, Application);\n\n        this.previewsPinsContainer = document.querySelector('.preview-pins-container');\n        this.imageSelectContainer = document.querySelector(\".image-select-container\");\n        this.pinsContainer = document.querySelector('.pins-container');\n        this.sendToPinterestButton = document.querySelector('.send-to-pinterest');\n        this.sendAllToBoardSelect = document.getElementById('send-all-to-board');\n        this.fileUploadInput = document.getElementById(\"fileToUpload\");\n        this.modalOverlay = document.querySelector('.modal-overlay');\n        this.userActionMenuToggle = document.querySelector('.user-action-menu-toggle');\n        this.userActionsContainer = document.querySelector('.user-actions-container');\n        this.refreshBoardsButtons = document.querySelectorAll('.action__refresh-boards');\n        this.clearButtons = document.querySelectorAll(\".action__clear-completed\");\n        this.clearAllButtons = document.querySelectorAll(\".action__clear-all\");\n        this.disconnectButtons = document.querySelectorAll('.action__disconnect');\n        this.pinPreviews = [];\n\n        this.sidebar = new _Sidebar2.default('.sidebar');\n\n        // Wait until the user is authenticated before showing the main application interface\n        _CustomEvent2.default.on('user-authenticated', function () {\n            _this.init();\n        });\n    }\n\n    /**\n     * @returns {null}\n     */\n\n\n    _createClass(Application, [{\n        key: 'init',\n        value: function init() {\n            this.showApplicationContainer();\n            this.attachListeners();\n            this.createKeyboardShortcuts();\n        }\n\n        /**\n         * @returns {null}\n         */\n\n    }, {\n        key: 'showApplicationContainer',\n        value: function showApplicationContainer() {\n            this.imageSelectContainer.classList.toggle('hidden', false);\n            this.userActionsContainer.classList.toggle('hidden', false);\n        }\n\n        /**\n         * @returns {null}\n         */\n\n    }, {\n        key: 'hideApplicationContainer',\n        value: function hideApplicationContainer() {\n            this.imageSelectContainer.classList.toggle('hidden', true);\n        }\n\n        /**\n         * Attach event listeners\n         *\n         * @returns {null}\n         */\n\n    }, {\n        key: 'attachListeners',\n        value: function attachListeners() {\n            var _this2 = this;\n\n            for (var i = 0; i < this.refreshBoardsButtons.length; i++) {\n                var button = this.refreshBoardsButtons[i];\n                button.addEventListener('click', function (e) {\n                    e.preventDefault();\n                    _this2.toggleActionMenu(false);\n                    _this2.loadBoards(true).then(function (boards) {\n                        _this2.populateBoardNames(boards);\n                    }).catch(function (response) {\n                        console.error(response);\n                    });\n                    _Analytics2.default.FeatureUsed('refresh_boards');\n                    _this2.toggleActionMenu(false);\n                });\n            }\n\n            for (var j = 0; j < this.clearButtons.length; j++) {\n                var _button = this.clearButtons[j];\n                _button.addEventListener('click', function (e) {\n                    e.preventDefault();\n                    _this2.clearCompleted();\n                    _this2.toggleActionMenu(false);\n                });\n            }\n\n            for (var k = 0; k < this.clearAllButtons.length; k++) {\n                var _button2 = this.clearAllButtons[k];\n                _button2.addEventListener('click', function (e) {\n                    e.preventDefault();\n                    _this2.clearAll();\n                    _this2.toggleActionMenu(false);\n                });\n            }\n\n            this.pinsContainer.addEventListener('blur', function (e) {\n                if (e.target.matches('.note')) {\n                    e.target.classList.toggle('invalid', e.target.value !== '');\n                }\n            });\n\n            // Event listener that will handle closing any open action menus\n            document.querySelector('body').addEventListener('click', function (e) {\n                _this2.pinPreviews.forEach(function (pinPreview) {\n                    if (pinPreview.actionMenuTrigger !== e.target) {\n                        pinPreview.hidePreviewActions();\n                    }\n                });\n                _this2.toggleActionMenu(false);\n\n                if (e.target.matches('.paypal-me-link')) {\n                    _Analytics2.default.LinkClicked('paypal-me');\n                }\n            });\n\n            this.sendToPinterestButton.addEventListener('click', function () {\n                if (_this2.validateInputs()) {\n                    _this2.createPins();\n                }\n            });\n\n            this.sendAllToBoardSelect.addEventListener('change', function (e) {\n                var boardValue = e.target.value;\n\n                if (boardValue !== '') {\n                    _this2.updateSelectedBoards(boardValue);\n                    _Analytics2.default.FeatureUsed('update_selected_boards');\n                }\n            });\n\n            this.fileUploadInput.onchange = function (e) {\n                return _this2.createPinPreviews(e);\n            };\n\n            document.querySelector('.privacy-policy-link').addEventListener('click', function (e) {\n                _this2.showPrivacyPolicy();\n            });\n\n            document.querySelector('.modal-overlay').addEventListener('click', function (e) {\n                if (e.target.classList.contains('modal-overlay')) {\n                    _this2.hidePrivacyPolicy();\n                    _this2.hideKeyboardShortcuts();\n                    return;\n                }\n\n                if (e.target.classList.contains('close')) {\n                    _this2.hidePrivacyPolicy();\n                    _this2.hideKeyboardShortcuts();\n                }\n            });\n\n            // Prepare the preview pin template with names of boards to pin to\n            this.loadBoards().then(function (boards) {\n                _this2.populateBoardNames(boards);\n            });\n\n            // Listen for scroll event to check for updating the sticky-ness of the Pin button\n            document.addEventListener('scroll', (0, _debounce2.default)(function () {\n                _this2.updateStickyPin();\n            }, 10, false));\n\n            document.querySelector('.action-menu-toggle').addEventListener('click', function (e) {\n                e.stopImmediatePropagation();\n                _this2.toggleActionMenu();\n            });\n\n            // @TODO This will need to be refactored - create an action menu class that will work for both the user actions and app actions\n            this.userActionMenuToggle.addEventListener('click', function (e) {\n                _this2.userActionsContainer.classList.toggle('show-menu');\n            });\n\n            for (var l = 0; l < this.disconnectButtons.length; l++) {\n                var _button3 = this.disconnectButtons[l];\n                _button3.addEventListener('click', function (e) {\n                    e.preventDefault();\n                    _DataStore2.default.Remove(_DataStore2.default.DATA__ACCESS_TOKEN());\n                    _DataStore2.default.Remove(_DataStore2.default.DATA__BOARDS());\n                    _Analytics2.default.FeatureUsed('disconnect_pinterest');\n                    location.reload();\n                });\n            }\n\n            document.querySelector('.action__copy-fill').addEventListener('click', function (e) {\n                e.preventDefault();\n                _this2.autofillFields();\n                _this2.toggleActionMenu(false);\n            });\n\n            document.querySelector('.keyboard-shortcuts').addEventListener('click', function (e) {\n                e.preventDefault();\n\n                _this2.showKeyboardShortcuts();\n            });\n        }\n\n        /**\n         * Clear preview pins that have been uploaded to pinterest\n         *\n         * @returns {null}\n         */\n\n    }, {\n        key: 'clearCompleted',\n        value: function clearCompleted() {\n            var completedPins = document.querySelectorAll(\".preview-container[data-pinned='true']\");\n            this.clear(completedPins);\n            this.pinPreviews = this.pinPreviews.filter(function (preview) {\n                return !preview.isPinned();\n            });\n        }\n\n        /**\n         * Clear all preview pins\n         *\n         * @returns {null}\n         */\n\n    }, {\n        key: 'clearAll',\n        value: function clearAll() {\n            this.pinPreviews = [];\n            var previewPins = document.querySelectorAll(\".preview-container\");\n            this.clear(previewPins);\n        }\n\n        /**\n         * Remove elements from the DOM\n         *\n         * @param {NodeList} elements Array of elements to remove\n         */\n\n    }, {\n        key: 'clear',\n        value: function clear(elements) {\n            for (var i = 0; i < elements.length; i++) {\n                elements[i].remove();\n            }\n\n            if (document.querySelectorAll(\".preview-container\").length === 0) {\n                document.querySelector('.page-header').classList.toggle('large', true);\n                document.querySelector('.get-started').classList.toggle('hidden', false);\n                document.querySelector('.application-container').classList.toggle('expanded', false);\n                document.querySelector('.image-select-container').classList.toggle('fab-container', false);\n                document.querySelector('.label-text').innerText = 'Choose Images';\n                document.querySelector('.preview-pins-container').classList.toggle('hidden', true);\n            }\n\n            this.resetSendAllToBoard();\n            this.toggleActionMenu(false);\n\n            // Only remove the ads container if there is no more pin previews showing\n            if (this.pinPreviews.length === 0) {\n                document.querySelector('.preview-pins-aside').remove();\n            }\n        }\n\n        /**\n         * Reset the selected value in the Send all to board drop down\n         *\n         * @returns {null}\n         */\n\n    }, {\n        key: 'resetSendAllToBoard',\n        value: function resetSendAllToBoard() {\n            document.querySelector(\"#send-all-to-board\").value = \"\";\n        }\n\n        /**\n         * Assign application keyboard shortcuts\n         *\n         * @returns {null}\n         */\n\n    }, {\n        key: 'createKeyboardShortcuts',\n        value: function createKeyboardShortcuts() {\n            var _this3 = this;\n\n            // Choose/Add more pictures to pin\n            _mousetrap2.default.bind('a', function () {\n                document.getElementById('fileToUpload').click();\n                _Analytics2.default.KeyboardShortcutUsed('add_more');\n            });\n\n            // Clear all completed (pinned) images\n            _mousetrap2.default.bind('p c', function () {\n                document.querySelector('.clear-completed.action-button').click();\n                _Analytics2.default.KeyboardShortcutUsed('clear_completed');\n            });\n\n            // Clean all images\n            _mousetrap2.default.bind('p x', function () {\n                document.querySelector('.clear-all.action-button').click();\n                _Analytics2.default.KeyboardShortcutUsed('clear_all');\n            });\n\n            // Show privacy policy\n            _mousetrap2.default.bind('p p', function () {\n                document.querySelector('.privacy-policy-link').click();\n                _Analytics2.default.KeyboardShortcutUsed('show_privacy_policy');\n            });\n\n            // Show privacy policy\n            _mousetrap2.default.bind('esc', function () {\n                _this3.hideKeyboardShortcuts();\n                _this3.hidePrivacyPolicy();\n            });\n\n            // Autofill shortcut\n            _mousetrap2.default.bind('> > >', function () {\n                _this3.autofillFields();\n                _Analytics2.default.KeyboardShortcutUsed('autofill_fields');\n            });\n\n            // Show keyboard shortcuts modal\n            _mousetrap2.default.bind('?', function () {\n                _this3.showKeyboardShortcuts();\n                _Analytics2.default.KeyboardShortcutUsed('show_keyboard_shortcuts_modal');\n            });\n        }\n\n        /**\n         * Loop through the images selected and create instances of the Pin Preview class for each\n         *\n         * @param {Event} e The event object\n         *\n         * @returns {null}\n         */\n\n    }, {\n        key: 'createPinPreviews',\n        value: function createPinPreviews(e) {\n            var _this4 = this;\n\n            var input = e.target;\n\n            if (input.files.length === 0) {\n                return;\n            }\n\n            document.querySelector('.page-header').classList.toggle('large', false);\n            document.querySelector('.get-started').classList.toggle('hidden', true);\n            document.querySelector('.application-container').classList.toggle('expanded', true);\n            document.querySelector('.image-select-container').classList.toggle('fab-container', true);\n            document.querySelector('.label-text').innerText = 'Add More Images';\n            this.previewsPinsContainer.classList.toggle('hidden', false);\n\n            window.setTimeout(function () {\n                // Allow time for the CSS animation to run before\n                // Set the breakpoint for the Pin button becoming sticky _after_ the header is back to it's small state\n                var scrollOffset = -20; // Padding changes from 30px top 10px, so that needs to be factored in\n                _this4.windowBreakpoint = Math.abs(document.querySelector('.action-toolbar').getBoundingClientRect().top - document.querySelector('body').getBoundingClientRect().top - scrollOffset);\n\n                for (var i = 0; i < input.files.length; i++) {\n                    var file = input.files[i];\n                    var pinPreview = new _PinPreview2.default(file);\n                    _this4.previewsPinsContainer.querySelector(\".pins-container\").appendChild(pinPreview.render());\n\n                    // Grab the pin preview element that was just created and set it on the Pin Preview class\n                    // Unable to use the returned value of appendChild, as it returns and empty DocumentFragment\n                    var pinPreviews = _this4.previewsPinsContainer.querySelectorAll('.preview-container');\n                    var instance = pinPreviews[pinPreviews.length - 1];\n                    pinPreview.setInstance(instance);\n                    pinPreview.attachListeners();\n\n                    _this4.pinPreviews.push(pinPreview);\n                }\n\n                // Only activate the ads container if there isn't already one activated\n                if (!document.querySelector('.preview-pins-aside')) {\n                    _this4.activateAdsenseTemplate();\n                }\n            }, 300);\n        }\n\n        /**\n         * Load the users boards\n         *\n         * @param {Boolean} forceLoad [Optional] Indicates if the API should be queried regardless of DataStore\n         *\n         * @returns {Promise}\n         */\n\n    }, {\n        key: 'loadBoards',\n        value: function loadBoards() {\n            var forceLoad = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n            return new Promise(function (resolve, reject) {\n                var boards = _DataStore2.default.Get(_DataStore2.default.DATA__BOARDS());\n                if (boards !== null && !forceLoad) {\n                    resolve(JSON.parse(boards));\n                    return;\n                }\n\n                _API2.default.Boards().then(function (boards) {\n                    _DataStore2.default.Set(_DataStore2.default.DATA__BOARDS(), JSON.stringify(boards));\n                    resolve(boards);\n                }).catch(function (response) {\n                    reject(response);\n                });\n            });\n        }\n\n        /**\n         * Populate the <select> of board names with the names returned from Pinterest API\n         *\n         * @param {Array} boards An array of board objects\n         *\n         * @return {null}\n         */\n\n    }, {\n        key: 'populateBoardNames',\n        value: function populateBoardNames(boards) {\n            var boardNames = document.getElementById('preview-template').content.querySelector(\".board-names\");\n            boardNames.innerHTML = ''; // Remove the 'Loading...' option\n\n            if (boards.length === 0) {\n                var option = this.createBoardNameOptionElement({ id: '', name: 'You don\\'t have any Pinterest boards!' });\n                boardNames.appendChild(option);\n                document.querySelector(\".send-to-pinterest\").classList.toggle('hidden', true); // Can't send to pinterest as the user doesn't have any boards\n                return;\n            }\n\n            // The user may have seen the message above, gone to Pinterest to create a board, and then come back to click the Refresh Boards button\n            document.querySelector(\".send-to-pinterest\").classList.toggle('hidden', false);\n\n            for (var i = 0; i < boards.length; i++) {\n                var board = boards[i];\n                var _option = this.createBoardNameOptionElement(board);\n                boardNames.appendChild(_option);\n            }\n\n            // Update any <select> elements in preview-containers that have already been activated from the template\n            var existingBoardNameSelectors = document.querySelectorAll('.board-names');\n            for (var _i = 0; _i < existingBoardNameSelectors.length; _i++) {\n                var select = existingBoardNameSelectors[_i];\n                select.innerHTML = '';\n\n                // If the board being looped is the 'send all to board', need to add the blank option\n                if (select.id === 'send-all-to-board') {\n                    var _option2 = this.createBoardNameOptionElement({ name: '---', id: '' });\n                    select.appendChild(_option2);\n                }\n\n                for (var _i2 = 0; _i2 < boards.length; _i2++) {\n                    var _board = boards[_i2];\n                    var _option3 = this.createBoardNameOptionElement(_board);\n                    select.appendChild(_option3);\n                }\n            }\n        }\n\n        /**\n         * Create a new <option> element for the provided board object\n         *\n         * @param {Object} board Object representing a Pinterest board\n         *\n         * @returns {Element}\n         */\n\n    }, {\n        key: 'createBoardNameOptionElement',\n        value: function createBoardNameOptionElement(board) {\n            var option = document.createElement('option');\n            option.value = board.id;\n            option.innerText = board.name;\n            return option;\n        }\n\n        /**\n         * Update the selected board in each of the pin previews to match the one selected in the\n         * Send all images to board drop down\n         *\n         * @param {int} newBoard The ID value of the board to be selected\n         */\n\n    }, {\n        key: 'updateSelectedBoards',\n        value: function updateSelectedBoards(newBoard) {\n            // Loop through all existing board name selectors and update their values to match the one just selected\n            var boardNameSelectors = document.querySelectorAll('.preview-pin-board-select');\n            for (var i = 0; i < boardNameSelectors.length; i++) {\n                var boardNameSelect = boardNameSelectors[i];\n\n                boardNameSelect.value = newBoard;\n            }\n        }\n\n        /**\n         * Loop through all pin previews and make sure a note has been set\n         *\n         * If a required field isn't filled in, it will be marked as invalid, but also set up with tabIndexing,\n         * so that users can click tab to easily move between only the notes that aren't filled in yet\n         *\n         * @returns {Boolean}\n         */\n\n    }, {\n        key: 'validateInputs',\n        value: function validateInputs() {\n            var previews = document.querySelectorAll('.preview-container');\n            var error = false;\n            var tabIndex = 1;\n\n            var _loop = function _loop(i) {\n                var preview = previews[i];\n\n                var noteContainer = preview.querySelector(\".note-container\");\n                var note = noteContainer.querySelector(\".note\").value;\n\n                if (note === '') {\n                    var _note = preview.querySelector('.note');\n                    _note.classList.toggle('invalid', true);\n                    _note.tabIndex = tabIndex;\n                    if (tabIndex === 1) {\n                        _note.focus();\n                        noteContainer.dataset.balloon = noteContainer.dataset.tooltip;\n\n                        // @todo: This needs to be cleaned up and removed from here. Also need to make sure it only triggers once\n                        _note.addEventListener('blur', function (e) {\n                            noteContainer.removeAttribute('data-balloon');\n                        });\n                    }\n                    tabIndex++;\n                    error = true;\n                }\n            };\n\n            for (var i = 0; i < previews.length; i++) {\n                _loop(i);\n            }\n\n            return error === false;\n        }\n\n        /**\n         * Loop through all of the <img> elements, and call the API function to create a pin,\n         * with all the relevant information\n         *\n         * @returns {null}\n         */\n\n    }, {\n        key: 'createPins',\n        value: function createPins() {\n            var _iteratorNormalCompletion = true;\n            var _didIteratorError = false;\n            var _iteratorError = undefined;\n\n            try {\n                for (var _iterator = this.pinPreviews[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                    var pinPreview = _step.value;\n\n                    // Skip any images that have already been pinned in this session\n                    if (pinPreview.instance.dataset.pinned) {\n                        continue;\n                    }\n\n                    pinPreview.createPin();\n                }\n            } catch (err) {\n                _didIteratorError = true;\n                _iteratorError = err;\n            } finally {\n                try {\n                    if (!_iteratorNormalCompletion && _iterator.return) {\n                        _iterator.return();\n                    }\n                } finally {\n                    if (_didIteratorError) {\n                        throw _iteratorError;\n                    }\n                }\n            }\n        }\n\n        /**\n         * Display the privacy policy modal\n         *\n         * @returns {null}\n         */\n\n    }, {\n        key: 'showPrivacyPolicy',\n        value: function showPrivacyPolicy() {\n            this.modalOverlay.classList.remove('hidden');\n            this.modalOverlay.querySelector('.privacy-policy-modal').classList.remove('hidden');\n        }\n\n        /**\n         * Hide the privacy policy modal\n         *\n         * @returns {null}\n         */\n\n    }, {\n        key: 'hidePrivacyPolicy',\n        value: function hidePrivacyPolicy() {\n            this.modalOverlay.classList.add('hidden');\n            this.modalOverlay.querySelector('.privacy-policy-modal').classList.add('hidden');\n        }\n\n        /**\n         * Display the keyboard shortcuts modal\n         *\n         * @returns {null}\n         */\n\n    }, {\n        key: 'showKeyboardShortcuts',\n        value: function showKeyboardShortcuts() {\n            this.modalOverlay.classList.remove('hidden');\n            this.modalOverlay.querySelector('.keyboard-shortcuts-modal').classList.remove('hidden');\n        }\n\n        /**\n         * Hide the keyboard shortcuts modal\n         *\n         * @returns {null}\n         */\n\n    }, {\n        key: 'hideKeyboardShortcuts',\n        value: function hideKeyboardShortcuts() {\n            this.modalOverlay.classList.add('hidden');\n            this.modalOverlay.querySelector('.keyboard-shortcuts-modal').classList.add('hidden');\n        }\n\n        /**\n         * Auto fill the note and link fields from the first Pin Preview element, to the rest of the Pin Preview elements\n         *\n         * @returns {null}\n         */\n\n    }, {\n        key: 'autofillFields',\n        value: function autofillFields() {\n            if (this.pinPreviews.length === 0) {\n                return;\n            }\n\n            var noteField = this.pinPreviews[0].instance.querySelector(\"#note\").value;\n            var linkField = this.pinPreviews[0].instance.querySelector(\".link\").value;\n\n            var _iteratorNormalCompletion2 = true;\n            var _didIteratorError2 = false;\n            var _iteratorError2 = undefined;\n\n            try {\n                for (var _iterator2 = this.pinPreviews[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n                    var pinPreview = _step2.value;\n\n                    pinPreview.setNote(noteField);\n                    pinPreview.setLink(linkField);\n                }\n            } catch (err) {\n                _didIteratorError2 = true;\n                _iteratorError2 = err;\n            } finally {\n                try {\n                    if (!_iteratorNormalCompletion2 && _iterator2.return) {\n                        _iterator2.return();\n                    }\n                } finally {\n                    if (_didIteratorError2) {\n                        throw _iteratorError2;\n                    }\n                }\n            }\n        }\n\n        /**\n         * Check for and enable/disable the Pin button from being sticky\n         *\n         * @returns {null}\n         */\n\n    }, {\n        key: 'updateStickyPin',\n        value: function updateStickyPin() {\n            if (window.pageYOffset >= this.windowBreakpoint) {\n                document.querySelector('.action-toolbar').classList.toggle('sticky', true);\n                document.querySelector('.preview-pins-container').classList.toggle('toolbar-is-sticky', true);\n            } else {\n                document.querySelector('.action-toolbar').classList.toggle('sticky', false);\n                document.querySelector('.preview-pins-container').classList.toggle('toolbar-is-sticky', false);\n            }\n        }\n\n        /**\n         * Activate the Google Adsense HTML template\n         *\n         * @returns {null}\n         */\n\n    }, {\n        key: 'activateAdsenseTemplate',\n        value: function activateAdsenseTemplate() {\n            var template = document.querySelector('#adsense-template');\n            var clone = document.importNode(template.content, true);\n            document.querySelector('.preview-pins-container').insertBefore(clone, document.querySelector('.pins-container'));\n        }\n\n        /**\n         * Toggle the state of the action menu\n         *\n         * @param {boolean|undefined} show [Optional] True/false to force show/hide the menu\n         *                                 No value passed and the menu will just toggle\n         *\n         * @returns {null}\n         */\n\n    }, {\n        key: 'toggleActionMenu',\n        value: function toggleActionMenu() {\n            var show = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : undefined;\n\n            this.sidebar.toggle(show);\n        }\n    }]);\n\n    return Application;\n}();\n\nexports.default = Application;\n\n/***/ }),\n/* 14 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /* Bulk Pinner - Create multiple pins in your Pinterest boards at once\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Copyright (C) 2017 Luke Denton\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * This program is free software: you can redistribute it and/or modify\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * it under the terms of the GNU General Public License as published by\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * the Free Software Foundation; either version 3 of the License, or\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * (at your option) any later version.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * This program is distributed in the hope that it will be useful,\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * but WITHOUT ANY WARRANTY; without even the implied warranty of\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * GNU General Public License for more details.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * You should have received a copy of the GNU General Public License\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */\n\nvar _CustomEvent = __webpack_require__(2);\n\nvar _CustomEvent2 = _interopRequireDefault(_CustomEvent);\n\nvar _API = __webpack_require__(0);\n\nvar _API2 = _interopRequireDefault(_API);\n\nvar _DataStore = __webpack_require__(1);\n\nvar _DataStore2 = _interopRequireDefault(_DataStore);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * Class Authorization\n */\nvar Authorization = function () {\n    function Authorization() {\n        var _this = this;\n\n        _classCallCheck(this, Authorization);\n\n        this.authenticationContainer = document.querySelector(\".authentication-container\");\n        this.authenticationButton = document.querySelector(\".authenticate-button\");\n\n        // Listen for the instruction that the user isn't authenticated yet\n        _CustomEvent2.default.on('user-not-authenticated', function () {\n            _this.init();\n        });\n    }\n\n    /**\n     * Initialise the authorization section of the application\n     *\n     * @returns {null}\n     */\n\n\n    _createClass(Authorization, [{\n        key: 'init',\n        value: function init() {\n            this.showAuthenticationContainer();\n            this.attachListeners();\n        }\n\n        /**\n         * @returns {null}\n         */\n\n    }, {\n        key: 'showAuthenticationContainer',\n        value: function showAuthenticationContainer() {\n            this.authenticationContainer.classList.toggle('hidden', false);\n            _CustomEvent2.default.trigger('authentication-shown');\n        }\n\n        /**\n         * @returns {null}\n         */\n\n    }, {\n        key: 'hideAuthenticationContainer',\n        value: function hideAuthenticationContainer() {\n            this.authenticationContainer.classList.toggle('hidden', true);\n            _CustomEvent2.default.trigger('authentication-hidden');\n        }\n\n        /**\n         * Attach event listeners\n         *\n         * @returns {null}\n         */\n\n    }, {\n        key: 'attachListeners',\n        value: function attachListeners() {\n            var _this2 = this;\n\n            this.authenticationButton.addEventListener('click', function () {\n                _API2.default.Login().then(function (_ref) {\n                    var accessToken = _ref.accessToken;\n\n                    _DataStore2.default.Set(_DataStore2.default.DATA__ACCESS_TOKEN(), accessToken);\n                    _CustomEvent2.default.trigger('user-authenticated');\n                }).catch(function (response) {\n                    console.error(response);\n                });\n            });\n\n            // Make sure the authentication container is hidden if the application container gets shown\n            _CustomEvent2.default.on('user-authenticated', function (e) {\n                _this2.hideAuthenticationContainer();\n            });\n        }\n    }]);\n\n    return Authorization;\n}();\n\nexports.default = Authorization;\n\n/***/ }),\n/* 15 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/* Bulk Pinner - Create multiple pins in your Pinterest boards at once\r\n * Copyright (C) 2017 Luke Denton\r\n *\r\n * This program is free software: you can redistribute it and/or modify\r\n * it under the terms of the GNU General Public License as published by\r\n * the Free Software Foundation; either version 3 of the License, or\r\n * (at your option) any later version.\r\n *\r\n * This program is distributed in the hope that it will be useful,\r\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n * GNU General Public License for more details.\r\n *\r\n * You should have received a copy of the GNU General Public License\r\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\r\n */\n\n/**\r\n * Class Sidebar\r\n */\nvar Sidebar = function () {\n    function Sidebar(selector) {\n        _classCallCheck(this, Sidebar);\n\n        this.element = document.querySelector(selector);\n        this.attachEventListeners();\n    }\n\n    _createClass(Sidebar, [{\n        key: 'attachEventListeners',\n        value: function attachEventListeners() {\n            var _this = this;\n\n            this.element.querySelector('.sidebar-close').addEventListener('click', function (e) {\n                e.preventDefault();\n                _this.hide();\n            });\n        }\n\n        /**\r\n         *\r\n         * Toggle the visibility of the sidebar menu\r\n         *\r\n         * @param show [Optional] Boolean for forcing the visibility\r\n         *\r\n         * @returns {null}\r\n         */\n\n    }, {\n        key: 'toggle',\n        value: function toggle() {\n            var show = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : undefined;\n\n            this.element.classList.toggle('is-active', show);\n        }\n\n        /**\r\n         * Show the sidebar\r\n         *\r\n         * @returns {null}\r\n         */\n\n    }, {\n        key: 'show',\n        value: function show() {\n            this.toggle(true);\n        }\n\n        /**\r\n         * Hide the sidebar\r\n         *\r\n         * @returns {null}\r\n         */\n\n    }, {\n        key: 'hide',\n        value: function hide() {\n            this.toggle(false);\n        }\n    }]);\n\n    return Sidebar;\n}();\n\nexports.default = Sidebar;\n\n/***/ }),\n/* 16 */\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(5);\nmodule.exports = __webpack_require__(3);\n\n\n/***/ })\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// scripts.7d1e694e61eb53693832.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 16);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 7d1e694e61eb53693832","/* Bulk Pinner - Create multiple pins in your Pinterest boards at once\r\n * Copyright (C) 2017 Luke Denton\r\n *\r\n * This program is free software: you can redistribute it and/or modify\r\n * it under the terms of the GNU General Public License as published by\r\n * the Free Software Foundation; either version 3 of the License, or\r\n * (at your option) any later version.\r\n *\r\n * This program is distributed in the hope that it will be useful,\r\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n * GNU General Public License for more details.\r\n *\r\n * You should have received a copy of the GNU General Public License\r\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\r\n */\r\nimport AJAX from 'services/AJAX';\r\nimport DataStore from 'services/DataStore';\r\n\r\n/**\r\n * Class API\r\n *\r\n * Interface for communicating with the API\r\n */\r\nexport default class API {\r\n\r\n    /**\r\n     * Check if a user has authenticated the application. I.e. an access token exists\r\n     *\r\n     * @returns {boolean}\r\n     */\r\n    static IsAuthenticated() {\r\n        return DataStore.Get(DataStore.DATA__ACCESS_TOKEN()) !== null;\r\n    }\r\n\r\n    /**\r\n     * Initialise the Pinterest SDK and call the login function to get an access token\r\n     * Access token information will be set in the Pinterest SDK, however at the moment\r\n     * the SDK is only used here\r\n     *\r\n     * @returns {Promise}\r\n     */\r\n    static Login() {\r\n        return new Promise((resolve, reject) => {\r\n            PDK.init({\r\n                appId: \"4927694653406329461\", // Change this\r\n                cookie: true\r\n            });\r\n            PDK.login({scope: 'read_public, write_public'}, ({session}) => {\r\n                PDK.setSession(session);\r\n                resolve(session);\r\n            })\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Get cursor of users' Pins\r\n     *\r\n     * @returns {Promise}\r\n     */\r\n    static Pins() {\r\n        return new Promise((resolve, reject) => {\r\n            AJAX.Post('me/pins/', data)\r\n                .then(resolve)\r\n                .catch(reject);\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Get list of users boards\r\n     *\r\n     * @returns {Promise}\r\n     */\r\n    static Boards() {\r\n        return new Promise((resolve, reject) => {\r\n            AJAX.Get('me/boards/', {\r\n                access_token: DataStore.Get(DataStore.DATA__ACCESS_TOKEN())\r\n            }, true)\r\n                .then(({data}) => {\r\n                    data.sort((a, b) => {\r\n                        let nameA = a.name.toUpperCase();\r\n                        let nameB = b.name.toUpperCase();\r\n                        if (nameA < nameB) {\r\n                            return -1;\r\n                        }\r\n                        if (nameA > nameB) {\r\n                            return 1;\r\n                        }\r\n                        return 0;\r\n                    });\r\n\r\n                    resolve(data);\r\n                })\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Send request to Pinterest API to create a new pin\r\n     *\r\n     * @param {Object} data The data to create the pin with\r\n     *\r\n     * @returns {Promise}\r\n     */\r\n    static CreatePin(data) {\r\n        return new Promise((resolve, reject) => {\r\n            AJAX.Post('pins/', {\r\n                access_token: DataStore.Get(DataStore.DATA__ACCESS_TOKEN()),\r\n                ...data\r\n            })\r\n            .then(resolve)\r\n            .catch(reject);\r\n        });\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/services/API.js","/* Bulk Pinner - Create multiple pins in your Pinterest boards at once\n * Copyright (C) 2017 Luke Denton\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation; either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\n/**\n * Class API\n *\n * Interface for communicating with the API\n */\nexport default class DataStore {\n\n    /**\n     * String constant for access token key\n     *\n     * @returns {string}\n     */\n    static DATA__ACCESS_TOKEN() {\n        return 'pinterest_accessToken';\n    }\n\n    static DATA__BOARDS() {\n        return 'pinterest_boards';\n    }\n\n    static DATA__IS_ADMIN() {\n        return 'bulk_pinner_admin';\n    }\n\n    /**\n     * Set value in the data store\n     *\n     * @param {string} key   The identifying key for the value\n     * @param {string} value The value for the identifying key\n     *\n     * @returns {null}\n     */\n    static Set(key, value) {\n        window.localStorage.setItem(key, value);\n    }\n\n    /**\n     * Get the value for a given key\n     *\n     * @param {string} key The identifying key for the value\n     *\n     * @returns {string}\n     */\n    static Get(key) {\n        return window.localStorage.getItem(key);\n    }\n\n    /**\n     * Remove a local storage key/value\n     *\n     * @param {string} key The identifying key to remove\n     *\n     * @returns {null}\n     */\n    static Remove(key) {\n        return window.localStorage.removeItem(key);\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/services/DataStore.js","/* Bulk Pinner - Create multiple pins in your Pinterest boards at once\n * Copyright (C) 2017 Luke Denton\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation; either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport Bullet from 'bullet-pubsub';\n\n/**\n * Class Event\n *\n * Wrapper for the event library chosen, preventing the application from being tightly coupled to the library\n *\n * This class will only be used for custom events. Events like click, hover etc will be handled by vanilla JS handlers\n */\nexport default class CustomEvent {\n\n    /**\n     * Wrapper for the .on event listener\n     *\n     * @param {string}   eventName The name of the event to listen for\n     * @param {function} callback  The function to execute when the event is detected\n     *\n     * @returns {null}\n     */\n    static on(eventName, callback) {\n        Bullet.on(eventName, callback, false);\n    }\n\n    /**\n     * Wrapper for the .off function\n     *\n     * @param {string}   eventName The name of the event to remove\n     * @param {function} callback  [Optional] The function to remove. If the event listener needs to remain for some instances.\n     *\n     * @returns {null}\n     */\n    static off(eventName, callback) {\n        Bullet.off(eventName, callback);\n    }\n\n    /**\n     * Wrapper for the .once event listener.\n     * This listener will only be triggered once, and then removed\n     *\n     * @param {string}   eventName The name of the event to listen for\n     * @param {function} callback  The function to execute when event is detected\n     *\n     * @returns {null}\n     */\n    static once(eventName, callback) {\n        Bullet.once(eventName, callback);\n    }\n\n    /**\n     * Wrapper for the .trigger function, that will trigger an event\n     *\n     * @param {string} eventName The name of the event to trigger\n     * @param {Object} data      [Optional] Custom data to pass to the event listener callback\n     *\n     * @returns {null}\n     */\n    static trigger(eventName, data = {}) {\n        Bullet.trigger(eventName, data)\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/services/CustomEvent.js","/* Bulk Pinner - Create multiple pins in your Pinterest boards at once\r\n * Copyright (C) 2017 Luke Denton\r\n *\r\n * This program is free software: you can redistribute it and/or modify\r\n * it under the terms of the GNU General Public License as published by\r\n * the Free Software Foundation; either version 3 of the License, or\r\n * (at your option) any later version.\r\n *\r\n * This program is distributed in the hope that it will be useful,\r\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n * GNU General Public License for more details.\r\n *\r\n * You should have received a copy of the GNU General Public License\r\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\r\n */\r\n\r\nimport ErrorUtil from 'services/ErrorUtil';\r\nimport Analytics from 'services/Analytics';\r\nimport API from 'services/API';\r\n\r\n/**\r\n * Class PinPreview\r\n */\r\nexport default class PinPreview {\r\n\r\n    constructor(file) {\r\n        this.file = file;\r\n\r\n        let name = this.file.name.split('.');\r\n        // Remove the extension from the filename array\r\n        name.pop();\r\n        // Re-join the remaining elements in the filename array, in case the filename itself had other fullstops in it\r\n        this.name = name.join('.');\r\n    }\r\n\r\n    /**\r\n     * Save the instance of the pin preview element that has been imported into the DOM\r\n     *\r\n     * @param instance\r\n     *\r\n     * @returns {PinPreview}\r\n     */\r\n    setInstance(instance) {\r\n        this.instance          = instance;\r\n        this.actionMenuTrigger = this.instance.querySelector('.preview-action-btn');\r\n        this.actionMenu        = this.instance.querySelector('.preview-actions');\r\n        this.note              = this.instance.querySelector('#note');\r\n        this.link              = this.instance.querySelector('.link');\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Attach event listeners to various elements in the Pin Preview\r\n     *\r\n     * @returns {null}\r\n     */\r\n    attachListeners() {\r\n\r\n        // Event listener to show/hide the actions menu\r\n        this.actionMenuTrigger.addEventListener('click', e => {\r\n            if (!this.isActionMenuVisible()) {\r\n                this.showPreviewActions();\r\n            } else {\r\n                this.hidePreviewActions();\r\n            }\r\n        });\r\n\r\n        // Event listener to populate the note with the name of the file being pinned\r\n        this.actionMenu.querySelector('.preview-action').addEventListener('click', e => {\r\n            switch (e.target.dataset.action) {\r\n                case 'filename':\r\n                    this.setNote(this.name);\r\n                    break;\r\n            }\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Show the preview actions menu for the current Pin Preview\r\n     *\r\n     * @returns {null}\r\n     */\r\n    showPreviewActions() {\r\n        this.actionMenu.classList.add('is-visible');\r\n    }\r\n\r\n    /**\r\n     * Hide the preview actions menu for the current Pin Preview\r\n     *\r\n     * @returns {null}\r\n     */\r\n    hidePreviewActions() {\r\n        this.actionMenu.classList.remove('is-visible');\r\n    }\r\n\r\n    /**\r\n     * Determine if the action menu for this PinPreview class is showing\r\n     *\r\n     * @returns {boolean}\r\n     */\r\n    isActionMenuVisible() {\r\n        return this.actionMenu.classList.contains('is-visible');\r\n    }\r\n\r\n    /**\r\n     * Determine if this pin preview has been sent to Pinterest\r\n     *\r\n     * @returns {boolean}\r\n     */\r\n    isPinned() {\r\n        return !!this.instance.dataset.pinned || false;\r\n    }\r\n\r\n    /**\r\n     * Set value for the note textarea\r\n     *\r\n     * @param {string} value The new value for the note\r\n     *\r\n     * @returns {null}\r\n     */\r\n    setNote(value) {\r\n        this.note.value = value;\r\n    }\r\n\r\n    /**\r\n     * Set value for link\r\n     *\r\n     * @param {string} link The value to be set for the link field\r\n     *\r\n     * @returns {null}\r\n     */\r\n    setLink(link) {\r\n        this.link.value = link;\r\n    }\r\n\r\n    /**\r\n     * Render a pin preview template instance\r\n     *\r\n     * @returns {Node}\r\n     */\r\n    render() {\r\n        const template = document.getElementById('preview-template');\r\n        const instance = document.importNode(template.content, true);\r\n\r\n        const reader = new FileReader();\r\n\r\n        reader.onload = (theFile => {\r\n            const previewContainer = theFile.querySelector('.preview-container');\r\n            const previewImage = previewContainer.querySelector(\".preview-image\");\r\n\r\n            return e => {\r\n                previewImage.src = e.target.result;\r\n                previewImage.classList.toggle('loaded', true);\r\n            };\r\n        })(instance);\r\n\r\n        reader.abort();\r\n        reader.readAsDataURL(this.file);\r\n\r\n        return instance;\r\n    }\r\n\r\n    /**\r\n     * Send request to Pinterest to pin this image\r\n     *\r\n     * @returns {null}\r\n     */\r\n    createPin() {\r\n        const imageData = this.instance.querySelector('.preview-image').src;\r\n        const note      = this.instance.querySelector(\".note\").value;\r\n        const board     = this.instance.querySelector(\".board-names\").value;\r\n        const link      = this.instance.querySelector(\".link\").value;\r\n\r\n        this.instance.classList.toggle('sending', true);\r\n        if (typeof this.instance.dataset.pinError !== 'undefined') {\r\n            delete this.instance.dataset.pinError; // Remove any previous error that might be displaying\r\n        }\r\n\r\n        try {\r\n            API.CreatePin({\r\n                board: board, // Sending just the board ID. Documentation doesn't say this can be done, but it works. Reason is: spaces in board names\r\n                image_base64: imageData,\r\n                note: note,\r\n                link: link\r\n            })\r\n                .then(response => {\r\n                    this.instance.dataset.pinned = true;\r\n                    this.instance.classList.toggle('sending', false);\r\n                    Analytics.PinCreated();\r\n                })\r\n                .catch(err => {\r\n                    ErrorUtil.Log(new Error('Create Pin promise rejected'), {\r\n                        error: err,\r\n                        severity: 'error'\r\n                    });\r\n                });\r\n        } catch (exception) {\r\n            ErrorUtil.Log(new Error('Exception thrown from CreatePin function'), {\r\n                metaData: {\r\n                    'details': exception\r\n                },\r\n                severity: 'error'\r\n            });\r\n        }\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/PinPreview.js","/* Bulk Pinner - Create multiple pins in your Pinterest boards at once\r\n * Copyright (C) 2017 Luke Denton\r\n *\r\n * This program is free software: you can redistribute it and/or modify\r\n * it under the terms of the GNU General Public License as published by\r\n * the Free Software Foundation; either version 3 of the License, or\r\n * (at your option) any later version.\r\n *\r\n * This program is distributed in the hope that it will be useful,\r\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n * GNU General Public License for more details.\r\n *\r\n * You should have received a copy of the GNU General Public License\r\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\r\n */\r\n\r\nimport DataStore from 'services/DataStore';\r\n\r\n/**\r\n * Class Analytics\r\n */\r\nexport default class Analytics {\r\n\r\n    /**\r\n     * Perform analytics tracking actions relative to a pin being created\r\n     *\r\n     * @returns {null}\r\n     */\r\n    static PinCreated() {\r\n        Analytics.FireEvent('pin_created', {\r\n            'event_category': 'pins'\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Fire an event to help track which features are used\r\n     *\r\n     * @param {string} shortcutName The label of the shortcut that was used\r\n     *\r\n     * @returns {null}\r\n     */\r\n    static KeyboardShortcutUsed(shortcutName) {\r\n        Analytics.FireEvent(shortcutName, {\r\n            'event_category': 'keyboard_shortcuts'\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Fire an event to help track which features are used\r\n     *\r\n     * @param {string} featureName The label of the feature that was used\r\n     *\r\n     * @returns {null}\r\n     */\r\n    static FeatureUsed(featureName) {\r\n        Analytics.FireEvent(featureName, {\r\n            'event_category': 'features'\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Fire an event to help track when certain links are clicked\r\n     *\r\n     * @param {string} link The label of the link that was clicked\r\n     *\r\n     * @returns {null}\r\n     */\r\n    static LinkClicked(link) {\r\n        Analytics.FireEvent(link, {\r\n            'event_category': 'links'\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Fire an event on Google Analytics\r\n     *\r\n     * @param {string} eventAction  The 'action' of the event to creation\r\n     * @param {Object} eventOptions Extra options to send with the event action\r\n     *\r\n     * @returns {null}\r\n     */\r\n    static FireEvent(eventAction, eventOptions) {\r\n        if (DataStore.Get(DataStore.DATA__IS_ADMIN) === null) {\r\n            gtag('event', eventAction, eventOptions);\r\n        }\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/services/Analytics.js","/* Bulk Pinner - Create multiple pins in your Pinterest boards at once\n * Copyright (C) 2017 Luke Denton\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation; either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport Authorization from 'views/Authorization';\nimport Application from 'views/Application';\nimport API from 'services/API';\nimport CustomEvent from 'services/CustomEvent';\n\n// If the user is using Internet Explorer, kindly let them know that their browser is out of date, and that they should update\nif (window.navigator.userAgent.indexOf(\"MSIE\") > 0 || !!navigator.userAgent.match(/Trident\\/7\\./)) {\n    document.querySelector('body').classList.add('no-scroll');\n    document.querySelector('.modal-overlay').classList.remove('hidden');\n    document.querySelector('.modal-overlay').classList.add('ie-overlay');\n    document.querySelector('.modal-overlay').querySelector('.internet-explorer-disabled').classList.remove('hidden');\n} else {\n    // Create instances of application classes\n    new Authorization();\n    new Application();\n\n    // Determine if used is logged in and publish appropriate status\n    if (!API.IsAuthenticated()) {\n        CustomEvent.trigger('user-not-authenticated');\n    } else {\n        CustomEvent.trigger('user-authenticated');\n    }\n\n    const bugsnagOptions = {\n        apiKey: '856ea8cf87049704dbad28042ef0aa16',\n        appVersion: '1.3.0',\n        releaseStage: 'production',\n        notifyReleaseStages: ['production', 'staging'],\n        collectUserIp: false\n    };\n\n    if (window.location.origin !== 'https://bulkpinner.github.io') {\n        bugsnagOptions.releaseStage = 'developer';\n    }\n\n    // Now that the error-capture.js file is loaded asynchronously, need to wait until the page has loaded before initialising\n    window.addEventListener('load', () => {\n        window.bugsnagClient = bugsnag(bugsnagOptions)\n    })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/main.js","(function () {\n\n    'use strict';\n    \n    function Bullet ()\n    {\n        // ------------------------------------------------------------------------------------------\n        // -- Custom Errors\n        // ------------------------------------------------------------------------------------------\n        function ParamCountError (methodName, expectedParamsString, paramCount) {\n            \n            this.message = 'Bullet:: [' + methodName + '] ' + expectedParamsString + ', but received: ' + paramCount;\n            var error = new Error(this.message);\n            if (typeof error.stack !== 'undefined') this.stack = error.stack;\n        }\n        ParamCountError.prototype = new Error();\n        ParamCountError.prototype.name = ParamCountError.name;\n        ParamCountError.prototype.constructor = ParamCountError;\n\n        function ParamTypeError (methodName, parameterName, parameter, expectedType) {\n            \n            this.message = 'Bullet:: [' + methodName + '] Expected parameter - ' + parameterName + ' - to be type: ' + expectedType + ', but received type: ' + typeof parameter;\n            var error = new TypeError(this.message);\n            if (typeof error.stack !== 'undefined') this.stack = error.stack;\n        }\n        ParamTypeError.prototype = new TypeError();\n        ParamTypeError.prototype.name = ParamTypeError.name;\n        ParamTypeError.prototype.constructor = ParamTypeError;\n\n        function EventNameLengthError (methodName) {\n            \n            this.message = 'Bullet:: [' + methodName + '] Expected event name parameter to be longer than 0 characters';\n            var error = new Error(this.message);\n            if (typeof error.stack !== 'undefined') this.stack = error.stack;\n        }\n        EventNameLengthError.prototype = new Error();\n        EventNameLengthError.prototype.name = EventNameLengthError.name;\n        EventNameLengthError.prototype.constructor = EventNameLengthError;\n\n        function EventNamesArrayLengthError (methodName) {\n            \n            this.message = 'Bullet:: [' + methodName + '] Expected event names array to contain one or more event names';\n            var error = new Error(this.message);\n            if (typeof error.stack !== 'undefined') this.stack = error.stack;\n        }\n        EventNamesArrayLengthError.prototype = new Error();\n        EventNamesArrayLengthError.prototype.name = EventNamesArrayLengthError.name;\n        EventNamesArrayLengthError.prototype.constructor = EventNamesArrayLengthError;\n\n        function UndeclaredEventError (methodName, eventName) {\n            \n            this.message = 'Bullet:: [' + methodName + '] Event string: \"' + eventName + '\" does not exist within the events dictionary\\nPlease use the Bullet.addEventName method to add this string.';\n\n            var error = new Error(this.message);\n            if (typeof error.stack !== 'undefined') this.stack = error.stack;\n        }\n        UndeclaredEventError.prototype = new Error();\n        UndeclaredEventError.prototype.name = UndeclaredEventError.name;\n        UndeclaredEventError.prototype.constructor = UndeclaredEventError;\n\n\n        function UnmappedEventError (methodName, eventName) {\n            \n            this.message = 'Bullet:: [' + methodName + '] Event string: \"' + eventName + '\" is not mapped to any callbacks\\nPlease use the Bullet.on method to map this string to a callback.';\n\n            var error = new Error(this.message);\n            if (typeof error.stack !== 'undefined') this.stack = error.stack;\n        }\n        UnmappedEventError.prototype = new Error();\n        UnmappedEventError.prototype.name = UnmappedEventError.name;\n        UnmappedEventError.prototype.constructor = UnmappedEventError;\n\n        var _CALLBACK_NAMESPACE = '__bullet_pubsub__';\n        // ------------------------------------------------------------------------------------------\n        // -- Private variables\n        // ------------------------------------------------------------------------------------------\n        var _self = this;\n        var _mappings = {};\n        var _strictMode = false;\n        var _triggerAsync = true;\n\n        // Expose custom error type constructors (for testing), but use an underscore to imply privacy.\n        _self._errors = {\n            ParamCountError : ParamCountError,\n            ParamTypeError : ParamTypeError,\n            EventNameLengthError : EventNameLengthError,\n            EventNamesArrayLengthError: EventNamesArrayLengthError,\n            UndeclaredEventError : UndeclaredEventError,\n            UnmappedEventError : UnmappedEventError,\n        };\n\n\n        // ------------------------------------------------------------------------------------------\n        // -- Public variables\n        // ------------------------------------------------------------------------------------------\n        _self.events = {};\n\n\n        // ------------------------------------------------------------------------------------------\n        // -- Private methods\n        // ------------------------------------------------------------------------------------------\n        function _runCallback (eventName, data) {\n            for (var id in _mappings[eventName].callbacks)\n            {\n                var callbackObject = _mappings[eventName].callbacks[id];\n\n                if (typeof callbackObject.cb === 'function') callbackObject.cb(data);\n                if (typeof callbackObject.once === 'boolean' && callbackObject.once === true) _self.off(eventName, callbackObject.cb);\n            }\n        }\n\n        function _cloneCallbacks (callbacks) {\n            var clonedCallbacks = {};\n\n            for (var callbackName in callbacks) {\n                \n                clonedCallbacks[callbackName] = {\n                    cb : callbacks[callbackName].cb,\n                    once : callbacks[callbackName].once\n                };\n            }\n\n            return clonedCallbacks;\n        }\n\n        function _deleteAllCallbackReferencesForEvent (eventName)\n        {\n            for (var id in _mappings[eventName].callbacks)\n            {\n                var callback = _mappings[eventName].callbacks[id].cb;\n\n                callback[_CALLBACK_NAMESPACE].totalEvents--;\n\n                if (callback[_CALLBACK_NAMESPACE].totalEvents === 0)\n                {\n                    delete callback[_CALLBACK_NAMESPACE];\n                }\n                else\n                {\n                    delete callback[_CALLBACK_NAMESPACE][eventName];\n                }\n            }\n        }\n\n        function _deleteAllCallbackReferences ()\n        {\n            for (var eventName in _mappings)\n            {\n                _deleteAllCallbackReferencesForEvent(eventName);\n            }\n        }\n\n        // Expose _getMappings method (for testing), but use an underscore to imply privacy.\n        _self._getMappings = function () {\n            \n            // Return a dictionary object that has no effect on app state to ensure '_mappings'\n            // stays private, even if the value returned from this method is modified.\n            var clonedMappings = {};\n\n            for (var mapping in _mappings)\n            {             \n                clonedMappings[mapping] = {\n                    callbacks : _cloneCallbacks(_mappings[mapping].callbacks),\n                    totalCallbacks : _mappings[mapping].totalCallbacks\n                };\n            }\n\n            return clonedMappings;\n        };\n\n\n        // ------------------------------------------------------------------------------------------\n        // -- Public methods\n        // ------------------------------------------------------------------------------------------\n        _self.on = function (eventName, fn, once)\n        {\n            if (arguments.length < 2 || arguments.length > 3)\n            {\n                throw new ParamCountError('on', 'Expected between 2 and 3 parameters', arguments.length);\n            }\n\n            if (typeof eventName !== 'string')\n            {\n                throw new ParamTypeError('on', 'event name', eventName, 'string');\n            }\n            else if (eventName.length === 0)\n            {\n                throw new EventNameLengthError('on');\n            }\n            else if (_strictMode && typeof _self.events[eventName] === 'undefined')\n            {\n                throw new UndeclaredEventError('on', eventName);\n            }\n\n            if (typeof fn !== 'function')\n            {\n                throw new ParamTypeError('on', 'callback', fn, 'function');\n            }\n\n            if (typeof once !== 'undefined' && typeof once !== 'boolean')\n            {\n                throw new ParamTypeError('on', 'once', once, 'boolean');\n            }\n\n            // Create a reference between the callback and stored event.\n            var callbackId = null;\n\n            // If the named event object already exists in the dictionary...\n            if (typeof _mappings[eventName] !== 'undefined')\n            {\n                // Attempt to get the callback ID from the callback itself.\n                if (typeof fn[_CALLBACK_NAMESPACE] === 'undefined')\n                {\n                    fn[_CALLBACK_NAMESPACE] = {\n                        totalEvents: 0\n                    };\n                }\n                \n                // Add a new callback object to the existing event object.\n                if (typeof fn[_CALLBACK_NAMESPACE][eventName] === 'undefined')\n                {\n                    callbackId = _mappings[eventName].totalCallbacks;\n\n                    _mappings[eventName].totalCallbacks++;\n\n                    _mappings[eventName].callbacks[callbackId] = {\n                        cb : fn,\n                        once : typeof once === 'boolean' ? once : false\n                    };\n\n                    // On the callback, create a reference to the event mapping.\n                    fn[_CALLBACK_NAMESPACE][eventName] = callbackId;\n                    fn[_CALLBACK_NAMESPACE].totalEvents++;\n                }\n\n                if (typeof once === 'boolean')\n                {\n                    // Get the callback ID from the value of the existing event name key.\n                    callbackId = fn[_CALLBACK_NAMESPACE][eventName];\n\n                    // The function already exists, so update it's 'once' value.\n                    _mappings[eventName].callbacks[callbackId].once = once;\n                }\n            }\n            else\n            {\n                // Create a new event object in the dictionary with the specified name and callback.\n                _mappings[eventName] = {\n                    callbacks : {}\n                };\n\n                callbackId = 0;\n\n                _mappings[eventName].callbacks[callbackId] = {cb : fn, once : !!once};\n                _mappings[eventName].totalCallbacks = 1;\n\n                // On the callback, create a reference to the event mapping.\n                if (typeof fn[_CALLBACK_NAMESPACE] === 'undefined')\n                {\n                    fn[_CALLBACK_NAMESPACE] = {};\n                    fn[_CALLBACK_NAMESPACE].totalEvents = 1;\n                }\n                else\n                {\n                    fn[_CALLBACK_NAMESPACE].totalEvents++;\n                }\n                \n                fn[_CALLBACK_NAMESPACE][eventName] = callbackId;\n            }\n        };\n\n        _self.once = function (eventName, fn)\n        {\n            if (arguments.length !== 2)\n            {\n                throw new ParamCountError('once', 'Expected 2 parameters', arguments.length);\n            }\n            else if (typeof eventName !== 'string')\n            {\n                throw new ParamTypeError('once', 'event name', eventName, 'string');\n            }\n            else if (eventName.length === 0)\n            {\n                throw new EventNameLengthError('once');\n            }\n            else if (_strictMode && typeof _self.events[eventName] === 'undefined')\n            {\n                throw new UndeclaredEventError('once', eventName);\n            }\n\n            if (typeof fn !== 'function')\n            {\n                throw new ParamTypeError('once', 'callback', fn, 'function');\n            }\n\n            _self.on(eventName, fn, true);\n        };\n\n        _self.off = function (eventName, fn)\n        {\n            if (arguments.length === 0)\n            {\n                // delete all references to Bullet that exist on mapped callbacks.\n                _deleteAllCallbackReferences();\n\n                // Remove all mappings from the dictionary.\n                _mappings = {};\n\n                return;\n            }\n            else if (typeof eventName !== 'string')\n            {\n                throw new ParamTypeError('off', 'event name', eventName, 'string');\n            }\n            else if (eventName.length === 0)\n            {\n                throw new EventNameLengthError('off');\n            }\n            else if (_strictMode && typeof _self.events[eventName] === 'undefined')\n            {\n                throw new UndeclaredEventError('off', eventName);\n            }\n\n            if (typeof _mappings[eventName] === 'undefined')\n            {\n                // There is no mapping to remove, so return silently.\n                return;\n            }\n\n            // Remove just the function, if passed as a parameter and in the dictionary.\n            if (typeof fn === 'function')\n            {\n                // if (typeof fn[_CALLBACK_NAMESPACE] === 'undefined' || typeof fn[_CALLBACK_NAMESPACE][eventName] === 'undefined')\n                // {\n                //     // TODO: Throw error here if in strict mode.\n                // }\n\n                // Retrieve a reference to the stored event from the callback.\n                var id = fn[_CALLBACK_NAMESPACE][eventName];\n                var fnToRemove = _mappings[eventName].callbacks[id];\n\n                if (typeof fnToRemove !== 'undefined')\n                {\n                    // delete the callback object from the dictionary.\n                    delete _mappings[eventName].callbacks[id];\n\n                    // delete the event reference on the callback function.\n                    delete fn[_CALLBACK_NAMESPACE][eventName];\n\n                    _mappings[eventName].totalCallbacks--;\n                    fn[_CALLBACK_NAMESPACE].totalEvents--;\n\n                    if (_mappings[eventName].totalCallbacks === 0)\n                    {\n                        // There are no more functions in the dictionary that are\n                        // registered to this event, so delete the named event object.\n                        delete _mappings[eventName];\n                    }\n\n                    if (fn[_CALLBACK_NAMESPACE].totalEvents === 0)\n                    {\n                        // There are no more events registered on this callback,\n                        // so delete the Bullet namespace.\n                        delete fn[_CALLBACK_NAMESPACE];\n                    }\n                }\n            }\n            else if (typeof fn !== 'undefined')\n            {\n                throw new ParamTypeError('off', 'callback', fn, 'function');\n            }\n            else\n            {\n                // No callback was passed to the 'off' method...\n\n                // For each callback in _mappings[eventName], delete the reference to\n                // the specified event name on the callback itself.\n                _deleteAllCallbackReferencesForEvent(eventName);\n\n                // Delete all functions in the dictionary that are registered to this\n                // event by deleting the named event object.\n                delete _mappings[eventName];\n            }\n        };\n\n        // Replace a single mapped callback for the specified event name with a new callback.\n        _self.replaceCallback = function (eventName, oldFn, newFn, once) {\n\n            if (typeof eventName !== 'string')\n            {\n                throw new ParamTypeError('replaceCallback', 'event name', eventName, 'string');\n            }\n            else if (eventName.length === 0)\n            {\n                throw new EventNameLengthError('replaceCallback');\n            }\n            else if (typeof _mappings[eventName] === 'undefined')\n            {\n                throw new UnmappedEventError('replaceCallback', eventName);\n            }\n            else if (_strictMode && typeof _self.events[eventName] === 'undefined')\n            {\n                throw new UndeclaredEventError('replaceCallback', eventName);\n            }\n\n            if (typeof oldFn !== 'function')\n            {\n                throw new ParamTypeError('replaceCallback', 'callback', oldFn, 'function');\n            }\n\n            if (typeof newFn !== 'function')\n            {\n                throw new ParamTypeError('replaceCallback', 'callback', newFn, 'function');\n            }\n\n            if (typeof once !== 'undefined' && typeof once !== 'boolean')\n            {\n                throw new ParamTypeError('replaceCallback', 'once', once, 'boolean');\n            }\n            \n            _self.off(eventName, oldFn);\n            _self.on(eventName, newFn, once);\n        };\n\n        // Replace all of the specified event names mapped callbacks with the specified callback.\n        _self.replaceAllCallbacks = function (eventName, newFn, once) {\n\n            if (typeof eventName !== 'string')\n            {\n                throw new ParamTypeError('replace', 'event name', eventName, 'string');\n            }\n            else if (eventName.length === 0)\n            {\n                throw new EventNameLengthError('replace');\n            }\n            else if (typeof _mappings[eventName] === 'undefined')\n            {\n                throw new UnmappedEventError('replace', eventName);\n            }\n            else if (_strictMode && typeof _self.events[eventName] === 'undefined')\n            {\n                throw new UndeclaredEventError('replace', eventName);\n            }\n\n            if (typeof newFn !== 'function')\n            {\n                throw new ParamTypeError('replace', 'callback', newFn, 'function');\n            }\n\n            if (typeof once !== 'undefined' && typeof once !== 'boolean')\n            {\n                throw new ParamTypeError('replace', 'once', once, 'boolean');\n            }\n            \n            _self.off(eventName);\n            _self.on(eventName, newFn, once);\n        };\n\n        _self.trigger = function (eventName, data)\n        {\n            if (typeof eventName !== 'string')\n            {\n                throw new ParamTypeError('trigger', 'event name', eventName, 'string');\n            }\n            else if (eventName.length === 0)\n            {\n                throw new EventNameLengthError('trigger');\n            }\n            else if (_strictMode && typeof _self.events[eventName] === 'undefined')\n            {\n                throw new UndeclaredEventError('trigger', eventName);\n            }\n            \n            if (typeof _mappings[eventName] === 'undefined')\n            {\n                if (_strictMode) throw new UnmappedEventError('trigger', eventName);\n\n                // Return silently if not in strict mode.\n                return;\n            }\n\n            // Check whether or not this is a browser environment.\n            if (_triggerAsync && typeof window !== 'undefined')\n            {\n                window.setTimeout(function(){\n                    _runCallback(eventName, data);\n                }, 0);\n            }\n            else\n            {\n                _runCallback(eventName, data);\n            }\n        };\n\n        _self.addEventName = function (eventName) {\n\n            if (typeof eventName !== 'string')\n            {\n                throw new ParamTypeError('addEventName', 'event name', eventName, 'string');\n            }\n            else if (eventName.length === 0)\n            {\n                throw new EventNameLengthError('addEventName');\n            }\n\n            _self.events[eventName] = eventName;\n        };\n\n        _self.addMultipleEventNames = function (eventNames) {\n            \n            if (!(eventNames instanceof Array))\n            {\n                throw new ParamTypeError('addMultipleEventNames', 'event names', eventNames, 'array');\n            }\n            else if (eventNames.length === 0)\n            {\n                throw new EventNamesArrayLengthError('addMultipleEventNames');\n            }\n\n            var i = 0;\n            var length = eventNames.length;\n\n            for(i; i < length; i++) {\n                var currentEventName = eventNames[i];\n                \n                _self.addEventName(currentEventName);\n            }\n        }\n\n        _self.removeEventName = function (eventName) {\n\n            if (typeof eventName !== 'string')\n            {\n                throw new ParamTypeError('removeEventName', 'event name', eventName, 'string');\n            }\n             else if (eventName.length === 0)\n            {\n                throw new EventNameLengthError('removeEventName');\n            }\n\n            if (_self.events[eventName]) delete _self.events[eventName];\n        };\n\n        _self.getStrictMode = function () {\n\n            // Return a boolean that doesn't directly point to the internal '_strictMode' property.\n            return _strictMode === true ? true : false;\n        };\n\n        _self.setStrictMode = function (useStrictMode) {\n\n            if (typeof useStrictMode !== 'boolean') throw new ParamTypeError('setStrictMode', 'strict mode', useStrictMode, 'boolean');\n\n            _strictMode = useStrictMode;\n        };\n\n        _self.getTriggerAsync = function () {\n\n            // Return a boolean that doesn't directly point to the internal '_triggerAsync' property.\n            return _triggerAsync === true ? true : false;\n        };\n\n        _self.setTriggerAsync = function (useAsync) {\n\n            if (typeof useAsync !== 'boolean') throw new ParamTypeError('setTriggerAsync', 'trigger async', useAsync, 'boolean');\n\n            _triggerAsync = useAsync;\n        };\n\n        // TODO : Create an 'addMultipleEventNames' method with an array of strings passed as a param.\n        // - include type checks for string while looping over the array.\n\n        // TODO : Create a 'replaceAllEventNames' method with an array of strings passed as a param.\n        // - include type checks for string while looping over the array.\n\n        // TODO : Create a 'removeAllEventNames' method. No params necessary.\n        //  Internally this could simply call 'replaceAllEventNames' and pass an empty array as a param.\n\n        // TODO : Create an 'onAny' method with an array of strings passed as the first param and a single callback as the second.\n        // - include type checks for string while looping over the array.\n\n        // TODO : Create an 'onMultiple' method with an array of flat objects passed as a param.\n        // - example of required param structure:\n        // [{eventName: 'someEvent', callback: someCallback, once: false}, {eventName: 'anotherEvent', callback: anotherCallback, once: true}]\n    }\n\n\n    // ------------------------------------------------------------------------------------------\n    // -- Module definition\n    // ------------------------------------------------------------------------------------------\n    // Check for AMD/Module support, otherwise define Bullet as a global variable.\n\n    if (typeof define !== 'undefined' && define.amd)\n    {\n        // AMD. Register as an anonymous module.\n        define (function()\n        {\n            return new Bullet();\n        });\n\n    }\n    else if (typeof module !== 'undefined' && module.exports)\n    {\n        module.exports = new Bullet();\n    }\n    else\n    {\n        window.Bullet = new Bullet();\n    }\n    \n})();\n\n\n// WEBPACK FOOTER //\n// ./~/bullet-pubsub/dist/bullet.js","/**\n * Returns a function, that, as long as it continues to be invoked, will not\n * be triggered. The function will be called after it stops being called for\n * N milliseconds. If `immediate` is passed, trigger the function on the\n * leading edge, instead of the trailing. The function also has a property 'clear' \n * that is a function which will clear the timer to prevent previously scheduled executions. \n *\n * @source underscore.js\n * @see http://unscriptable.com/2009/03/20/debouncing-javascript-methods/\n * @param {Function} function to wrap\n * @param {Number} timeout in ms (`100`)\n * @param {Boolean} whether to execute at the beginning (`false`)\n * @api public\n */\n\nmodule.exports = function debounce(func, wait, immediate){\n  var timeout, args, context, timestamp, result;\n  if (null == wait) wait = 100;\n\n  function later() {\n    var last = Date.now() - timestamp;\n\n    if (last < wait && last >= 0) {\n      timeout = setTimeout(later, wait - last);\n    } else {\n      timeout = null;\n      if (!immediate) {\n        result = func.apply(context, args);\n        context = args = null;\n      }\n    }\n  };\n\n  var debounced = function(){\n    context = this;\n    args = arguments;\n    timestamp = Date.now();\n    var callNow = immediate && !timeout;\n    if (!timeout) timeout = setTimeout(later, wait);\n    if (callNow) {\n      result = func.apply(context, args);\n      context = args = null;\n    }\n\n    return result;\n  };\n\n  debounced.clear = function() {\n    if (timeout) {\n      clearTimeout(timeout);\n      timeout = null;\n    }\n  };\n  \n  debounced.flush = function() {\n    if (timeout) {\n      result = func.apply(context, args);\n      context = args = null;\n      \n      clearTimeout(timeout);\n      timeout = null;\n    }\n  };\n\n  return debounced;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/debounce/index.js","/*global define:false */\n/**\n * Copyright 2012-2017 Craig Campbell\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * Mousetrap is a simple keyboard shortcut library for Javascript with\n * no external dependencies\n *\n * @version 1.6.1\n * @url craig.is/killing/mice\n */\n(function(window, document, undefined) {\n\n    // Check if mousetrap is used inside browser, if not, return\n    if (!window) {\n        return;\n    }\n\n    /**\n     * mapping of special keycodes to their corresponding keys\n     *\n     * everything in this dictionary cannot use keypress events\n     * so it has to be here to map to the correct keycodes for\n     * keyup/keydown events\n     *\n     * @type {Object}\n     */\n    var _MAP = {\n        8: 'backspace',\n        9: 'tab',\n        13: 'enter',\n        16: 'shift',\n        17: 'ctrl',\n        18: 'alt',\n        20: 'capslock',\n        27: 'esc',\n        32: 'space',\n        33: 'pageup',\n        34: 'pagedown',\n        35: 'end',\n        36: 'home',\n        37: 'left',\n        38: 'up',\n        39: 'right',\n        40: 'down',\n        45: 'ins',\n        46: 'del',\n        91: 'meta',\n        93: 'meta',\n        224: 'meta'\n    };\n\n    /**\n     * mapping for special characters so they can support\n     *\n     * this dictionary is only used incase you want to bind a\n     * keyup or keydown event to one of these keys\n     *\n     * @type {Object}\n     */\n    var _KEYCODE_MAP = {\n        106: '*',\n        107: '+',\n        109: '-',\n        110: '.',\n        111 : '/',\n        186: ';',\n        187: '=',\n        188: ',',\n        189: '-',\n        190: '.',\n        191: '/',\n        192: '`',\n        219: '[',\n        220: '\\\\',\n        221: ']',\n        222: '\\''\n    };\n\n    /**\n     * this is a mapping of keys that require shift on a US keypad\n     * back to the non shift equivelents\n     *\n     * this is so you can use keyup events with these keys\n     *\n     * note that this will only work reliably on US keyboards\n     *\n     * @type {Object}\n     */\n    var _SHIFT_MAP = {\n        '~': '`',\n        '!': '1',\n        '@': '2',\n        '#': '3',\n        '$': '4',\n        '%': '5',\n        '^': '6',\n        '&': '7',\n        '*': '8',\n        '(': '9',\n        ')': '0',\n        '_': '-',\n        '+': '=',\n        ':': ';',\n        '\\\"': '\\'',\n        '<': ',',\n        '>': '.',\n        '?': '/',\n        '|': '\\\\'\n    };\n\n    /**\n     * this is a list of special strings you can use to map\n     * to modifier keys when you specify your keyboard shortcuts\n     *\n     * @type {Object}\n     */\n    var _SPECIAL_ALIASES = {\n        'option': 'alt',\n        'command': 'meta',\n        'return': 'enter',\n        'escape': 'esc',\n        'plus': '+',\n        'mod': /Mac|iPod|iPhone|iPad/.test(navigator.platform) ? 'meta' : 'ctrl'\n    };\n\n    /**\n     * variable to store the flipped version of _MAP from above\n     * needed to check if we should use keypress or not when no action\n     * is specified\n     *\n     * @type {Object|undefined}\n     */\n    var _REVERSE_MAP;\n\n    /**\n     * loop through the f keys, f1 to f19 and add them to the map\n     * programatically\n     */\n    for (var i = 1; i < 20; ++i) {\n        _MAP[111 + i] = 'f' + i;\n    }\n\n    /**\n     * loop through to map numbers on the numeric keypad\n     */\n    for (i = 0; i <= 9; ++i) {\n\n        // This needs to use a string cause otherwise since 0 is falsey\n        // mousetrap will never fire for numpad 0 pressed as part of a keydown\n        // event.\n        //\n        // @see https://github.com/ccampbell/mousetrap/pull/258\n        _MAP[i + 96] = i.toString();\n    }\n\n    /**\n     * cross browser add event method\n     *\n     * @param {Element|HTMLDocument} object\n     * @param {string} type\n     * @param {Function} callback\n     * @returns void\n     */\n    function _addEvent(object, type, callback) {\n        if (object.addEventListener) {\n            object.addEventListener(type, callback, false);\n            return;\n        }\n\n        object.attachEvent('on' + type, callback);\n    }\n\n    /**\n     * takes the event and returns the key character\n     *\n     * @param {Event} e\n     * @return {string}\n     */\n    function _characterFromEvent(e) {\n\n        // for keypress events we should return the character as is\n        if (e.type == 'keypress') {\n            var character = String.fromCharCode(e.which);\n\n            // if the shift key is not pressed then it is safe to assume\n            // that we want the character to be lowercase.  this means if\n            // you accidentally have caps lock on then your key bindings\n            // will continue to work\n            //\n            // the only side effect that might not be desired is if you\n            // bind something like 'A' cause you want to trigger an\n            // event when capital A is pressed caps lock will no longer\n            // trigger the event.  shift+a will though.\n            if (!e.shiftKey) {\n                character = character.toLowerCase();\n            }\n\n            return character;\n        }\n\n        // for non keypress events the special maps are needed\n        if (_MAP[e.which]) {\n            return _MAP[e.which];\n        }\n\n        if (_KEYCODE_MAP[e.which]) {\n            return _KEYCODE_MAP[e.which];\n        }\n\n        // if it is not in the special map\n\n        // with keydown and keyup events the character seems to always\n        // come in as an uppercase character whether you are pressing shift\n        // or not.  we should make sure it is always lowercase for comparisons\n        return String.fromCharCode(e.which).toLowerCase();\n    }\n\n    /**\n     * checks if two arrays are equal\n     *\n     * @param {Array} modifiers1\n     * @param {Array} modifiers2\n     * @returns {boolean}\n     */\n    function _modifiersMatch(modifiers1, modifiers2) {\n        return modifiers1.sort().join(',') === modifiers2.sort().join(',');\n    }\n\n    /**\n     * takes a key event and figures out what the modifiers are\n     *\n     * @param {Event} e\n     * @returns {Array}\n     */\n    function _eventModifiers(e) {\n        var modifiers = [];\n\n        if (e.shiftKey) {\n            modifiers.push('shift');\n        }\n\n        if (e.altKey) {\n            modifiers.push('alt');\n        }\n\n        if (e.ctrlKey) {\n            modifiers.push('ctrl');\n        }\n\n        if (e.metaKey) {\n            modifiers.push('meta');\n        }\n\n        return modifiers;\n    }\n\n    /**\n     * prevents default for this event\n     *\n     * @param {Event} e\n     * @returns void\n     */\n    function _preventDefault(e) {\n        if (e.preventDefault) {\n            e.preventDefault();\n            return;\n        }\n\n        e.returnValue = false;\n    }\n\n    /**\n     * stops propogation for this event\n     *\n     * @param {Event} e\n     * @returns void\n     */\n    function _stopPropagation(e) {\n        if (e.stopPropagation) {\n            e.stopPropagation();\n            return;\n        }\n\n        e.cancelBubble = true;\n    }\n\n    /**\n     * determines if the keycode specified is a modifier key or not\n     *\n     * @param {string} key\n     * @returns {boolean}\n     */\n    function _isModifier(key) {\n        return key == 'shift' || key == 'ctrl' || key == 'alt' || key == 'meta';\n    }\n\n    /**\n     * reverses the map lookup so that we can look for specific keys\n     * to see what can and can't use keypress\n     *\n     * @return {Object}\n     */\n    function _getReverseMap() {\n        if (!_REVERSE_MAP) {\n            _REVERSE_MAP = {};\n            for (var key in _MAP) {\n\n                // pull out the numeric keypad from here cause keypress should\n                // be able to detect the keys from the character\n                if (key > 95 && key < 112) {\n                    continue;\n                }\n\n                if (_MAP.hasOwnProperty(key)) {\n                    _REVERSE_MAP[_MAP[key]] = key;\n                }\n            }\n        }\n        return _REVERSE_MAP;\n    }\n\n    /**\n     * picks the best action based on the key combination\n     *\n     * @param {string} key - character for key\n     * @param {Array} modifiers\n     * @param {string=} action passed in\n     */\n    function _pickBestAction(key, modifiers, action) {\n\n        // if no action was picked in we should try to pick the one\n        // that we think would work best for this key\n        if (!action) {\n            action = _getReverseMap()[key] ? 'keydown' : 'keypress';\n        }\n\n        // modifier keys don't work as expected with keypress,\n        // switch to keydown\n        if (action == 'keypress' && modifiers.length) {\n            action = 'keydown';\n        }\n\n        return action;\n    }\n\n    /**\n     * Converts from a string key combination to an array\n     *\n     * @param  {string} combination like \"command+shift+l\"\n     * @return {Array}\n     */\n    function _keysFromString(combination) {\n        if (combination === '+') {\n            return ['+'];\n        }\n\n        combination = combination.replace(/\\+{2}/g, '+plus');\n        return combination.split('+');\n    }\n\n    /**\n     * Gets info for a specific key combination\n     *\n     * @param  {string} combination key combination (\"command+s\" or \"a\" or \"*\")\n     * @param  {string=} action\n     * @returns {Object}\n     */\n    function _getKeyInfo(combination, action) {\n        var keys;\n        var key;\n        var i;\n        var modifiers = [];\n\n        // take the keys from this pattern and figure out what the actual\n        // pattern is all about\n        keys = _keysFromString(combination);\n\n        for (i = 0; i < keys.length; ++i) {\n            key = keys[i];\n\n            // normalize key names\n            if (_SPECIAL_ALIASES[key]) {\n                key = _SPECIAL_ALIASES[key];\n            }\n\n            // if this is not a keypress event then we should\n            // be smart about using shift keys\n            // this will only work for US keyboards however\n            if (action && action != 'keypress' && _SHIFT_MAP[key]) {\n                key = _SHIFT_MAP[key];\n                modifiers.push('shift');\n            }\n\n            // if this key is a modifier then add it to the list of modifiers\n            if (_isModifier(key)) {\n                modifiers.push(key);\n            }\n        }\n\n        // depending on what the key combination is\n        // we will try to pick the best event for it\n        action = _pickBestAction(key, modifiers, action);\n\n        return {\n            key: key,\n            modifiers: modifiers,\n            action: action\n        };\n    }\n\n    function _belongsTo(element, ancestor) {\n        if (element === null || element === document) {\n            return false;\n        }\n\n        if (element === ancestor) {\n            return true;\n        }\n\n        return _belongsTo(element.parentNode, ancestor);\n    }\n\n    function Mousetrap(targetElement) {\n        var self = this;\n\n        targetElement = targetElement || document;\n\n        if (!(self instanceof Mousetrap)) {\n            return new Mousetrap(targetElement);\n        }\n\n        /**\n         * element to attach key events to\n         *\n         * @type {Element}\n         */\n        self.target = targetElement;\n\n        /**\n         * a list of all the callbacks setup via Mousetrap.bind()\n         *\n         * @type {Object}\n         */\n        self._callbacks = {};\n\n        /**\n         * direct map of string combinations to callbacks used for trigger()\n         *\n         * @type {Object}\n         */\n        self._directMap = {};\n\n        /**\n         * keeps track of what level each sequence is at since multiple\n         * sequences can start out with the same sequence\n         *\n         * @type {Object}\n         */\n        var _sequenceLevels = {};\n\n        /**\n         * variable to store the setTimeout call\n         *\n         * @type {null|number}\n         */\n        var _resetTimer;\n\n        /**\n         * temporary state where we will ignore the next keyup\n         *\n         * @type {boolean|string}\n         */\n        var _ignoreNextKeyup = false;\n\n        /**\n         * temporary state where we will ignore the next keypress\n         *\n         * @type {boolean}\n         */\n        var _ignoreNextKeypress = false;\n\n        /**\n         * are we currently inside of a sequence?\n         * type of action (\"keyup\" or \"keydown\" or \"keypress\") or false\n         *\n         * @type {boolean|string}\n         */\n        var _nextExpectedAction = false;\n\n        /**\n         * resets all sequence counters except for the ones passed in\n         *\n         * @param {Object} doNotReset\n         * @returns void\n         */\n        function _resetSequences(doNotReset) {\n            doNotReset = doNotReset || {};\n\n            var activeSequences = false,\n                key;\n\n            for (key in _sequenceLevels) {\n                if (doNotReset[key]) {\n                    activeSequences = true;\n                    continue;\n                }\n                _sequenceLevels[key] = 0;\n            }\n\n            if (!activeSequences) {\n                _nextExpectedAction = false;\n            }\n        }\n\n        /**\n         * finds all callbacks that match based on the keycode, modifiers,\n         * and action\n         *\n         * @param {string} character\n         * @param {Array} modifiers\n         * @param {Event|Object} e\n         * @param {string=} sequenceName - name of the sequence we are looking for\n         * @param {string=} combination\n         * @param {number=} level\n         * @returns {Array}\n         */\n        function _getMatches(character, modifiers, e, sequenceName, combination, level) {\n            var i;\n            var callback;\n            var matches = [];\n            var action = e.type;\n\n            // if there are no events related to this keycode\n            if (!self._callbacks[character]) {\n                return [];\n            }\n\n            // if a modifier key is coming up on its own we should allow it\n            if (action == 'keyup' && _isModifier(character)) {\n                modifiers = [character];\n            }\n\n            // loop through all callbacks for the key that was pressed\n            // and see if any of them match\n            for (i = 0; i < self._callbacks[character].length; ++i) {\n                callback = self._callbacks[character][i];\n\n                // if a sequence name is not specified, but this is a sequence at\n                // the wrong level then move onto the next match\n                if (!sequenceName && callback.seq && _sequenceLevels[callback.seq] != callback.level) {\n                    continue;\n                }\n\n                // if the action we are looking for doesn't match the action we got\n                // then we should keep going\n                if (action != callback.action) {\n                    continue;\n                }\n\n                // if this is a keypress event and the meta key and control key\n                // are not pressed that means that we need to only look at the\n                // character, otherwise check the modifiers as well\n                //\n                // chrome will not fire a keypress if meta or control is down\n                // safari will fire a keypress if meta or meta+shift is down\n                // firefox will fire a keypress if meta or control is down\n                if ((action == 'keypress' && !e.metaKey && !e.ctrlKey) || _modifiersMatch(modifiers, callback.modifiers)) {\n\n                    // when you bind a combination or sequence a second time it\n                    // should overwrite the first one.  if a sequenceName or\n                    // combination is specified in this call it does just that\n                    //\n                    // @todo make deleting its own method?\n                    var deleteCombo = !sequenceName && callback.combo == combination;\n                    var deleteSequence = sequenceName && callback.seq == sequenceName && callback.level == level;\n                    if (deleteCombo || deleteSequence) {\n                        self._callbacks[character].splice(i, 1);\n                    }\n\n                    matches.push(callback);\n                }\n            }\n\n            return matches;\n        }\n\n        /**\n         * actually calls the callback function\n         *\n         * if your callback function returns false this will use the jquery\n         * convention - prevent default and stop propogation on the event\n         *\n         * @param {Function} callback\n         * @param {Event} e\n         * @returns void\n         */\n        function _fireCallback(callback, e, combo, sequence) {\n\n            // if this event should not happen stop here\n            if (self.stopCallback(e, e.target || e.srcElement, combo, sequence)) {\n                return;\n            }\n\n            if (callback(e, combo) === false) {\n                _preventDefault(e);\n                _stopPropagation(e);\n            }\n        }\n\n        /**\n         * handles a character key event\n         *\n         * @param {string} character\n         * @param {Array} modifiers\n         * @param {Event} e\n         * @returns void\n         */\n        self._handleKey = function(character, modifiers, e) {\n            var callbacks = _getMatches(character, modifiers, e);\n            var i;\n            var doNotReset = {};\n            var maxLevel = 0;\n            var processedSequenceCallback = false;\n\n            // Calculate the maxLevel for sequences so we can only execute the longest callback sequence\n            for (i = 0; i < callbacks.length; ++i) {\n                if (callbacks[i].seq) {\n                    maxLevel = Math.max(maxLevel, callbacks[i].level);\n                }\n            }\n\n            // loop through matching callbacks for this key event\n            for (i = 0; i < callbacks.length; ++i) {\n\n                // fire for all sequence callbacks\n                // this is because if for example you have multiple sequences\n                // bound such as \"g i\" and \"g t\" they both need to fire the\n                // callback for matching g cause otherwise you can only ever\n                // match the first one\n                if (callbacks[i].seq) {\n\n                    // only fire callbacks for the maxLevel to prevent\n                    // subsequences from also firing\n                    //\n                    // for example 'a option b' should not cause 'option b' to fire\n                    // even though 'option b' is part of the other sequence\n                    //\n                    // any sequences that do not match here will be discarded\n                    // below by the _resetSequences call\n                    if (callbacks[i].level != maxLevel) {\n                        continue;\n                    }\n\n                    processedSequenceCallback = true;\n\n                    // keep a list of which sequences were matches for later\n                    doNotReset[callbacks[i].seq] = 1;\n                    _fireCallback(callbacks[i].callback, e, callbacks[i].combo, callbacks[i].seq);\n                    continue;\n                }\n\n                // if there were no sequence matches but we are still here\n                // that means this is a regular match so we should fire that\n                if (!processedSequenceCallback) {\n                    _fireCallback(callbacks[i].callback, e, callbacks[i].combo);\n                }\n            }\n\n            // if the key you pressed matches the type of sequence without\n            // being a modifier (ie \"keyup\" or \"keypress\") then we should\n            // reset all sequences that were not matched by this event\n            //\n            // this is so, for example, if you have the sequence \"h a t\" and you\n            // type \"h e a r t\" it does not match.  in this case the \"e\" will\n            // cause the sequence to reset\n            //\n            // modifier keys are ignored because you can have a sequence\n            // that contains modifiers such as \"enter ctrl+space\" and in most\n            // cases the modifier key will be pressed before the next key\n            //\n            // also if you have a sequence such as \"ctrl+b a\" then pressing the\n            // \"b\" key will trigger a \"keypress\" and a \"keydown\"\n            //\n            // the \"keydown\" is expected when there is a modifier, but the\n            // \"keypress\" ends up matching the _nextExpectedAction since it occurs\n            // after and that causes the sequence to reset\n            //\n            // we ignore keypresses in a sequence that directly follow a keydown\n            // for the same character\n            var ignoreThisKeypress = e.type == 'keypress' && _ignoreNextKeypress;\n            if (e.type == _nextExpectedAction && !_isModifier(character) && !ignoreThisKeypress) {\n                _resetSequences(doNotReset);\n            }\n\n            _ignoreNextKeypress = processedSequenceCallback && e.type == 'keydown';\n        };\n\n        /**\n         * handles a keydown event\n         *\n         * @param {Event} e\n         * @returns void\n         */\n        function _handleKeyEvent(e) {\n\n            // normalize e.which for key events\n            // @see http://stackoverflow.com/questions/4285627/javascript-keycode-vs-charcode-utter-confusion\n            if (typeof e.which !== 'number') {\n                e.which = e.keyCode;\n            }\n\n            var character = _characterFromEvent(e);\n\n            // no character found then stop\n            if (!character) {\n                return;\n            }\n\n            // need to use === for the character check because the character can be 0\n            if (e.type == 'keyup' && _ignoreNextKeyup === character) {\n                _ignoreNextKeyup = false;\n                return;\n            }\n\n            self.handleKey(character, _eventModifiers(e), e);\n        }\n\n        /**\n         * called to set a 1 second timeout on the specified sequence\n         *\n         * this is so after each key press in the sequence you have 1 second\n         * to press the next key before you have to start over\n         *\n         * @returns void\n         */\n        function _resetSequenceTimer() {\n            clearTimeout(_resetTimer);\n            _resetTimer = setTimeout(_resetSequences, 1000);\n        }\n\n        /**\n         * binds a key sequence to an event\n         *\n         * @param {string} combo - combo specified in bind call\n         * @param {Array} keys\n         * @param {Function} callback\n         * @param {string=} action\n         * @returns void\n         */\n        function _bindSequence(combo, keys, callback, action) {\n\n            // start off by adding a sequence level record for this combination\n            // and setting the level to 0\n            _sequenceLevels[combo] = 0;\n\n            /**\n             * callback to increase the sequence level for this sequence and reset\n             * all other sequences that were active\n             *\n             * @param {string} nextAction\n             * @returns {Function}\n             */\n            function _increaseSequence(nextAction) {\n                return function() {\n                    _nextExpectedAction = nextAction;\n                    ++_sequenceLevels[combo];\n                    _resetSequenceTimer();\n                };\n            }\n\n            /**\n             * wraps the specified callback inside of another function in order\n             * to reset all sequence counters as soon as this sequence is done\n             *\n             * @param {Event} e\n             * @returns void\n             */\n            function _callbackAndReset(e) {\n                _fireCallback(callback, e, combo);\n\n                // we should ignore the next key up if the action is key down\n                // or keypress.  this is so if you finish a sequence and\n                // release the key the final key will not trigger a keyup\n                if (action !== 'keyup') {\n                    _ignoreNextKeyup = _characterFromEvent(e);\n                }\n\n                // weird race condition if a sequence ends with the key\n                // another sequence begins with\n                setTimeout(_resetSequences, 10);\n            }\n\n            // loop through keys one at a time and bind the appropriate callback\n            // function.  for any key leading up to the final one it should\n            // increase the sequence. after the final, it should reset all sequences\n            //\n            // if an action is specified in the original bind call then that will\n            // be used throughout.  otherwise we will pass the action that the\n            // next key in the sequence should match.  this allows a sequence\n            // to mix and match keypress and keydown events depending on which\n            // ones are better suited to the key provided\n            for (var i = 0; i < keys.length; ++i) {\n                var isFinal = i + 1 === keys.length;\n                var wrappedCallback = isFinal ? _callbackAndReset : _increaseSequence(action || _getKeyInfo(keys[i + 1]).action);\n                _bindSingle(keys[i], wrappedCallback, action, combo, i);\n            }\n        }\n\n        /**\n         * binds a single keyboard combination\n         *\n         * @param {string} combination\n         * @param {Function} callback\n         * @param {string=} action\n         * @param {string=} sequenceName - name of sequence if part of sequence\n         * @param {number=} level - what part of the sequence the command is\n         * @returns void\n         */\n        function _bindSingle(combination, callback, action, sequenceName, level) {\n\n            // store a direct mapped reference for use with Mousetrap.trigger\n            self._directMap[combination + ':' + action] = callback;\n\n            // make sure multiple spaces in a row become a single space\n            combination = combination.replace(/\\s+/g, ' ');\n\n            var sequence = combination.split(' ');\n            var info;\n\n            // if this pattern is a sequence of keys then run through this method\n            // to reprocess each pattern one key at a time\n            if (sequence.length > 1) {\n                _bindSequence(combination, sequence, callback, action);\n                return;\n            }\n\n            info = _getKeyInfo(combination, action);\n\n            // make sure to initialize array if this is the first time\n            // a callback is added for this key\n            self._callbacks[info.key] = self._callbacks[info.key] || [];\n\n            // remove an existing match if there is one\n            _getMatches(info.key, info.modifiers, {type: info.action}, sequenceName, combination, level);\n\n            // add this call back to the array\n            // if it is a sequence put it at the beginning\n            // if not put it at the end\n            //\n            // this is important because the way these are processed expects\n            // the sequence ones to come first\n            self._callbacks[info.key][sequenceName ? 'unshift' : 'push']({\n                callback: callback,\n                modifiers: info.modifiers,\n                action: info.action,\n                seq: sequenceName,\n                level: level,\n                combo: combination\n            });\n        }\n\n        /**\n         * binds multiple combinations to the same callback\n         *\n         * @param {Array} combinations\n         * @param {Function} callback\n         * @param {string|undefined} action\n         * @returns void\n         */\n        self._bindMultiple = function(combinations, callback, action) {\n            for (var i = 0; i < combinations.length; ++i) {\n                _bindSingle(combinations[i], callback, action);\n            }\n        };\n\n        // start!\n        _addEvent(targetElement, 'keypress', _handleKeyEvent);\n        _addEvent(targetElement, 'keydown', _handleKeyEvent);\n        _addEvent(targetElement, 'keyup', _handleKeyEvent);\n    }\n\n    /**\n     * binds an event to mousetrap\n     *\n     * can be a single key, a combination of keys separated with +,\n     * an array of keys, or a sequence of keys separated by spaces\n     *\n     * be sure to list the modifier keys first to make sure that the\n     * correct key ends up getting bound (the last key in the pattern)\n     *\n     * @param {string|Array} keys\n     * @param {Function} callback\n     * @param {string=} action - 'keypress', 'keydown', or 'keyup'\n     * @returns void\n     */\n    Mousetrap.prototype.bind = function(keys, callback, action) {\n        var self = this;\n        keys = keys instanceof Array ? keys : [keys];\n        self._bindMultiple.call(self, keys, callback, action);\n        return self;\n    };\n\n    /**\n     * unbinds an event to mousetrap\n     *\n     * the unbinding sets the callback function of the specified key combo\n     * to an empty function and deletes the corresponding key in the\n     * _directMap dict.\n     *\n     * TODO: actually remove this from the _callbacks dictionary instead\n     * of binding an empty function\n     *\n     * the keycombo+action has to be exactly the same as\n     * it was defined in the bind method\n     *\n     * @param {string|Array} keys\n     * @param {string} action\n     * @returns void\n     */\n    Mousetrap.prototype.unbind = function(keys, action) {\n        var self = this;\n        return self.bind.call(self, keys, function() {}, action);\n    };\n\n    /**\n     * triggers an event that has already been bound\n     *\n     * @param {string} keys\n     * @param {string=} action\n     * @returns void\n     */\n    Mousetrap.prototype.trigger = function(keys, action) {\n        var self = this;\n        if (self._directMap[keys + ':' + action]) {\n            self._directMap[keys + ':' + action]({}, keys);\n        }\n        return self;\n    };\n\n    /**\n     * resets the library back to its initial state.  this is useful\n     * if you want to clear out the current keyboard shortcuts and bind\n     * new ones - for example if you switch to another page\n     *\n     * @returns void\n     */\n    Mousetrap.prototype.reset = function() {\n        var self = this;\n        self._callbacks = {};\n        self._directMap = {};\n        return self;\n    };\n\n    /**\n     * should we stop this event before firing off callbacks\n     *\n     * @param {Event} e\n     * @param {Element} element\n     * @return {boolean}\n     */\n    Mousetrap.prototype.stopCallback = function(e, element) {\n        var self = this;\n\n        // if the element has the class \"mousetrap\" then no need to stop\n        if ((' ' + element.className + ' ').indexOf(' mousetrap ') > -1) {\n            return false;\n        }\n\n        if (_belongsTo(element, self.target)) {\n            return false;\n        }\n\n        // stop for input, select, and textarea\n        return element.tagName == 'INPUT' || element.tagName == 'SELECT' || element.tagName == 'TEXTAREA' || element.isContentEditable;\n    };\n\n    /**\n     * exposes _handleKey publicly so it can be overwritten by extensions\n     */\n    Mousetrap.prototype.handleKey = function() {\n        var self = this;\n        return self._handleKey.apply(self, arguments);\n    };\n\n    /**\n     * allow custom key mappings\n     */\n    Mousetrap.addKeycodes = function(object) {\n        for (var key in object) {\n            if (object.hasOwnProperty(key)) {\n                _MAP[key] = object[key];\n            }\n        }\n        _REVERSE_MAP = null;\n    };\n\n    /**\n     * Init the global mousetrap functions\n     *\n     * This method is needed to allow the global mousetrap functions to work\n     * now that mousetrap is a constructor function.\n     */\n    Mousetrap.init = function() {\n        var documentMousetrap = Mousetrap(document);\n        for (var method in documentMousetrap) {\n            if (method.charAt(0) !== '_') {\n                Mousetrap[method] = (function(method) {\n                    return function() {\n                        return documentMousetrap[method].apply(documentMousetrap, arguments);\n                    };\n                } (method));\n            }\n        }\n    };\n\n    Mousetrap.init();\n\n    // expose mousetrap to the global object\n    window.Mousetrap = Mousetrap;\n\n    // expose as a common js module\n    if (typeof module !== 'undefined' && module.exports) {\n        module.exports = Mousetrap;\n    }\n\n    // expose mousetrap as an AMD module\n    if (typeof define === 'function' && define.amd) {\n        define(function() {\n            return Mousetrap;\n        });\n    }\n}) (typeof window !== 'undefined' ? window : null, typeof  window !== 'undefined' ? document : null);\n\n\n\n// WEBPACK FOOTER //\n// ./~/mousetrap/mousetrap.js","var type = require('type-of');\n\nvar jsonpID = 0,\n    document = window.document,\n    key,\n    name,\n    rscript = /<script\\b[^<]*(?:(?!<\\/script>)<[^<]*)*<\\/script>/gi,\n    scriptTypeRE = /^(?:text|application)\\/javascript/i,\n    xmlTypeRE = /^(?:text|application)\\/xml/i,\n    jsonType = 'application/json',\n    htmlType = 'text/html',\n    blankRE = /^\\s*$/\n\nvar ajax = module.exports = function(options){\n  var settings = extend({}, options || {})\n  for (key in ajax.settings) if (settings[key] === undefined) settings[key] = ajax.settings[key]\n\n  ajaxStart(settings)\n\n  if (!settings.crossDomain) settings.crossDomain = /^([\\w-]+:)?\\/\\/([^\\/]+)/.test(settings.url) &&\n    RegExp.$2 != window.location.host\n\n  var dataType = settings.dataType, hasPlaceholder = /=\\?/.test(settings.url)\n  if (dataType == 'jsonp' || hasPlaceholder) {\n    if (!hasPlaceholder) settings.url = appendQuery(settings.url, 'callback=?')\n    return ajax.JSONP(settings)\n  }\n\n  if (!settings.url) settings.url = window.location.toString()\n  serializeData(settings)\n\n  var mime = settings.accepts[dataType],\n      baseHeaders = { },\n      protocol = /^([\\w-]+:)\\/\\//.test(settings.url) ? RegExp.$1 : window.location.protocol,\n      xhr = ajax.settings.xhr(), abortTimeout\n\n  if (!settings.crossDomain) baseHeaders['X-Requested-With'] = 'XMLHttpRequest'\n  if (mime) {\n    baseHeaders['Accept'] = mime\n    if (mime.indexOf(',') > -1) mime = mime.split(',', 2)[0]\n    xhr.overrideMimeType && xhr.overrideMimeType(mime)\n  }\n  if (settings.contentType || (settings.data && settings.type.toUpperCase() != 'GET'))\n    baseHeaders['Content-Type'] = (settings.contentType || 'application/x-www-form-urlencoded')\n  settings.headers = extend(baseHeaders, settings.headers || {})\n\n  xhr.onreadystatechange = function(){\n    if (xhr.readyState == 4) {\n      clearTimeout(abortTimeout)\n      var result, error = false\n      if ((xhr.status >= 200 && xhr.status < 300) || xhr.status == 304 || (xhr.status == 0 && protocol == 'file:')) {\n        dataType = dataType || mimeToDataType(xhr.getResponseHeader('content-type'))\n        result = xhr.responseText\n\n        try {\n          if (dataType == 'script')    (1,eval)(result)\n          else if (dataType == 'xml')  result = xhr.responseXML\n          else if (dataType == 'json') result = blankRE.test(result) ? null : JSON.parse(result)\n        } catch (e) { error = e }\n\n        if (error) ajaxError(error, 'parsererror', xhr, settings)\n        else ajaxSuccess(result, xhr, settings)\n      } else {\n        ajaxError(null, 'error', xhr, settings)\n      }\n    }\n  }\n\n  var async = 'async' in settings ? settings.async : true\n  xhr.open(settings.type, settings.url, async)\n\n  for (name in settings.headers) xhr.setRequestHeader(name, settings.headers[name])\n\n  if (ajaxBeforeSend(xhr, settings) === false) {\n    xhr.abort()\n    return false\n  }\n\n  if (settings.timeout > 0) abortTimeout = setTimeout(function(){\n      xhr.onreadystatechange = empty\n      xhr.abort()\n      ajaxError(null, 'timeout', xhr, settings)\n    }, settings.timeout)\n\n  // avoid sending empty string (#319)\n  xhr.send(settings.data ? settings.data : null)\n  return xhr\n}\n\n\n// trigger a custom event and return false if it was cancelled\nfunction triggerAndReturn(context, eventName, data) {\n  //todo: Fire off some events\n  //var event = $.Event(eventName)\n  //$(context).trigger(event, data)\n  return true;//!event.defaultPrevented\n}\n\n// trigger an Ajax \"global\" event\nfunction triggerGlobal(settings, context, eventName, data) {\n  if (settings.global) return triggerAndReturn(context || document, eventName, data)\n}\n\n// Number of active Ajax requests\najax.active = 0\n\nfunction ajaxStart(settings) {\n  if (settings.global && ajax.active++ === 0) triggerGlobal(settings, null, 'ajaxStart')\n}\nfunction ajaxStop(settings) {\n  if (settings.global && !(--ajax.active)) triggerGlobal(settings, null, 'ajaxStop')\n}\n\n// triggers an extra global event \"ajaxBeforeSend\" that's like \"ajaxSend\" but cancelable\nfunction ajaxBeforeSend(xhr, settings) {\n  var context = settings.context\n  if (settings.beforeSend.call(context, xhr, settings) === false ||\n      triggerGlobal(settings, context, 'ajaxBeforeSend', [xhr, settings]) === false)\n    return false\n\n  triggerGlobal(settings, context, 'ajaxSend', [xhr, settings])\n}\nfunction ajaxSuccess(data, xhr, settings) {\n  var context = settings.context, status = 'success'\n  settings.success.call(context, data, status, xhr)\n  triggerGlobal(settings, context, 'ajaxSuccess', [xhr, settings, data])\n  ajaxComplete(status, xhr, settings)\n}\n// type: \"timeout\", \"error\", \"abort\", \"parsererror\"\nfunction ajaxError(error, type, xhr, settings) {\n  var context = settings.context\n  settings.error.call(context, xhr, type, error)\n  triggerGlobal(settings, context, 'ajaxError', [xhr, settings, error])\n  ajaxComplete(type, xhr, settings)\n}\n// status: \"success\", \"notmodified\", \"error\", \"timeout\", \"abort\", \"parsererror\"\nfunction ajaxComplete(status, xhr, settings) {\n  var context = settings.context\n  settings.complete.call(context, xhr, status)\n  triggerGlobal(settings, context, 'ajaxComplete', [xhr, settings])\n  ajaxStop(settings)\n}\n\n// Empty function, used as default callback\nfunction empty() {}\n\najax.JSONP = function(options){\n  if (!('type' in options)) return ajax(options)\n\n  var callbackName = 'jsonp' + (++jsonpID),\n    script = document.createElement('script'),\n    abort = function(){\n      //todo: remove script\n      //$(script).remove()\n      if (callbackName in window) window[callbackName] = empty\n      ajaxComplete('abort', xhr, options)\n    },\n    xhr = { abort: abort }, abortTimeout,\n    head = document.getElementsByTagName(\"head\")[0]\n      || document.documentElement\n\n  if (options.error) script.onerror = function() {\n    xhr.abort()\n    options.error()\n  }\n\n  window[callbackName] = function(data){\n    clearTimeout(abortTimeout)\n      //todo: remove script\n      //$(script).remove()\n    delete window[callbackName]\n    ajaxSuccess(data, xhr, options)\n  }\n\n  serializeData(options)\n  script.src = options.url.replace(/=\\?/, '=' + callbackName)\n\n  // Use insertBefore instead of appendChild to circumvent an IE6 bug.\n  // This arises when a base node is used (see jQuery bugs #2709 and #4378).\n  head.insertBefore(script, head.firstChild);\n\n  if (options.timeout > 0) abortTimeout = setTimeout(function(){\n      xhr.abort()\n      ajaxComplete('timeout', xhr, options)\n    }, options.timeout)\n\n  return xhr\n}\n\najax.settings = {\n  // Default type of request\n  type: 'GET',\n  // Callback that is executed before request\n  beforeSend: empty,\n  // Callback that is executed if the request succeeds\n  success: empty,\n  // Callback that is executed the the server drops error\n  error: empty,\n  // Callback that is executed on request complete (both: error and success)\n  complete: empty,\n  // The context for the callbacks\n  context: null,\n  // Whether to trigger \"global\" Ajax events\n  global: true,\n  // Transport\n  xhr: function () {\n    return new window.XMLHttpRequest()\n  },\n  // MIME types mapping\n  accepts: {\n    script: 'text/javascript, application/javascript',\n    json:   jsonType,\n    xml:    'application/xml, text/xml',\n    html:   htmlType,\n    text:   'text/plain'\n  },\n  // Whether the request is to another domain\n  crossDomain: false,\n  // Default timeout\n  timeout: 0\n}\n\nfunction mimeToDataType(mime) {\n  return mime && ( mime == htmlType ? 'html' :\n    mime == jsonType ? 'json' :\n    scriptTypeRE.test(mime) ? 'script' :\n    xmlTypeRE.test(mime) && 'xml' ) || 'text'\n}\n\nfunction appendQuery(url, query) {\n  return (url + '&' + query).replace(/[&?]{1,2}/, '?')\n}\n\n// serialize payload and append it to the URL for GET requests\nfunction serializeData(options) {\n  if (type(options.data) === 'object') options.data = param(options.data)\n  if (options.data && (!options.type || options.type.toUpperCase() == 'GET'))\n    options.url = appendQuery(options.url, options.data)\n}\n\najax.get = function(url, success){ return ajax({ url: url, success: success }) }\n\najax.post = function(url, data, success, dataType){\n  if (type(data) === 'function') dataType = dataType || success, success = data, data = null\n  return ajax({ type: 'POST', url: url, data: data, success: success, dataType: dataType })\n}\n\najax.getJSON = function(url, success){\n  return ajax({ url: url, success: success, dataType: 'json' })\n}\n\nvar escape = encodeURIComponent\n\nfunction serialize(params, obj, traditional, scope){\n  var array = type(obj) === 'array';\n  for (var key in obj) {\n    var value = obj[key];\n\n    if (scope) key = traditional ? scope : scope + '[' + (array ? '' : key) + ']'\n    // handle data in serializeArray() format\n    if (!scope && array) params.add(value.name, value.value)\n    // recurse into nested objects\n    else if (traditional ? (type(value) === 'array') : (type(value) === 'object'))\n      serialize(params, value, traditional, key)\n    else params.add(key, value)\n  }\n}\n\nfunction param(obj, traditional){\n  var params = []\n  params.add = function(k, v){ this.push(escape(k) + '=' + escape(v)) }\n  serialize(params, obj, traditional)\n  return params.join('&').replace('%20', '+')\n}\n\nfunction extend(target) {\n  var slice = Array.prototype.slice;\n  slice.call(arguments, 1).forEach(function(source) {\n    for (key in source)\n      if (source[key] !== undefined)\n        target[key] = source[key]\n  })\n  return target\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/packing-ajax/index.js","var toString = Object.prototype.toString\r\n\r\nmodule.exports = function(val){\r\n  switch (toString.call(val)) {\r\n    case '[object Function]': return 'function'\r\n    case '[object Date]': return 'date'\r\n    case '[object RegExp]': return 'regexp'\r\n    case '[object Arguments]': return 'arguments'\r\n    case '[object Array]': return 'array'\r\n    case '[object String]': return 'string'\r\n  }\r\n\r\n  if (typeof val == 'object' && val && typeof val.length == 'number') {\r\n    try {\r\n      if (typeof val.callee == 'function') return 'arguments';\r\n    } catch (ex) {\r\n      if (ex instanceof TypeError) {\r\n        return 'arguments';\r\n      }\r\n    }\r\n  }\r\n\r\n  if (val === null) return 'null'\r\n  if (val === undefined) return 'undefined'\r\n  if (val && val.nodeType === 1) return 'element'\r\n  if (val === Object(val)) return 'object'\r\n\r\n  return typeof val\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./~/type-of/index.js","/* Bulk Pinner - Create multiple pins in your Pinterest boards at once\r\n * Copyright (C) 2017 Luke Denton\r\n *\r\n * This program is free software: you can redistribute it and/or modify\r\n * it under the terms of the GNU General Public License as published by\r\n * the Free Software Foundation; either version 3 of the License, or\r\n * (at your option) any later version.\r\n *\r\n * This program is distributed in the hope that it will be useful,\r\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n * GNU General Public License for more details.\r\n *\r\n * You should have received a copy of the GNU General Public License\r\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\r\n */\r\nimport ajax from 'packing-ajax'\r\n\r\n/**\r\n * Class AJAX\r\n *\r\n * Abstraction of all AJAX interactions\r\n */\r\nexport default class AJAX {\r\n\r\n    /**\r\n     * Class constructor\r\n     *\r\n     * @returns {null}\r\n     */\r\n    constructor() {\r\n        this.baseUrl = 'https://api.pinterest.com/';\r\n        this.apiVersion = 'v1/';\r\n    }\r\n\r\n    /**\r\n     * Build the URL of the appropriate API being called\r\n     *\r\n     * @param {string}  endpoint The API endpoint being queried\r\n     *\r\n     * @returns {string}\r\n     * @private\r\n     */\r\n    _buildUrl(endpoint) {\r\n        return this.baseUrl + this.apiVersion + endpoint;\r\n    }\r\n\r\n    /**\r\n     * Execute the API query\r\n     *\r\n     * @param {string} endpoint The API endpoint to be queried\r\n     * @param {Object} data     Any additional data required\r\n     * @param {string} type     The type of request being made. E.g. GET, POST etc\r\n     *\r\n     * @returns {Promise}\r\n     * @private\r\n     */\r\n    _fetch(endpoint, data, type) {\r\n        return new Promise((resolve, reject) => {\r\n            const url = this._buildUrl(endpoint);\r\n\r\n            ajax({\r\n                url: url,\r\n                type: type,\r\n                dataType: 'json',\r\n                data: data,\r\n                success: (response) => {\r\n                    resolve(response);\r\n                },\r\n                error: (response) => {\r\n                    reject(response);\r\n                }\r\n            });\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Helper function for performing a GET request\r\n     *\r\n     * @param {string} endpoint The API endpoint to be queried\r\n     * @param {Object} data     Additional data to be sent with the request\r\n     *\r\n     * @returns {Promise}\r\n     */\r\n    static Get(endpoint, data) {\r\n        return new Promise((resolve, reject) => {\r\n            const ajax = new AJAX();\r\n            ajax._fetch(endpoint, data, 'GET')\r\n                .then(resolve)\r\n                .catch(reject);\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Helper function for performing a POST request\r\n     *\r\n     * @param {string} endpoint The API endpoint to be queried\r\n     * @param {Object} data     Additional data to be sent with the request\r\n     *\r\n     * @returns {Promise}\r\n     */\r\n    static Post(endpoint, data) {\r\n        return new Promise((resolve, reject) => {\r\n            const ajax = new AJAX();\r\n            ajax._fetch(endpoint, data, 'POST')\r\n                .then(resolve)\r\n                .catch(reject);\r\n        });\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/services/AJAX.js","/* Bulk Pinner - Create multiple pins in your Pinterest boards at once\r\n * Copyright (C) 2017 Luke Denton\r\n *\r\n * This program is free software: you can redistribute it and/or modify\r\n * it under the terms of the GNU General Public License as published by\r\n * the Free Software Foundation; either version 3 of the License, or\r\n * (at your option) any later version.\r\n *\r\n * This program is distributed in the hope that it will be useful,\r\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n * GNU General Public License for more details.\r\n *\r\n * You should have received a copy of the GNU General Public License\r\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\r\n */\r\n\r\n/**\r\n * Class ErrorUtil\r\n *\r\n * Interface for abstracting the error reporting service\r\n */\r\nexport default class ErrorUtil {\r\n\r\n    /**\r\n     * Log an error to the bug tracking system\r\n     *\r\n     * @param {Error}  error   A description of the error\r\n     * @param {Object} options Extra details of the error\r\n     *\r\n     * @returns {null}\r\n     */\r\n    static Log(error, options) {\r\n        if (window.location.origin === 'https://bulkpinner.github.io') {\r\n            bugsnagClient.notify(error, options);\r\n        } else {\r\n            console.error(error);\r\n            console.error(options);\r\n        }\r\n    }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/services/ErrorUtil.js","/* Bulk Pinner - Create multiple pins in your Pinterest boards at once\n * Copyright (C) 2017 Luke Denton\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation; either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport CustomEvent from 'services/CustomEvent';\nimport API from 'services/API';\nimport DataStore from 'services/DataStore';\nimport PinPreview from 'PinPreview';\nimport Mousetrap from 'mousetrap';\nimport debounce from 'debounce';\nimport Analytics from 'services/Analytics';\nimport Sidebar from 'views/Sidebar';\n\n/**\n * Class Application\n */\nexport default class Application {\n\n    constructor() {\n        this.previewsPinsContainer = document.querySelector('.preview-pins-container');\n        this.imageSelectContainer = document.querySelector(\".image-select-container\");\n        this.pinsContainer = document.querySelector('.pins-container');\n        this.sendToPinterestButton = document.querySelector('.send-to-pinterest');\n        this.sendAllToBoardSelect = document.getElementById('send-all-to-board');\n        this.fileUploadInput = document.getElementById(\"fileToUpload\");\n        this.modalOverlay = document.querySelector('.modal-overlay');\n        this.userActionMenuToggle = document.querySelector('.user-action-menu-toggle');\n        this.userActionsContainer = document.querySelector('.user-actions-container');\n        this.refreshBoardsButtons = document.querySelectorAll('.action__refresh-boards');\n        this.clearButtons    = document.querySelectorAll(\".action__clear-completed\");\n        this.clearAllButtons = document.querySelectorAll(\".action__clear-all\");\n        this.disconnectButtons = document.querySelectorAll('.action__disconnect');\n        this.pinPreviews = [];\n\n        this.sidebar = new Sidebar('.sidebar');\n\n        // Wait until the user is authenticated before showing the main application interface\n        CustomEvent.on('user-authenticated', () => {\n            this.init();\n        });\n    }\n\n    /**\n     * @returns {null}\n     */\n    init() {\n        this.showApplicationContainer();\n        this.attachListeners();\n        this.createKeyboardShortcuts();\n    }\n\n    /**\n     * @returns {null}\n     */\n    showApplicationContainer() {\n        this.imageSelectContainer.classList.toggle('hidden', false);\n        this.userActionsContainer.classList.toggle('hidden', false);\n    }\n\n    /**\n     * @returns {null}\n     */\n    hideApplicationContainer() {\n        this.imageSelectContainer.classList.toggle('hidden', true);\n    }\n\n    /**\n     * Attach event listeners\n     *\n     * @returns {null}\n     */\n    attachListeners() {\n        for (let i = 0 ; i < this.refreshBoardsButtons.length ; i++) {\n            let button = this.refreshBoardsButtons[i];\n            button.addEventListener('click', e => {\n                e.preventDefault();\n                this.toggleActionMenu(false);\n                this.loadBoards(true)\n                    .then(boards => {\n                        this.populateBoardNames(boards);\n                    })\n                    .catch(response => {\n                        console.error(response);\n                    });\n                Analytics.FeatureUsed('refresh_boards');\n                this.toggleActionMenu(false);\n            });\n        }\n\n        for (let j = 0 ; j < this.clearButtons.length ; j++) {\n            let button = this.clearButtons[j];\n            button.addEventListener('click', e => {\n                e.preventDefault();\n                this.clearCompleted();\n                this.toggleActionMenu(false);\n            });\n        }\n\n        for ( let k = 0 ; k < this.clearAllButtons.length ; k++) {\n            let button = this.clearAllButtons[k];\n            button.addEventListener('click', e => {\n                e.preventDefault();\n                this.clearAll();\n                this.toggleActionMenu(false);\n            })\n        }\n\n        this.pinsContainer.addEventListener('blur', e => {\n            if (e.target.matches('.note')) {\n                e.target.classList.toggle('invalid', e.target.value !== '');\n            }\n        });\n\n        // Event listener that will handle closing any open action menus\n        document.querySelector('body').addEventListener('click', (e) => {\n            this.pinPreviews.forEach(pinPreview => {\n                if (pinPreview.actionMenuTrigger !== e.target) {\n                    pinPreview.hidePreviewActions();\n                }\n            });\n            this.toggleActionMenu(false);\n\n            if (e.target.matches('.paypal-me-link')) {\n                Analytics.LinkClicked('paypal-me');\n            }\n        });\n\n        this.sendToPinterestButton.addEventListener('click', () => {\n            if (this.validateInputs()) {\n                this.createPins();\n            }\n        });\n\n        this.sendAllToBoardSelect.addEventListener('change', e => {\n            const boardValue = e.target.value;\n\n            if (boardValue !== '') {\n                this.updateSelectedBoards(boardValue);\n                Analytics.FeatureUsed('update_selected_boards');\n            }\n        });\n\n        this.fileUploadInput.onchange = e => this.createPinPreviews(e);\n\n        document.querySelector('.privacy-policy-link').addEventListener('click', e => {\n            this.showPrivacyPolicy();\n        });\n\n        document.querySelector('.modal-overlay').addEventListener('click', e => {\n            if (e.target.classList.contains('modal-overlay')) {\n                this.hidePrivacyPolicy();\n                this.hideKeyboardShortcuts();\n                return;\n            }\n\n            if (e.target.classList.contains('close')) {\n                this.hidePrivacyPolicy();\n                this.hideKeyboardShortcuts();\n            }\n        });\n\n        // Prepare the preview pin template with names of boards to pin to\n        this.loadBoards().then(boards => {\n            this.populateBoardNames(boards);\n        });\n\n        // Listen for scroll event to check for updating the sticky-ness of the Pin button\n        document.addEventListener('scroll', debounce(() => {\n            this.updateStickyPin();\n        }, 10, false));\n\n        document.querySelector('.action-menu-toggle').addEventListener('click', (e) => {\n            e.stopImmediatePropagation();\n            this.toggleActionMenu();\n        });\n\n        // @TODO This will need to be refactored - create an action menu class that will work for both the user actions and app actions\n        this.userActionMenuToggle.addEventListener('click', e => {\n            this.userActionsContainer.classList.toggle('show-menu');\n        });\n\n        for (let l = 0 ; l < this.disconnectButtons.length ; l++) {\n            let button = this.disconnectButtons[l];\n            button.addEventListener('click', e => {\n                e.preventDefault();\n                DataStore.Remove(DataStore.DATA__ACCESS_TOKEN());\n                DataStore.Remove(DataStore.DATA__BOARDS());\n                Analytics.FeatureUsed('disconnect_pinterest');\n                location.reload();\n            });\n        }\n\n        document.querySelector('.action__copy-fill').addEventListener('click', (e) => {\n            e.preventDefault();\n            this.autofillFields();\n            this.toggleActionMenu(false);\n        });\n\n        document.querySelector('.keyboard-shortcuts').addEventListener('click', (e) => {\n            e.preventDefault();\n\n            this.showKeyboardShortcuts();\n        });\n    }\n\n    /**\n     * Clear preview pins that have been uploaded to pinterest\n     *\n     * @returns {null}\n     */\n    clearCompleted() {\n        const completedPins = document.querySelectorAll(\".preview-container[data-pinned='true']\");\n        this.clear(completedPins);\n        this.pinPreviews = this.pinPreviews.filter(preview => !preview.isPinned());\n    }\n\n    /**\n     * Clear all preview pins\n     *\n     * @returns {null}\n     */\n    clearAll() {\n        this.pinPreviews = [];\n        const previewPins = document.querySelectorAll(\".preview-container\");\n        this.clear(previewPins);\n    }\n\n    /**\n     * Remove elements from the DOM\n     *\n     * @param {NodeList} elements Array of elements to remove\n     */\n    clear(elements) {\n        for (let i = 0 ; i < elements.length ; i++) {\n            elements[i].remove();\n        }\n\n        if (document.querySelectorAll(\".preview-container\").length === 0) {\n            document.querySelector('.page-header').classList.toggle('large', true);\n            document.querySelector('.get-started').classList.toggle('hidden', false);\n            document.querySelector('.application-container').classList.toggle('expanded', false);\n            document.querySelector('.image-select-container').classList.toggle('fab-container', false);\n            document.querySelector('.label-text').innerText = 'Choose Images';\n            document.querySelector('.preview-pins-container').classList.toggle('hidden', true);\n        }\n\n        this.resetSendAllToBoard();\n        this.toggleActionMenu(false);\n\n        // Only remove the ads container if there is no more pin previews showing\n        if (this.pinPreviews.length === 0) {\n            document.querySelector('.preview-pins-aside').remove();\n        }\n    }\n\n    /**\n     * Reset the selected value in the Send all to board drop down\n     *\n     * @returns {null}\n     */\n    resetSendAllToBoard() {\n        document.querySelector(\"#send-all-to-board\").value = \"\";\n    }\n\n    /**\n     * Assign application keyboard shortcuts\n     *\n     * @returns {null}\n     */\n    createKeyboardShortcuts() {\n        // Choose/Add more pictures to pin\n        Mousetrap.bind('a', () => {\n            document.getElementById('fileToUpload').click();\n            Analytics.KeyboardShortcutUsed('add_more');\n        });\n\n        // Clear all completed (pinned) images\n        Mousetrap.bind('p c', () => {\n            document.querySelector('.clear-completed.action-button').click();\n            Analytics.KeyboardShortcutUsed('clear_completed');\n        });\n\n        // Clean all images\n        Mousetrap.bind('p x', () => {\n            document.querySelector('.clear-all.action-button').click();\n            Analytics.KeyboardShortcutUsed('clear_all');\n        });\n\n        // Show privacy policy\n        Mousetrap.bind('p p', () => {\n            document.querySelector('.privacy-policy-link').click();\n            Analytics.KeyboardShortcutUsed('show_privacy_policy');\n        });\n\n        // Show privacy policy\n        Mousetrap.bind('esc', () => {\n            this.hideKeyboardShortcuts();\n            this.hidePrivacyPolicy();\n        });\n\n        // Autofill shortcut\n        Mousetrap.bind('> > >', () => {\n            this.autofillFields();\n            Analytics.KeyboardShortcutUsed('autofill_fields');\n        });\n\n        // Show keyboard shortcuts modal\n        Mousetrap.bind('?', () => {\n            this.showKeyboardShortcuts();\n            Analytics.KeyboardShortcutUsed('show_keyboard_shortcuts_modal');\n        });\n    }\n\n    /**\n     * Loop through the images selected and create instances of the Pin Preview class for each\n     *\n     * @param {Event} e The event object\n     *\n     * @returns {null}\n     */\n    createPinPreviews(e) {\n        const input = e.target;\n\n        if (input.files.length === 0) {\n            return;\n        }\n\n        document.querySelector('.page-header').classList.toggle('large', false);\n        document.querySelector('.get-started').classList.toggle('hidden', true);\n        document.querySelector('.application-container').classList.toggle('expanded', true);\n        document.querySelector('.image-select-container').classList.toggle('fab-container', true);\n        document.querySelector('.label-text').innerText = 'Add More Images';\n        this.previewsPinsContainer.classList.toggle('hidden', false);\n\n        window.setTimeout(() => { // Allow time for the CSS animation to run before\n            // Set the breakpoint for the Pin button becoming sticky _after_ the header is back to it's small state\n            const scrollOffset = -20; // Padding changes from 30px top 10px, so that needs to be factored in\n            this.windowBreakpoint = Math.abs(document.querySelector('.action-toolbar').getBoundingClientRect().top - document.querySelector('body').getBoundingClientRect().top - scrollOffset);\n\n            for (let i = 0 ; i < input.files.length ; i++) {\n                let file = input.files[i];\n                let pinPreview = new PinPreview(file);\n                this.previewsPinsContainer.querySelector(\".pins-container\").appendChild(pinPreview.render());\n\n                // Grab the pin preview element that was just created and set it on the Pin Preview class\n                // Unable to use the returned value of appendChild, as it returns and empty DocumentFragment\n                let pinPreviews = this.previewsPinsContainer.querySelectorAll('.preview-container');\n                let instance = pinPreviews[(pinPreviews.length - 1)];\n                pinPreview.setInstance(instance);\n                pinPreview.attachListeners();\n\n                this.pinPreviews.push(pinPreview);\n            }\n\n            // Only activate the ads container if there isn't already one activated\n            if (!document.querySelector('.preview-pins-aside')) {\n                this.activateAdsenseTemplate();\n            }\n        }, 300);\n    }\n\n    /**\n     * Load the users boards\n     *\n     * @param {Boolean} forceLoad [Optional] Indicates if the API should be queried regardless of DataStore\n     *\n     * @returns {Promise}\n     */\n    loadBoards(forceLoad = false) {\n        return new Promise((resolve, reject) => {\n            const boards = DataStore.Get(DataStore.DATA__BOARDS());\n            if (boards !== null && !forceLoad) {\n                resolve(JSON.parse(boards));\n                return;\n            }\n\n            API.Boards()\n            .then((boards) => {\n                DataStore.Set(DataStore.DATA__BOARDS(), JSON.stringify(boards));\n                resolve(boards);\n            })\n            .catch((response) => {\n                reject(response);\n            });\n        });\n    }\n\n    /**\n     * Populate the <select> of board names with the names returned from Pinterest API\n     *\n     * @param {Array} boards An array of board objects\n     *\n     * @return {null}\n     */\n    populateBoardNames(boards) {\n        const boardNames = document.getElementById('preview-template').content.querySelector(\".board-names\");\n        boardNames.innerHTML = ''; // Remove the 'Loading...' option\n\n        if (boards.length === 0) {\n            let option = this.createBoardNameOptionElement({id: '', name: `You don't have any Pinterest boards!`});\n            boardNames.appendChild(option);\n            document.querySelector(\".send-to-pinterest\").classList.toggle('hidden', true); // Can't send to pinterest as the user doesn't have any boards\n            return;\n        }\n\n        // The user may have seen the message above, gone to Pinterest to create a board, and then come back to click the Refresh Boards button\n        document.querySelector(\".send-to-pinterest\").classList.toggle('hidden', false);\n\n        for (let i = 0 ; i < boards.length ; i++) {\n            let board = boards[i];\n            let option = this.createBoardNameOptionElement(board);\n            boardNames.appendChild(option);\n        }\n\n        // Update any <select> elements in preview-containers that have already been activated from the template\n        const existingBoardNameSelectors = document.querySelectorAll('.board-names');\n        for (let i = 0 ; i < existingBoardNameSelectors.length ; i++) {\n            let select = existingBoardNameSelectors[i];\n            select.innerHTML = '';\n\n            // If the board being looped is the 'send all to board', need to add the blank option\n            if (select.id === 'send-all-to-board') {\n                let option = this.createBoardNameOptionElement({name: '---', id: ''});\n                select.appendChild(option);\n            }\n\n            for (let i = 0 ; i < boards.length ; i++) {\n                let board = boards[i];\n                let option = this.createBoardNameOptionElement(board);\n                select.appendChild(option);\n            }\n        }\n    }\n\n    /**\n     * Create a new <option> element for the provided board object\n     *\n     * @param {Object} board Object representing a Pinterest board\n     *\n     * @returns {Element}\n     */\n    createBoardNameOptionElement(board) {\n        const option = document.createElement('option');\n        option.value = board.id;\n        option.innerText = board.name;\n        return option;\n    }\n\n    /**\n     * Update the selected board in each of the pin previews to match the one selected in the\n     * Send all images to board drop down\n     *\n     * @param {int} newBoard The ID value of the board to be selected\n     */\n    updateSelectedBoards(newBoard) {\n        // Loop through all existing board name selectors and update their values to match the one just selected\n        const boardNameSelectors = document.querySelectorAll('.preview-pin-board-select');\n        for (let i = 0 ; i < boardNameSelectors.length ; i++) {\n            let boardNameSelect = boardNameSelectors[i];\n\n            boardNameSelect.value = newBoard;\n        }\n    }\n\n    /**\n     * Loop through all pin previews and make sure a note has been set\n     *\n     * If a required field isn't filled in, it will be marked as invalid, but also set up with tabIndexing,\n     * so that users can click tab to easily move between only the notes that aren't filled in yet\n     *\n     * @returns {Boolean}\n     */\n    validateInputs() {\n        const previews = document.querySelectorAll('.preview-container');\n        let error = false;\n        let tabIndex = 1;\n\n        for (let i = 0 ; i < previews.length ; i++) {\n            let preview = previews[i];\n\n            const noteContainer = preview.querySelector(\".note-container\");\n            const note = noteContainer.querySelector(\".note\").value;\n\n            if (note === '') {\n                let note = preview.querySelector('.note');\n                note.classList.toggle('invalid', true);\n                note.tabIndex = tabIndex;\n                if (tabIndex === 1) {\n                    note.focus();\n                    noteContainer.dataset.balloon = noteContainer.dataset.tooltip;\n\n                    // @todo: This needs to be cleaned up and removed from here. Also need to make sure it only triggers once\n                    note.addEventListener('blur', e => {\n                        noteContainer.removeAttribute('data-balloon');\n                    });\n                }\n                tabIndex++;\n                error = true;\n            }\n        }\n\n        return error === false;\n    }\n\n    /**\n     * Loop through all of the <img> elements, and call the API function to create a pin,\n     * with all the relevant information\n     *\n     * @returns {null}\n     */\n    createPins() {\n        for (let pinPreview of this.pinPreviews) {\n            // Skip any images that have already been pinned in this session\n            if (pinPreview.instance.dataset.pinned) {\n                continue;\n            }\n\n            pinPreview.createPin();\n        }\n    }\n\n    /**\n     * Display the privacy policy modal\n     *\n     * @returns {null}\n     */\n    showPrivacyPolicy() {\n        this.modalOverlay.classList.remove('hidden');\n        this.modalOverlay.querySelector('.privacy-policy-modal').classList.remove('hidden');\n    }\n\n    /**\n     * Hide the privacy policy modal\n     *\n     * @returns {null}\n     */\n    hidePrivacyPolicy() {\n        this.modalOverlay.classList.add('hidden');\n        this.modalOverlay.querySelector('.privacy-policy-modal').classList.add('hidden');\n    }\n\n    /**\n     * Display the keyboard shortcuts modal\n     *\n     * @returns {null}\n     */\n    showKeyboardShortcuts() {\n        this.modalOverlay.classList.remove('hidden');\n        this.modalOverlay.querySelector('.keyboard-shortcuts-modal').classList.remove('hidden');\n    }\n\n    /**\n     * Hide the keyboard shortcuts modal\n     *\n     * @returns {null}\n     */\n    hideKeyboardShortcuts() {\n        this.modalOverlay.classList.add('hidden');\n        this.modalOverlay.querySelector('.keyboard-shortcuts-modal').classList.add('hidden');\n    }\n\n    /**\n     * Auto fill the note and link fields from the first Pin Preview element, to the rest of the Pin Preview elements\n     *\n     * @returns {null}\n     */\n    autofillFields() {\n        if (this.pinPreviews.length === 0) {\n            return;\n        }\n\n        const noteField = this.pinPreviews[0].instance.querySelector(\"#note\").value;\n        const linkField = this.pinPreviews[0].instance.querySelector(\".link\").value;\n\n        for (let pinPreview of this.pinPreviews) {\n            pinPreview.setNote(noteField);\n            pinPreview.setLink(linkField);\n        }\n    }\n\n    /**\n     * Check for and enable/disable the Pin button from being sticky\n     *\n     * @returns {null}\n     */\n    updateStickyPin() {\n        if (window.pageYOffset >= this.windowBreakpoint) {\n            document.querySelector('.action-toolbar').classList.toggle('sticky', true);\n            document.querySelector('.preview-pins-container').classList.toggle('toolbar-is-sticky', true);\n        } else {\n            document.querySelector('.action-toolbar').classList.toggle('sticky', false);\n            document.querySelector('.preview-pins-container').classList.toggle('toolbar-is-sticky', false);\n        }\n    }\n\n    /**\n     * Activate the Google Adsense HTML template\n     *\n     * @returns {null}\n     */\n    activateAdsenseTemplate() {\n        const template = document.querySelector('#adsense-template');\n        const clone = document.importNode(template.content, true);\n        document.querySelector('.preview-pins-container').insertBefore(clone, document.querySelector('.pins-container'))\n    }\n\n    /**\n     * Toggle the state of the action menu\n     *\n     * @param {boolean|undefined} show [Optional] True/false to force show/hide the menu\n     *                                 No value passed and the menu will just toggle\n     *\n     * @returns {null}\n     */\n    toggleActionMenu(show = undefined) {\n        this.sidebar.toggle(show);\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/views/Application.js","/* Bulk Pinner - Create multiple pins in your Pinterest boards at once\n * Copyright (C) 2017 Luke Denton\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation; either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport CustomEvent from 'services/CustomEvent';\nimport API from 'services/API';\nimport DataStore from 'services/DataStore';\n\n/**\n * Class Authorization\n */\nexport default class Authorization {\n\n    constructor() {\n        this.authenticationContainer = document.querySelector(\".authentication-container\");\n        this.authenticationButton    = document.querySelector(\".authenticate-button\");\n\n        // Listen for the instruction that the user isn't authenticated yet\n        CustomEvent.on('user-not-authenticated', () => {\n            this.init();\n        });\n    }\n\n    /**\n     * Initialise the authorization section of the application\n     *\n     * @returns {null}\n     */\n    init() {\n        this.showAuthenticationContainer();\n        this.attachListeners();\n    }\n\n    /**\n     * @returns {null}\n     */\n    showAuthenticationContainer() {\n        this.authenticationContainer.classList.toggle('hidden', false);\n        CustomEvent.trigger('authentication-shown');\n    }\n\n    /**\n     * @returns {null}\n     */\n    hideAuthenticationContainer() {\n        this.authenticationContainer.classList.toggle('hidden', true);\n        CustomEvent.trigger('authentication-hidden');\n    }\n\n    /**\n     * Attach event listeners\n     *\n     * @returns {null}\n     */\n    attachListeners() {\n        this.authenticationButton.addEventListener('click', () => {\n            API.Login()\n            .then(({accessToken}) => {\n                DataStore.Set(DataStore.DATA__ACCESS_TOKEN(), accessToken);\n                CustomEvent.trigger('user-authenticated');\n            })\n            .catch((response) => {\n                console.error(response);\n            });\n        });\n\n        // Make sure the authentication container is hidden if the application container gets shown\n        CustomEvent.on('user-authenticated', e => {\n            this.hideAuthenticationContainer();\n        });\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/views/Authorization.js","/* Bulk Pinner - Create multiple pins in your Pinterest boards at once\r\n * Copyright (C) 2017 Luke Denton\r\n *\r\n * This program is free software: you can redistribute it and/or modify\r\n * it under the terms of the GNU General Public License as published by\r\n * the Free Software Foundation; either version 3 of the License, or\r\n * (at your option) any later version.\r\n *\r\n * This program is distributed in the hope that it will be useful,\r\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n * GNU General Public License for more details.\r\n *\r\n * You should have received a copy of the GNU General Public License\r\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\r\n */\r\n\r\n/**\r\n * Class Sidebar\r\n */\r\nexport default class Sidebar {\r\n\r\n    constructor(selector) {\r\n        this.element = document.querySelector(selector);\r\n        this.attachEventListeners();\r\n    }\r\n\r\n    attachEventListeners() {\r\n        this.element.querySelector('.sidebar-close').addEventListener('click', (e) => {\r\n            e.preventDefault();\r\n            this.hide();\r\n        });\r\n    }\r\n\r\n    /**\r\n     *\r\n     * Toggle the visibility of the sidebar menu\r\n     *\r\n     * @param show [Optional] Boolean for forcing the visibility\r\n     *\r\n     * @returns {null}\r\n     */\r\n    toggle(show = undefined) {\r\n        this.element.classList.toggle('is-active', show);\r\n    }\r\n\r\n    /**\r\n     * Show the sidebar\r\n     *\r\n     * @returns {null}\r\n     */\r\n    show() {\r\n        this.toggle(true);\r\n    }\r\n\r\n    /**\r\n     * Hide the sidebar\r\n     *\r\n     * @returns {null}\r\n     */\r\n    hide() {\r\n        this.toggle(false);\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/views/Sidebar.js"],"sourceRoot":""}